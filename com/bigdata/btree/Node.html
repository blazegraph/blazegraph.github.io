<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Wed Jan 20 23:38:44 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Node (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Node (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Node.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/btree/MyHardReferenceQueue.html" title="class in com.bigdata.btree"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/btree/NodeSerializer.html" title="class in com.bigdata.btree"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/btree/Node.html" target="_top">Frames</a></li>
<li><a href="Node.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_com.bigdata.btree.AbstractNode">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.btree</div>
<h2 title="Class Node" class="title">Class Node</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/btree/PO.html" title="class in com.bigdata.btree">com.bigdata.btree.PO</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">com.bigdata.btree.AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</li>
<li>
<ul class="inheritance">
<li>com.bigdata.btree.Node</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html" title="interface in com.bigdata.btree.data">IAbstractNodeData</a>, <a href="../../../com/bigdata/btree/data/IChildData.html" title="interface in com.bigdata.btree.data">IChildData</a>, <a href="../../../com/bigdata/btree/data/IKeysData.html" title="interface in com.bigdata.btree.data">IKeysData</a>, <a href="../../../com/bigdata/btree/data/INodeData.html" title="interface in com.bigdata.btree.data">INodeData</a>, <a href="../../../com/bigdata/btree/data/ISpannedTupleCountData.html" title="interface in com.bigdata.btree.data">ISpannedTupleCountData</a>, <a href="../../../com/bigdata/btree/data/ITreeNodeData.html" title="interface in com.bigdata.btree.data">ITreeNodeData</a>, <a href="../../../com/bigdata/btree/IAbstractNode.html" title="interface in com.bigdata.btree">IAbstractNode</a>, <a href="../../../com/bigdata/btree/IDirty.html" title="interface in com.bigdata.btree">IDirty</a>, <a href="../../../com/bigdata/btree/IIdentityAccess.html" title="interface in com.bigdata.btree">IIdentityAccess</a>, <a href="../../../com/bigdata/io/IDataRecordAccess.html" title="interface in com.bigdata.io">IDataRecordAccess</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../com/bigdata/btree/IndexSegment.ImmutableNodeFactory.ImmutableNode.html" title="class in com.bigdata.btree">IndexSegment.ImmutableNodeFactory.ImmutableNode</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">Node</span>
extends <a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;
implements <a href="../../../com/bigdata/btree/data/INodeData.html" title="interface in com.bigdata.btree.data">INodeData</a></pre>
<div class="block"><p>
 A non-leaf node.
 </p>
 <h2>Per-child min/max revision timestamps and timestamp revision filtering</h2>
 
 In order to track the min/max timestamp on the <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a> we must also
 track the min/max timestamp for each direct child of that <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a>. While
 this inflates the size of the <a href="../../../com/bigdata/btree/data/INodeData.html" title="interface in com.bigdata.btree.data"><code>INodeData</code></a> data record considerably, we
 are required to track those per-child data in order to avoid a scan of the
 children when we need to recompute the min/max timestamp for the <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a>
 . The IO latency costs of that scan are simply not acceptable, especially for
 large branching factors. The min/max timestamp on the <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a> is ONLY
 used for filtering iterators based on a desired tuple revision range. This is
 why the choice to support tuple revision filters is its own configuration
 option.
 
 FIXME An alternative to per-child min/max tuple revision timestamps would be
 the concurrent materialization of the direct children. These data are only
 mutable for B+Tree instances with relatively small branching factors. They
 are immutable for the <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a>. However, the per-<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a>
 min/max timestamp also make the tuple revision filtering more efficient since
 we can prune the search before we materialize the child.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.btree.AbstractNode">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a></h3>
<code><a href="../../../com/bigdata/btree/AbstractNode.html#btree">btree</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#DEBUG">DEBUG</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#log">log</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#parent">parent</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#referenceCount">referenceCount</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#self">self</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.btree.PO">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/PO.html" title="class in com.bigdata.btree">PO</a></h3>
<code><a href="../../../com/bigdata/btree/PO.html#deleted">deleted</a>, <a href="../../../com/bigdata/btree/PO.html#dirty">dirty</a>, <a href="../../../com/bigdata/btree/PO.html#identity">identity</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.btree.IIdentityAccess">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/IIdentityAccess.html" title="interface in com.bigdata.btree">IIdentityAccess</a></h3>
<code><a href="../../../com/bigdata/btree/IIdentityAccess.html#NULL">NULL</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#Node(com.bigdata.btree.AbstractBTree,%20long,%20com.bigdata.btree.data.INodeData)">Node</a></strong>(<a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a>&nbsp;btree,
    long&nbsp;addr,
    <a href="../../../com/bigdata/btree/data/INodeData.html" title="interface in com.bigdata.btree.data">INodeData</a>&nbsp;data)</code>
<div class="block">De-serialization constructor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#Node(com.bigdata.btree.BTree)">Node</a></strong>(<a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a>&nbsp;btree)</code>
<div class="block">Used to create a new node when a node is split.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#Node(com.bigdata.btree.BTree,%20com.bigdata.btree.AbstractNode,%20long)">Node</a></strong>(<a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a>&nbsp;btree,
    <a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;oldRoot,
    long&nbsp;nentries)</code>
<div class="block">This constructor is used when splitting the a root <a href="../../../com/bigdata/btree/Leaf.html" title="class in com.bigdata.btree"><code>Leaf</code></a> or a root
 <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#Node(com.bigdata.btree.Node,%20long)">Node</a></strong>(<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&nbsp;src,
    long&nbsp;triggeredByChildId)</code>
<div class="block">Copy constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#childIterator(boolean)">childIterator</a></strong>(boolean&nbsp;dirtyNodesOnly)</code>
<div class="block">Iterator visits the direct child nodes in the external key ordering.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#childIterator(byte[],%20byte[])">childIterator</a></strong>(byte[]&nbsp;fromKey,
             byte[]&nbsp;toKey)</code>
<div class="block">Iterator visits the direct child nodes in the external key ordering.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/io/AbstractFixedByteArrayBuffer.html" title="class in com.bigdata.io">AbstractFixedByteArrayBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#data()">data</a></strong>()</code>
<div class="block">The coded (aka compressed) data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#delete()">delete</a></strong>()</code>
<div class="block">Deletes the persistence capable object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#dump(org.apache.log4j.Level,%20java.io.PrintStream,%20int,%20boolean)">dump</a></strong>(org.apache.log4j.Level&nbsp;level,
    <a href="http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html?is-external=true" title="class or interface in java.io">PrintStream</a>&nbsp;out,
    int&nbsp;height,
    boolean&nbsp;recursive)</code>
<div class="block">Dump the data onto the <a href="http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html?is-external=true" title="class or interface in java.io"><code>PrintStream</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#findChild(byte[])">findChild</a></strong>(byte[]&nbsp;searchKey)</code>
<div class="block">Return the index of the child to be searched.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getChild(int)">getChild</a></strong>(int&nbsp;index)</code>
<div class="block">Return the child node or leaf at the specified index in this node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getChildAddr(int)">getChildAddr</a></strong>(int&nbsp;index)</code>
<div class="block">Return the persistent addresses of the specified child node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getChildCount()">getChildCount</a></strong>()</code>
<div class="block">The #of children of this node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getChildEntryCount(int)">getChildEntryCount</a></strong>(int&nbsp;index)</code>
<div class="block">Return the #of tuples spanned by the indicated child of this node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ref/Reference.html?is-external=true" title="class or interface in java.lang.ref">Reference</a>&lt;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;?&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getChildRef(int)">getChildRef</a></strong>(int&nbsp;index)</code>
<div class="block">Return the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ref/Reference.html?is-external=true" title="class or interface in java.lang.ref"><code>Reference</code></a> for the child.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/data/INodeData.html" title="interface in com.bigdata.btree.data">INodeData</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getDelegate()">getDelegate</a></strong>()</code>
<div class="block">Return the delegate <a href="../../../com/bigdata/btree/data/IAbstractNodeData.html" title="interface in com.bigdata.btree.data"><code>IAbstractNodeData</code></a> object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getIndexOf(com.bigdata.btree.AbstractNode)">getIndexOf</a></strong>(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;child)</code>
<div class="block">Return the index of the child among the direct children of this node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getKeyCount()">getKeyCount</a></strong>()</code>
<div class="block">Return the #of keys in the node or leaf.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/raba/IRaba.html" title="interface in com.bigdata.btree.raba">IRaba</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getKeys()">getKeys</a></strong>()</code>
<div class="block">The object used to contain and manage the keys.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getLeftSibling(com.bigdata.btree.AbstractNode,%20boolean)">getLeftSibling</a></strong>(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;child,
              boolean&nbsp;materialize)</code>
<div class="block">Return the left sibling.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getMaximumVersionTimestamp()">getMaximumVersionTimestamp</a></strong>()</code>
<div class="block">The most recent tuple revision timestamp associated with any tuple
 spanned by this node or leaf.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getMinimumVersionTimestamp()">getMinimumVersionTimestamp</a></strong>()</code>
<div class="block">The earliest tuple revision timestamp associated with any tuple spanned
 by this node or leaf.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getRightMostChild(boolean)">getRightMostChild</a></strong>(boolean&nbsp;nodesOnly)</code>
<div class="block">Return the right-most child of this node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getRightSibling(com.bigdata.btree.AbstractNode,%20boolean)">getRightSibling</a></strong>(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;child,
               boolean&nbsp;materialize)</code>
<div class="block">Return the right sibling of the specified child of a common parent.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#getSpannedTupleCount()">getSpannedTupleCount</a></strong>()</code>
<div class="block">The #of tuples spanned by this node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#hasVersionTimestamps()">hasVersionTimestamps</a></strong>()</code>
<div class="block">Return <code>true</code> iff the leaves maintain tuple revision
 timestamps.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#indexOf(byte[])">indexOf</a></strong>(byte[]&nbsp;key)</code>
<div class="block">Recursive search locates the appropriate leaf and returns the index
 position of the entry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#insert(byte[],%20byte[],%20boolean,%20boolean,%20long,%20com.bigdata.btree.Tuple)">insert</a></strong>(byte[]&nbsp;key,
      byte[]&nbsp;value,
      boolean&nbsp;delete,
      boolean&nbsp;putIfAbsent,
      long&nbsp;timestamp,
      <a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a>&nbsp;tuple)</code>
<div class="block">Insert or update a value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#insertChild(byte[],%20com.bigdata.btree.AbstractNode)">insertChild</a></strong>(byte[]&nbsp;key,
           <a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;child)</code>
<div class="block">Invoked by <a href="../../../com/bigdata/btree/AbstractNode.html#split()"><code>AbstractNode.split()</code></a> to insert a key and reference for
 a child created when another child of this node is split.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#isCoded()">isCoded</a></strong>()</code>
<div class="block"><code>true</code> iff this is a coded data structure.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#isLeaf()">isLeaf</a></strong>()</code>
<div class="block">Always returns <code>false</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#isReadOnly()">isReadOnly</a></strong>()</code>
<div class="block">The result depends on the backing <a href="../../../com/bigdata/btree/data/INodeData.html" title="interface in com.bigdata.btree.data"><code>INodeData</code></a> implementation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#keyAt(long)">keyAt</a></strong>(long&nbsp;entryIndex)</code>
<div class="block">Recursive search for the key at the specified entry index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#lookup(byte[],%20com.bigdata.btree.Tuple)">lookup</a></strong>(byte[]&nbsp;key,
      <a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a>&nbsp;tuple)</code>
<div class="block">Lookup a key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#maxKeys()">maxKeys</a></strong>()</code>
<div class="block">Return <code>branchingFactor - 1</code>, which is the maximum #of keys
 for a <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#merge(com.bigdata.btree.AbstractNode,%20boolean)">merge</a></strong>(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;sibling,
     boolean&nbsp;isRightSibling)</code>
<div class="block">Merge the keys and values from the sibling into this node, delete the
 sibling from the store and remove the sibling from the parent.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#minKeys()">minKeys</a></strong>()</code>
<div class="block">Return <code>((branchingFactor + 1) &lt;&lt; 1) - 1</code></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#postOrderIterator(byte[],%20byte[])">postOrderIterator</a></strong>(byte[]&nbsp;fromKey,
                 byte[]&nbsp;toKey)</code>
<div class="block">Iterator visits children in the specified half-open key range,
 recursively expanding each child with a post-order traversal of its
 children and finally visits this node itself.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#postOrderNodeIterator(boolean,%20boolean)">postOrderNodeIterator</a></strong>(boolean&nbsp;dirtyNodesOnly,
                     boolean&nbsp;nodesOnly)</code>
<div class="block">Iterator visits children, recursively expanding each child with a
 post-order traversal of its children and finally visits this node itself.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#prefetchChildLeaves(com.bigdata.btree.Node,%20byte[],%20byte[])">prefetchChildLeaves</a></strong>(<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&nbsp;node,
                   byte[]&nbsp;fromKey,
                   byte[]&nbsp;toKey)</code>
<div class="block">When we visit a node whose children are leaves, schedule memoization of
 those leaves whose separator key in the node is LT the toKey
 (non-blocking).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#prefetchRightSibling(com.bigdata.btree.Node,%20byte[])">prefetchRightSibling</a></strong>(<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&nbsp;node,
                    byte[]&nbsp;toKey)</code>
<div class="block">If the caller's <i>toKey</i> is GT the separator keys for the children of
 this node then the iterator will need to visit the rightSibling of the
 node and this method will schedule the memoization of the node's
 rightSibling in order to reduce the IO latency when the iterator visit
 that rightSibling (non-blocking).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#rangeCheckChildIndex(int)">rangeCheckChildIndex</a></strong>(int&nbsp;index)</code>
<div class="block">Range check a child index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#rangeCheckSpannedTupleIndex(long)">rangeCheckSpannedTupleIndex</a></strong>(long&nbsp;entryIndex)</code>
<div class="block">Range check an index into the keys of the node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#redistributeKeys(com.bigdata.btree.AbstractNode,%20boolean)">redistributeKeys</a></strong>(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;sibling,
                boolean&nbsp;isRightSibling)</code>
<div class="block">Redistributes a key from the specified sibling into this node in order to
 bring this node up to the minimum #of keys.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#remove(byte[],%20com.bigdata.btree.Tuple)">remove</a></strong>(byte[]&nbsp;key,
      <a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a>&nbsp;tuple)</code>
<div class="block">Recursive search locates the appropriate leaf and removes the entry for
 the key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#removeChild(com.bigdata.btree.AbstractNode)">removeChild</a></strong>(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;child)</code>
<div class="block">Invoked when a non-root node or leaf has no more keys to detach the child
 from its parent.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/btree/IAbstractNode.html" title="interface in com.bigdata.btree">IAbstractNode</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#split()">split</a></strong>()</code>
<div class="block">
 Split an over-capacity node (a node with <code>maxKeys+1</code> keys),
 creating a new rightSibling.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#toString()">toString</a></strong>()</code>
<div class="block">Human readable representation of the <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#updateEntryCount(com.bigdata.btree.AbstractNode,%20long)">updateEntryCount</a></strong>(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;?&gt;&nbsp;child,
                long&nbsp;delta)</code>
<div class="block">Apply the delta to the per-child count for this node and then recursively
 ascend up the tree applying the delta to all ancestors of this node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#updateMinMaxVersionTimestamp(com.bigdata.btree.AbstractNode)">updateMinMaxVersionTimestamp</a></strong>(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;?&gt;&nbsp;child)</code>
<div class="block">Update the <a href="../../../com/bigdata/btree/Node.html#getMinimumVersionTimestamp()"><code>getMinimumVersionTimestamp()</code></a> and
 <a href="../../../com/bigdata/btree/Node.html#getMaximumVersionTimestamp()"><code>getMaximumVersionTimestamp()</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/Node.html#valueAt(long,%20com.bigdata.btree.Tuple)">valueAt</a></strong>(long&nbsp;entryIndex,
       <a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a>&nbsp;tuple)</code>
<div class="block">Recursive search for the value at the specified entry index.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.btree.AbstractNode">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a></h3>
<code><a href="../../../com/bigdata/btree/AbstractNode.html#assertInvariants()">assertInvariants</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#assertKeysMonotonic()">assertKeysMonotonic</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#copyKey(int,%20com.bigdata.btree.raba.IRaba,%20int)">copyKey</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#copyOnWrite()">copyOnWrite</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#copyOnWrite(long)">copyOnWrite</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#dump(org.apache.log4j.Level,%20java.io.PrintStream)">dump</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#dump(java.io.PrintStream)">dump</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#entryIterator()">entryIterator</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#getBranchingFactor()">getBranchingFactor</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#getParent()">getParent</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#isLeftMostNode()">isLeftMostNode</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#isRightMostNode()">isRightMostNode</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#join()">join</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#keyAsString(byte[])">keyAsString</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#postOrderNodeIterator()">postOrderNodeIterator</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#postOrderNodeIterator(boolean)">postOrderNodeIterator</a>, <a href="../../../com/bigdata/btree/AbstractNode.html#rangeIterator(byte[],%20byte[],%20int)">rangeIterator</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.btree.PO">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/PO.html" title="class in com.bigdata.btree">PO</a></h3>
<code><a href="../../../com/bigdata/btree/PO.html#getIdentity()">getIdentity</a>, <a href="../../../com/bigdata/btree/PO.html#indent(int)">indent</a>, <a href="../../../com/bigdata/btree/PO.html#isDeleted()">isDeleted</a>, <a href="../../../com/bigdata/btree/PO.html#isDirty()">isDirty</a>, <a href="../../../com/bigdata/btree/PO.html#isPersistent()">isPersistent</a>, <a href="../../../com/bigdata/btree/PO.html#setDirty(boolean)">setDirty</a>, <a href="../../../com/bigdata/btree/PO.html#setIdentity(long)">setIdentity</a>, <a href="../../../com/bigdata/btree/PO.html#toShortString()">toShortString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Node(com.bigdata.btree.AbstractBTree, long, com.bigdata.btree.data.INodeData)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Node</h4>
<pre>protected&nbsp;Node(<a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a>&nbsp;btree,
    long&nbsp;addr,
    <a href="../../../com/bigdata/btree/data/INodeData.html" title="interface in com.bigdata.btree.data">INodeData</a>&nbsp;data)</pre>
<div class="block">De-serialization constructor.
 <p>
 Note: The de-serialization constructor (and ONLY the de-serialization
 constructor) ALWAYS creates a clean node. Therefore the <a href="../../../com/bigdata/btree/PO.html#dirty"><code>PO.dirty</code></a>
 flag passed up from this constructor has the value <code>false</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>btree</code> - The tree to which the node belongs.</dd><dd><code>addr</code> - The persistent identity of the node.</dd><dd><code>data</code> - The data record.</dd></dl>
</li>
</ul>
<a name="Node(com.bigdata.btree.BTree)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Node</h4>
<pre>protected&nbsp;Node(<a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a>&nbsp;btree)</pre>
<div class="block">Used to create a new node when a node is split.</div>
</li>
</ul>
<a name="Node(com.bigdata.btree.BTree, com.bigdata.btree.AbstractNode, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Node</h4>
<pre>protected&nbsp;Node(<a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a>&nbsp;btree,
    <a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;oldRoot,
    long&nbsp;nentries)</pre>
<div class="block">This constructor is used when splitting the a root <a href="../../../com/bigdata/btree/Leaf.html" title="class in com.bigdata.btree"><code>Leaf</code></a> or a root
 <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a>. The resulting node has a single child reference and NO
 keys. The #of entries allocated to the child is the #of remaining in that
 child <em>after</em> the split.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>btree</code> - A mutable btree.</dd><dd><code>oldRoot</code> - The node that was previously the root of the tree (either a
            node or a leaf).</dd><dd><code>nentries</code> - The #of entries spanned by the oldRoot <em>before</em> the
            split.</dd></dl>
</li>
</ul>
<a name="Node(com.bigdata.btree.Node, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Node</h4>
<pre>protected&nbsp;Node(<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&nbsp;src,
    long&nbsp;triggeredByChildId)</pre>
<div class="block">Copy constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>src</code> - The source node (must be immutable).</dd><dd><code>triggeredByChildId</code> - The persistent identity of the child that triggered the copy
            constructor. This should be the immutable child NOT the one
            that was already cloned. This information is used to avoid
            stealing the original child since we already made a copy of
            it. It is <a href="../../../com/bigdata/btree/IIdentityAccess.html#NULL"><code>IIdentityAccess.NULL</code></a> when this information is not
            available, e.g., when the copyOnWrite action is triggered by a
            join() and we are cloning the sibling before we redistribute a
            key to the node/leaf on which the join was invoked.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="minKeys()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>minKeys</h4>
<pre>protected final&nbsp;int&nbsp;minKeys()</pre>
<div class="block">Return <code>((branchingFactor + 1) &lt;&lt; 1) - 1</code></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#minKeys()">minKeys</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="maxKeys()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxKeys</h4>
<pre>protected final&nbsp;int&nbsp;maxKeys()</pre>
<div class="block">Return <code>branchingFactor - 1</code>, which is the maximum #of keys
 for a <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#maxKeys()">maxKeys</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="rangeCheckChildIndex(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rangeCheckChildIndex</h4>
<pre>protected final&nbsp;boolean&nbsp;rangeCheckChildIndex(int&nbsp;index)</pre>
<div class="block">Range check a child index.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>index</code> - The index of a child in [0:nkeys+1].</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">IndexOutOfBoundsException</a></code> - if the index is not in the legal range.</dd></dl>
</li>
</ul>
<a name="getChildRef(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChildRef</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ref/Reference.html?is-external=true" title="class or interface in java.lang.ref">Reference</a>&lt;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;?&gt;&gt;&nbsp;getChildRef(int&nbsp;index)</pre>
<div class="block">Return the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ref/Reference.html?is-external=true" title="class or interface in java.lang.ref"><code>Reference</code></a> for the child. This is part of the internal
 API.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>index</code> - The index of the child.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ref/Reference.html?is-external=true" title="class or interface in java.lang.ref"><code>Reference</code></a> for that child. This will be
         <code>null</code> if the child is not buffered. Note that a non-
         <code>null</code> return MAY still return <code>null</code> from
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ref/Reference.html?is-external=true#get()" title="class or interface in java.lang.ref"><code>Reference.get()</code></a>.</dd></dl>
</li>
</ul>
<a name="getDelegate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDelegate</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/data/INodeData.html" title="interface in com.bigdata.btree.data">INodeData</a>&nbsp;getDelegate()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html#getDelegate()">AbstractNode</a></code></strong></div>
<div class="block">Return the delegate <a href="../../../com/bigdata/btree/data/IAbstractNodeData.html" title="interface in com.bigdata.btree.data"><code>IAbstractNodeData</code></a> object.</div>
</li>
</ul>
<a name="isLeaf()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLeaf</h4>
<pre>public final&nbsp;boolean&nbsp;isLeaf()</pre>
<div class="block">Always returns <code>false</code>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#isLeaf()">isLeaf</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html" title="interface in com.bigdata.btree.data">IAbstractNodeData</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#isLeaf()">isLeaf</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="isReadOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnly</h4>
<pre>public final&nbsp;boolean&nbsp;isReadOnly()</pre>
<div class="block">The result depends on the backing <a href="../../../com/bigdata/btree/data/INodeData.html" title="interface in com.bigdata.btree.data"><code>INodeData</code></a> implementation. The
 <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a> will be mutable when it is first created and is made
 immutable when it is persisted. If there is a mutation operation, the
 backing <a href="../../../com/bigdata/btree/data/INodeData.html" title="interface in com.bigdata.btree.data"><code>INodeData</code></a> is automatically converted into a mutable
 instance.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#isReadOnly()">isReadOnly</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html" title="interface in com.bigdata.btree.data">IAbstractNodeData</a></code></dd>
</dl>
</li>
</ul>
<a name="isCoded()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCoded</h4>
<pre>public final&nbsp;boolean&nbsp;isCoded()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#isCoded()">IAbstractNodeData</a></code></strong></div>
<div class="block"><code>true</code> iff this is a coded data structure.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#isCoded()">isCoded</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html" title="interface in com.bigdata.btree.data">IAbstractNodeData</a></code></dd>
</dl>
</li>
</ul>
<a name="data()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>data</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/io/AbstractFixedByteArrayBuffer.html" title="class in com.bigdata.io">AbstractFixedByteArrayBuffer</a>&nbsp;data()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#data()">IAbstractNodeData</a></code></strong></div>
<div class="block">The coded (aka compressed) data.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#data()">data</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html" title="interface in com.bigdata.btree.data">IAbstractNodeData</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/io/IDataRecordAccess.html#data()">data</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/io/IDataRecordAccess.html" title="interface in com.bigdata.io">IDataRecordAccess</a></code></dd>
</dl>
</li>
</ul>
<a name="getKeyCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyCount</h4>
<pre>public final&nbsp;int&nbsp;getKeyCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/data/IKeysData.html#getKeyCount()">IKeysData</a></code></strong></div>
<div class="block">Return the #of keys in the node or leaf. A node has <code>nkeys+1</code>
 children. A leaf has <code>nkeys</code> keys and values. The maximum #of
 keys for a node is one less than the branching factor of the B+Tree. The
 maximum #of keys for a leaf is the branching factor of the B+Tree. For a
 hash bucket, this is the #of entries in the bucket.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/IKeysData.html#getKeyCount()">getKeyCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/IKeysData.html" title="interface in com.bigdata.btree.data">IKeysData</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of defined keys.</dd></dl>
</li>
</ul>
<a name="getKeys()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeys</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/raba/IRaba.html" title="interface in com.bigdata.btree.raba">IRaba</a>&nbsp;getKeys()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/data/IKeysData.html#getKeys()">IKeysData</a></code></strong></div>
<div class="block">The object used to contain and manage the keys.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/IKeysData.html#getKeys()">getKeys</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/IKeysData.html" title="interface in com.bigdata.btree.data">IKeysData</a></code></dd>
</dl>
</li>
</ul>
<a name="getChildCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChildCount</h4>
<pre>public final&nbsp;int&nbsp;getChildCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/data/IChildData.html#getChildCount()">IChildData</a></code></strong></div>
<div class="block">The #of children of this node. Either all children will be nodes or all
 children will be leaves. The #of children of a node MUST be
 <code><code>IAbstractNodeData#getKeyCount()</code>+1</code></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/IChildData.html#getChildCount()">getChildCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/IChildData.html" title="interface in com.bigdata.btree.data">IChildData</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of children of this node.</dd></dl>
</li>
</ul>
<a name="getSpannedTupleCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSpannedTupleCount</h4>
<pre>public final&nbsp;long&nbsp;getSpannedTupleCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/data/ISpannedTupleCountData.html#getSpannedTupleCount()">ISpannedTupleCountData</a></code></strong></div>
<div class="block">The #of tuples spanned by this node. For a leaf, the corresponding value
 is reported by <a href="../../../com/bigdata/btree/data/IKeysData.html#getKeyCount()"><code>IKeysData.getKeyCount()</code></a> or
 <a href="../../../com/bigdata/btree/data/ILeafData.html#getValueCount()"><code>ILeafData.getValueCount()</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/ISpannedTupleCountData.html#getSpannedTupleCount()">getSpannedTupleCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/ISpannedTupleCountData.html" title="interface in com.bigdata.btree.data">ISpannedTupleCountData</a></code></dd>
</dl>
</li>
</ul>
<a name="getChildAddr(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChildAddr</h4>
<pre>public final&nbsp;long&nbsp;getChildAddr(int&nbsp;index)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/data/IChildData.html#getChildAddr(int)">IChildData</a></code></strong></div>
<div class="block">Return the persistent addresses of the specified child node.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/IChildData.html#getChildAddr(int)">getChildAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/IChildData.html" title="interface in com.bigdata.btree.data">IChildData</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>index</code> - The index of the child in [0:nkeys].</dd>
<dt><span class="strong">Returns:</span></dt><dd>The persistent child address -or- zero(0L) if the child is not
         persistent.</dd></dl>
</li>
</ul>
<a name="getChildEntryCount(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChildEntryCount</h4>
<pre>public final&nbsp;long&nbsp;getChildEntryCount(int&nbsp;index)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/data/ISpannedTupleCountData.html#getChildEntryCount(int)">ISpannedTupleCountData</a></code></strong></div>
<div class="block">Return the #of tuples spanned by the indicated child of this node. The
 sum of the values returned by this method across the children of the node
 should always equal the value returned by <a href="../../../com/bigdata/btree/data/ISpannedTupleCountData.html#getSpannedTupleCount()"><code>ISpannedTupleCountData.getSpannedTupleCount()</code></a>
 . These data are used to support fast computation of the index at which a
 key occurs and the #of entries in a given key range.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/ISpannedTupleCountData.html#getChildEntryCount(int)">getChildEntryCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/ISpannedTupleCountData.html" title="interface in com.bigdata.btree.data">ISpannedTupleCountData</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>index</code> - The index of the child in [0:nkeys].</dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of tuples spanned by that child.</dd></dl>
</li>
</ul>
<a name="getMaximumVersionTimestamp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumVersionTimestamp</h4>
<pre>public final&nbsp;long&nbsp;getMaximumVersionTimestamp()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#getMaximumVersionTimestamp()">IAbstractNodeData</a></code></strong></div>
<div class="block">The most recent tuple revision timestamp associated with any tuple
 spanned by this node or leaf. If there are NO tuples for the leaf, then
 this MUST return <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true#MIN_VALUE" title="class or interface in java.lang"><code>Long.MIN_VALUE</code></a> since the initial value of the
 maximum version timestamp is always the smallest possible long integer.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#getMaximumVersionTimestamp()">getMaximumVersionTimestamp</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html" title="interface in com.bigdata.btree.data">IAbstractNodeData</a></code></dd>
</dl>
</li>
</ul>
<a name="getMinimumVersionTimestamp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinimumVersionTimestamp</h4>
<pre>public&nbsp;long&nbsp;getMinimumVersionTimestamp()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#getMinimumVersionTimestamp()">IAbstractNodeData</a></code></strong></div>
<div class="block">The earliest tuple revision timestamp associated with any tuple spanned
 by this node or leaf. If there are NO tuples for the leaf, then this MUST
 return <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true#MAX_VALUE" title="class or interface in java.lang"><code>Long.MAX_VALUE</code></a> since the initial value of the minimum
 version timestamp is always the largest possible long integer.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#getMinimumVersionTimestamp()">getMinimumVersionTimestamp</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html" title="interface in com.bigdata.btree.data">IAbstractNodeData</a></code></dd>
</dl>
</li>
</ul>
<a name="hasVersionTimestamps()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasVersionTimestamps</h4>
<pre>public final&nbsp;boolean&nbsp;hasVersionTimestamps()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#hasVersionTimestamps()">IAbstractNodeData</a></code></strong></div>
<div class="block">Return <code>true</code> iff the leaves maintain tuple revision
 timestamps. When <code>true</code>, the minimum and maximum tuple
 revision timestamp for a node or leaf are available from
 <a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#getMinimumVersionTimestamp()"><code>IAbstractNodeData.getMinimumVersionTimestamp()</code></a> and
 <a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#getMaximumVersionTimestamp()"><code>IAbstractNodeData.getMaximumVersionTimestamp()</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html#hasVersionTimestamps()">hasVersionTimestamps</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/data/IAbstractNodeData.html" title="interface in com.bigdata.btree.data">IAbstractNodeData</a></code></dd>
</dl>
</li>
</ul>
<a name="updateEntryCount(com.bigdata.btree.AbstractNode, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateEntryCount</h4>
<pre>protected final&nbsp;void&nbsp;updateEntryCount(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;?&gt;&nbsp;child,
                    long&nbsp;delta)</pre>
<div class="block">Apply the delta to the per-child count for this node and then recursively
 ascend up the tree applying the delta to all ancestors of this node. This
 is invoked solely by the methods that add and remove entries from a leaf
 as those are the only methods that change the #of entries spanned by a
 parent node. Methods that split, merge, or redistribute keys have a net
 zero effect on the #of entries spanned by the parent.
 <p>
 This also updates <a href="../../../com/bigdata/btree/Node.html#getMinimumVersionTimestamp()"><code>getMinimumVersionTimestamp()</code></a> and
 <a href="../../../com/bigdata/btree/Node.html#getMaximumVersionTimestamp()"><code>getMaximumVersionTimestamp()</code></a> iff version timestamps are enabled
 and the child has a minimum (maximum) version timestamp GE the minimum
 (maximum) version timestamp of this node.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>child</code> - The direct child.</dd><dd><code>delta</code> - The change in the #of spanned children.</dd></dl>
</li>
</ul>
<a name="updateMinMaxVersionTimestamp(com.bigdata.btree.AbstractNode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMinMaxVersionTimestamp</h4>
<pre>protected final&nbsp;void&nbsp;updateMinMaxVersionTimestamp(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;?&gt;&nbsp;child)</pre>
<div class="block">Update the <a href="../../../com/bigdata/btree/Node.html#getMinimumVersionTimestamp()"><code>getMinimumVersionTimestamp()</code></a> and
 <a href="../../../com/bigdata/btree/Node.html#getMaximumVersionTimestamp()"><code>getMaximumVersionTimestamp()</code></a>. This is invoked when the min/max
 in the child has changed without a corresponding change to the #of
 spanned tuples. E.g., when an insert() causes a tuple to be updated
 rather than added.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>child</code> - The direct child.</dd></dl>
</li>
</ul>
<a name="delete()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;void&nbsp;delete()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/IIdentityAccess.html#delete()">IIdentityAccess</a></code></strong></div>
<div class="block">Deletes the persistence capable object. Both transient and persistent
 objects may be logically deleted. If the object is persistent then its
 space on the store is deallocated.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/IIdentityAccess.html#delete()">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/IIdentityAccess.html" title="interface in com.bigdata.btree">IIdentityAccess</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#delete()">delete</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="insert(byte[], byte[], boolean, boolean, long, com.bigdata.btree.Tuple)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a>&nbsp;insert(byte[]&nbsp;key,
           byte[]&nbsp;value,
           boolean&nbsp;delete,
           boolean&nbsp;putIfAbsent,
           long&nbsp;timestamp,
           <a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a>&nbsp;tuple)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html#insert(byte[],%20byte[],%20boolean,%20boolean,%20long,%20com.bigdata.btree.Tuple)">AbstractNode</a></code></strong></div>
<div class="block">Insert or update a value.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#insert(byte[],%20byte[],%20boolean,%20boolean,%20long,%20com.bigdata.btree.Tuple)">insert</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key (non-null).</dd><dd><code>value</code> - The value (may be null).</dd><dd><code>delete</code> - <code>true</code> iff the entry is to marked as deleted
            (delete markers must be supported for if this is true).</dd><dd><code>putIfAbsent</code> - When <code>true</code>, a pre-existing entry for the key will
            NOT be replaced (unless it is a deleted tuple, which is the
            same as if there was no entry under the key). This should ONLY
            be true when the top-level method is <code>putIfAbsent</code>.
            Historical code paths should specify false for an unconditional
            mutation. See BLZG-1539.</dd><dd><code>timestamp</code> - The timestamp associated with the version (the value is
            ignored unless version metadata is being maintained).</dd><dd><code>tuple</code> - A tuple that may be used to obtain the data and metadata for
            the pre-existing index entry overwritten by the insert
            operation (optional).</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <i>tuple</i> iff there was a pre-existing entry under that
         key and <code>null</code> otherwise.</dd></dl>
</li>
</ul>
<a name="lookup(byte[], com.bigdata.btree.Tuple)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lookup</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a>&nbsp;lookup(byte[]&nbsp;key,
           <a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a>&nbsp;tuple)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html#lookup(byte[],%20com.bigdata.btree.Tuple)">AbstractNode</a></code></strong></div>
<div class="block">Lookup a key.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#lookup(byte[],%20com.bigdata.btree.Tuple)">lookup</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The search key.</dd><dd><code>tuple</code> - A tuple that may be used to obtain the data and metadata for
            the pre-existing index entry (required).</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <i>tuple</i> iff there was a pre-existing entry under that
         key and <code>null</code> otherwise.</dd></dl>
</li>
</ul>
<a name="remove(byte[], com.bigdata.btree.Tuple)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a>&nbsp;remove(byte[]&nbsp;key,
           <a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a>&nbsp;tuple)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html#remove(byte[],%20com.bigdata.btree.Tuple)">AbstractNode</a></code></strong></div>
<div class="block">Recursive search locates the appropriate leaf and removes the entry for
 the key.
 <p>
 Note: It is an error to call this method if delete markers are in use.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#remove(byte[],%20com.bigdata.btree.Tuple)">remove</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The search key.</dd><dd><code>tuple</code> - A tuple that may be used to obtain the data and metadata for
            the pre-existing index entry that was either removed by the
            remove operation (optional).</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <i>tuple</i> iff there was a pre-existing entry under that
         key and <code>null</code> otherwise.</dd></dl>
</li>
</ul>
<a name="indexOf(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexOf</h4>
<pre>public&nbsp;long&nbsp;indexOf(byte[]&nbsp;key)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html#indexOf(byte[])">AbstractNode</a></code></strong></div>
<div class="block">Recursive search locates the appropriate leaf and returns the index
 position of the entry.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#indexOf(byte[])">indexOf</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The search key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the index of the search key, if found; otherwise,
         <code>(-(insertion point) - 1)</code>. The insertion point is
         defined as the point at which the key would be found it it were
         inserted into the btree without intervening mutations. Note that
         this guarantees that the return value will be >= 0 if and only if
         the key is found.</dd></dl>
</li>
</ul>
<a name="rangeCheckSpannedTupleIndex(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rangeCheckSpannedTupleIndex</h4>
<pre>protected&nbsp;boolean&nbsp;rangeCheckSpannedTupleIndex(long&nbsp;entryIndex)</pre>
<div class="block">Range check an index into the keys of the node.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>entryIndex</code> - The key index.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">IndexOutOfBoundsException</a></code> - if the index is LT ZERO (0) -or- GTE the
             <a href="../../../com/bigdata/btree/Node.html#getSpannedTupleCount()"><code>getSpannedTupleCount()</code></a></dd></dl>
</li>
</ul>
<a name="keyAt(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyAt</h4>
<pre>public final&nbsp;byte[]&nbsp;keyAt(long&nbsp;entryIndex)</pre>
<div class="block">Recursive search for the key at the specified entry index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#keyAt(long)">keyAt</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>entryIndex</code> - The index of the entry (relative to the first entry spanned by
            this node).</dd>
<dt><span class="strong">Returns:</span></dt><dd>The key at that entry index.</dd></dl>
</li>
</ul>
<a name="valueAt(long, com.bigdata.btree.Tuple)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>valueAt</h4>
<pre>public final&nbsp;void&nbsp;valueAt(long&nbsp;entryIndex,
           <a href="../../../com/bigdata/btree/Tuple.html" title="class in com.bigdata.btree">Tuple</a>&nbsp;tuple)</pre>
<div class="block">Recursive search for the value at the specified entry index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#valueAt(long,%20com.bigdata.btree.Tuple)">valueAt</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>entryIndex</code> - The index of the entry (relative to the first entry spanned by
            this node).</dd><dd><code>tuple</code> - A tuple that may be used to obtain the data and metadata for
            the pre-existing index entry (required).</dd></dl>
</li>
</ul>
<a name="findChild(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findChild</h4>
<pre>protected final&nbsp;int&nbsp;findChild(byte[]&nbsp;searchKey)</pre>
<div class="block">Return the index of the child to be searched.
 <p>
 The interpretation of the key index for a node is as follows. When
 searching nodes of the tree, we search for the index in keys[] of the
 first key value greater than or equal (GTE) to the probe key. If the
 match is equal, then we choose the child at index + 1. Otherwise we
 choose the child having the same index as the GTE key match. For example,
 
 <pre>
 keys[]  : [ 5 9 12 ]
 child[] : [ a b  c  d ]
 </pre>
 
 A probe with keys up to <code>4</code> matches at index zero (0) and we
 choose the 1st child, a, which is at index zero (0).
 <p>
 A probe whose key is <code>5</code> matches at index zero (0) exactly and
 we choose the child at <code>index + 1</code>, b, which is at index one
 (1).
 <p>
 A probe with keys in [6:8] matches at index one (1) and we choose the 2nd
 child, b, which is at index one (1). A probe with <code>9</code> also
 matches at index one (1), but we choose <code>index+1</code> equals two
 (2) since this is an exact key match.
 <p>
 A probe with keys in [10:11] matches at index two (2) and we choose the
 3rd child, c, which is at index two (2). A probe with <code>12</code>
 also matches at index two (2), but we choose <code>index+1</code> equals
 three (3) since this is an exact key match.
 <p>
 A probe with keys greater than 12 exceeds all keys in the node and always
 matches the last child in that node. In this case, d, which is at index
 three (3).
 <p>
 Note that we never stop a search on a node, even when there is an exact
 match on a key. All values are stored in the leaves and we always descend
 until we reach the leaf in which a value for the key would be stored. A
 test on the keys of that leaf is then conclusive - either a value is
 stored in the leaf for that key or it is not stored in the tree.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>searchkey</code> - The probe key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The child to be searched next for that key.</dd></dl>
</li>
</ul>
<a name="split()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>split</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/btree/IAbstractNode.html" title="interface in com.bigdata.btree">IAbstractNode</a>&nbsp;split()</pre>
<div class="block"><p>
 Split an over-capacity node (a node with <code>maxKeys+1</code> keys),
 creating a new rightSibling. The splitIndex is <code>(maxKeys+1)/2</code>
 . The key at the splitIndex is the separatorKey. Unlike when we split a
 <a href="../../../com/bigdata/btree/Leaf.html" title="class in com.bigdata.btree"><code>Leaf</code></a>, the separatorKey is lifted into the parent and does not
 appear in either this node or the rightSibling after the split. All keys
 and child references from <code>splitIndex+1</code> (inclusive) are moved
 to the new rightSibling. The child reference at <code>splitIndex</code>
 remains in this node.
 </p>
 <p>
 If this node is the root of the tree (no parent), then a new root
 <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a> is created without any keys and is made the parent of this
 node.
 </p>
 <p>
 In any case, we then insert( separatorKey, rightSibling ) into the parent
 node, which may cause the parent node itself to split.
 </p>
 <p>
 Note: splitting a node causes entry counts for the relocated childen to
 be relocated to the new rightSibling but it does NOT change the #of
 entries on the parent.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#split()">split</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The high node (or leaf) created by the split.</dd></dl>
</li>
</ul>
<a name="redistributeKeys(com.bigdata.btree.AbstractNode, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>redistributeKeys</h4>
<pre>protected&nbsp;void&nbsp;redistributeKeys(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;sibling,
                    boolean&nbsp;isRightSibling)</pre>
<div class="block">Redistributes a key from the specified sibling into this node in order to
 bring this node up to the minimum #of keys. This also updates a separator
 key in the parent for the right most of (this, sibling).
 
 When a key is redistributed from a sibling, the key in the sibling is
 rotated into the parent where it replaces the current separatorKey and
 that separatorKey is brought down into this node. The child corresponding
 to the key is simply moved from the sibling into this node (rather than
 rotating it through the parent).
 <p>
 While redistribution changes the #of entries spanned by the node and the
 sibling and therefore must update <code>#childEntryCounts</code> on the shared
 parent, it does not change the #of entries spanned by the parent.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#redistributeKeys(com.bigdata.btree.AbstractNode,%20boolean)">redistributeKeys</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>sibling</code> - A direct sibling of this node (either the left or right
            sibling). The sibling MUST be mutable.</dd><dd><code>isRightSibling</code> - True iff the sibling is the rightSibling of this node.</dd></dl>
</li>
</ul>
<a name="merge(com.bigdata.btree.AbstractNode, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre>protected&nbsp;void&nbsp;merge(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;sibling,
         boolean&nbsp;isRightSibling)</pre>
<div class="block">Merge the keys and values from the sibling into this node, delete the
 sibling from the store and remove the sibling from the parent. This will
 trigger recursive <a href="../../../com/bigdata/btree/AbstractNode.html#join()"><code>AbstractNode.join()</code></a> if the parent node is now
 deficient. While this changes the #of entries spanned by the current node
 it does NOT effect the #of entries spanned by the parent.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#merge(com.bigdata.btree.AbstractNode,%20boolean)">merge</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>sibling</code> - A direct sibling of this node (does NOT need to be mutable).
            The sibling MUST have exactly the minimum #of keys.</dd><dd><code>isRightSibling</code> - True iff the sibling is the rightSibling of this node.</dd></dl>
</li>
</ul>
<a name="insertChild(byte[], com.bigdata.btree.AbstractNode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertChild</h4>
<pre>protected&nbsp;void&nbsp;insertChild(byte[]&nbsp;key,
               <a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;child)</pre>
<div class="block">Invoked by <a href="../../../com/bigdata/btree/AbstractNode.html#split()"><code>AbstractNode.split()</code></a> to insert a key and reference for
 a child created when another child of this node is split. This method has
 no effect on the #of entries spanned by the parent. *
 <p>
 Note: This operation is invoked only when a node or leaf is split. As
 such, it can not cause the min/max tuple revision timestamp on this
 <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a> to change since no tuples have been added or removed.
 However, this method does need to record the min/max for the new
 rightSibling.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key on which the old node was split.</dd><dd><code>child</code> - The new node.
 
            FIXME set min/max for the new child.</dd></dl>
</li>
</ul>
<a name="getLeftSibling(com.bigdata.btree.AbstractNode, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeftSibling</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;getLeftSibling(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;child,
                          boolean&nbsp;materialize)</pre>
<div class="block">Return the left sibling. This is used by implementations of
 <a href="../../../com/bigdata/btree/AbstractNode.html#join()"><code>AbstractNode.join()</code></a> to explore their left sibling.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>child</code> - The child (must be dirty).</dd><dd><code>materialize</code> - When true, the left sibling will be materialized if it exists
            but is not resident.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The left sibling or <code>null</code> if it does not exist -or-
         if it is not materialized and <code>materialized == false</code>.
         If the sibling is returned, then is NOT guaranteed to be mutable
         and the caller MUST invoke copy-on-write before attempting to
         modify the returned sibling.</dd></dl>
</li>
</ul>
<a name="getRightSibling(com.bigdata.btree.AbstractNode, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRightSibling</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;getRightSibling(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;child,
                           boolean&nbsp;materialize)</pre>
<div class="block">Return the right sibling of the specified child of a common parent. This
 method is invoked on the parent, passing in one child and returning its
 right sibling under that common parent (if any). This is used by
 implementations of <a href="../../../com/bigdata/btree/AbstractNode.html#join()"><code>AbstractNode.join()</code></a> to explore their right
 sibling.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>child</code> - The child (must be dirty).</dd><dd><code>materialize</code> - When true, the left sibling will be materialized if it exists
            but is not resident.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The left sibling or <code>null</code> if it does not exist -or-
         if it is not materialized and <code>materialized == false</code>.
         If the sibling is returned, then is NOT guaranteed to be mutable
         and the caller MUST invoke copy-on-write before attempting to
         modify the returned sibling.</dd></dl>
</li>
</ul>
<a name="getIndexOf(com.bigdata.btree.AbstractNode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexOf</h4>
<pre>protected&nbsp;int&nbsp;getIndexOf(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;child)</pre>
<div class="block">Return the index of the child among the direct children of this node.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>child</code> - The child.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The index in <a href="../../../com/bigdata/btree/Node.html#childRefs"><code>childRefs</code></a> where that child is found. This
         may also be used as an index into <code>#childAddr</code> and
         <code>#childEntryCounts</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - iff child is not a child of this node.</dd></dl>
</li>
</ul>
<a name="removeChild(com.bigdata.btree.AbstractNode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeChild</h4>
<pre>protected&nbsp;void&nbsp;removeChild(<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;child)</pre>
<div class="block">Invoked when a non-root node or leaf has no more keys to detach the child
 from its parent. If the node becomes deficient, then the node is joined
 with one of its immediate siblings. If the node is the root of the tree,
 then the root of the tree is also updated. The child is deleted as a
 post-condition.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>child</code> - The child (does NOT need to be mutable).</dd></dl>
</li>
</ul>
<a name="getChild(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChild</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;getChild(int&nbsp;index)</pre>
<div class="block">Return the child node or leaf at the specified index in this node. If the
 node is not in memory then it is read from the store.
 <p>
 Note: This implementation DOES NOT cause concurrent threads to block
 unless they are performing IO for the same child. A <a href="../../../com/bigdata/util/concurrent/Memoizer.html" title="class in com.bigdata.util.concurrent"><code>Memoizer</code></a>
 pattern is used to assign each concurrent thread a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/FutureTask.html?is-external=true" title="class or interface in java.util.concurrent"><code>FutureTask</code></a> on
 which it waits for the result. Once the result is available, there is a
 small <code>synchronized</code> block during which the concurrent
 requests for a child will content to update the appropriate element in
 <a href="../../../com/bigdata/btree/Node.html#childRefs"><code>childRefs</code></a>.
 <p>
 I believe the contention to update <a href="../../../com/bigdata/btree/Node.html#childRefs"><code>childRefs</code></a> is unavoidable. If
 this object was made into an <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReferenceArray.html?is-external=true" title="class or interface in java.util.concurrent.atomic"><code>AtomicReferenceArray</code></a> then we would
 have difficulty when inserting and removing tuples since the backing
 array is not visible. An array of <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic"><code>AtomicReference</code></a> objects would
 not help since it would not ensure "publication" when the element was
 changed from a <code>null</code> to an <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic"><code>AtomicReference</code></a>, only when
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html?is-external=true#compareAndSet(V,%20V)" title="class or interface in java.util.concurrent.atomic"><code>AtomicReference.compareAndSet(Object, Object)</code></a> was used. Thus it
 could only help if we pre-populated the array with
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic"><code>AtomicReference</code></a> objects, which seems wasteful.
 <p>
 As always, the mutable B+Tree is single threaded so there are not added
 synchronization costs. Concurrent readers can only arise for read-only
 <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>s and for <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a>s.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>index</code> - The index of the child to be read from the store (in
            [0:nkeys]).</dd>
<dt><span class="strong">Returns:</span></dt><dd>The child node or leaf and never null.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">IndexOutOfBoundsException</a></code> - if index is negative.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">IndexOutOfBoundsException</a></code> - if index is GT the #of keys in the node (there is one more
             child than keys in a node).</dd></dl>
</li>
</ul>
<a name="getRightMostChild(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRightMostChild</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&nbsp;getRightMostChild(boolean&nbsp;nodesOnly)</pre>
<div class="block">Return the right-most child of this node.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nodesOnly</code> - when <code>true</code> the search will halt at the right-most
            non-leaf. Otherwise it will return the right-most leaf.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The right-most child of this node.</dd></dl>
</li>
</ul>
<a name="postOrderNodeIterator(boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postOrderNodeIterator</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&gt;&nbsp;postOrderNodeIterator(boolean&nbsp;dirtyNodesOnly,
                                           boolean&nbsp;nodesOnly)</pre>
<div class="block">Iterator visits children, recursively expanding each child with a
 post-order traversal of its children and finally visits this node itself.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#postOrderNodeIterator(boolean,%20boolean)">postOrderNodeIterator</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>dirtyNodesOnly</code> - When true, only dirty nodes and leaves will be visited</dd><dd><code>nodesOnly</code> - When <code>true</code>, the leaves will not be visited.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Iterator visiting <a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree"><code>AbstractNode</code></a>s.</dd></dl>
</li>
</ul>
<a name="postOrderIterator(byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postOrderIterator</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&gt;&nbsp;postOrderIterator(byte[]&nbsp;fromKey,
                                       byte[]&nbsp;toKey)</pre>
<div class="block">Iterator visits children in the specified half-open key range,
 recursively expanding each child with a post-order traversal of its
 children and finally visits this node itself.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#postOrderIterator(byte[],%20byte[])">postOrderIterator</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>fromKey</code> - The first key that will be visited (inclusive). When
            <code>null</code> there is no lower bound.</dd><dd><code>toKey</code> - The first key that will NOT be visited (exclusive). When
            <code>null</code> there is no upper bound.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Iterator visiting <a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree"><code>AbstractNode</code></a>s.</dd></dl>
</li>
</ul>
<a name="prefetchChildLeaves(com.bigdata.btree.Node, byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prefetchChildLeaves</h4>
<pre>protected&nbsp;void&nbsp;prefetchChildLeaves(<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&nbsp;node,
                       byte[]&nbsp;fromKey,
                       byte[]&nbsp;toKey)</pre>
<div class="block">When we visit a node whose children are leaves, schedule memoization of
 those leaves whose separator key in the node is LT the toKey
 (non-blocking). If the rightSibling of the node would be visited by the
 iterator, then prefetch of the rightSibling is also scheduled.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - A node whose children are leaves.</dd><dd><code>toKey</code> - The exclusive upper bound of some iterator.</dd></dl>
</li>
</ul>
<a name="prefetchRightSibling(com.bigdata.btree.Node, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prefetchRightSibling</h4>
<pre>protected&nbsp;void&nbsp;prefetchRightSibling(<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&nbsp;node,
                        byte[]&nbsp;toKey)</pre>
<div class="block">If the caller's <i>toKey</i> is GT the separator keys for the children of
 this node then the iterator will need to visit the rightSibling of the
 node and this method will schedule the memoization of the node's
 rightSibling in order to reduce the IO latency when the iterator visit
 that rightSibling (non-blocking).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - A node.</dd><dd><code>toKey</code> - The exclusive upper bound of some iterator.</dd></dl>
</li>
</ul>
<a name="childIterator(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>childIterator</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&gt;&nbsp;childIterator(boolean&nbsp;dirtyNodesOnly)</pre>
<div class="block">Iterator visits the direct child nodes in the external key ordering.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dirtyNodesOnly</code> - When true, only the direct dirty child nodes will be visited.</dd></dl>
</li>
</ul>
<a name="childIterator(byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>childIterator</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&gt;&nbsp;childIterator(byte[]&nbsp;fromKey,
                                   byte[]&nbsp;toKey)</pre>
<div class="block">Iterator visits the direct child nodes in the external key ordering.</div>
</li>
</ul>
<a name="dump(org.apache.log4j.Level, java.io.PrintStream, int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dump</h4>
<pre>public&nbsp;boolean&nbsp;dump(org.apache.log4j.Level&nbsp;level,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html?is-external=true" title="class or interface in java.io">PrintStream</a>&nbsp;out,
           int&nbsp;height,
           boolean&nbsp;recursive)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html#dump(org.apache.log4j.Level,%20java.io.PrintStream,%20int,%20boolean)">AbstractNode</a></code></strong></div>
<div class="block">Dump the data onto the <a href="http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html?is-external=true" title="class or interface in java.io"><code>PrintStream</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractNode.html#dump(org.apache.log4j.Level,%20java.io.PrintStream,%20int,%20boolean)">dump</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;<a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree">Node</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>level</code> - The logging level.</dd><dd><code>out</code> - Where to write the dump.</dd><dd><code>height</code> - The height of this node in the tree or -1 iff you need to
            invoke this method on a node or leaf whose height in the tree
            is not known.</dd><dd><code>recursive</code> - When true, the node will be dumped recursively using a
            pre-order traversal.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True unless an inconsistency was detected.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<div class="block">Human readable representation of the <a href="../../../com/bigdata/btree/Node.html" title="class in com.bigdata.btree"><code>Node</code></a>.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/PO.html#toString()">toString</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/PO.html" title="class in com.bigdata.btree">PO</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Node.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/btree/MyHardReferenceQueue.html" title="class in com.bigdata.btree"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/btree/NodeSerializer.html" title="class in com.bigdata.btree"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/btree/Node.html" target="_top">Frames</a></li>
<li><a href="Node.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_com.bigdata.btree.AbstractNode">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
