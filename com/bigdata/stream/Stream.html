<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Wed Jan 20 23:38:58 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Stream (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Stream (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Stream.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../com/bigdata/stream/Stream.CompressionEnum.html" title="enum in com.bigdata.stream"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/stream/Stream.html" target="_top">Frames</a></li>
<li><a href="Stream.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.stream</div>
<h2 title="Class Stream" class="title">Class Stream</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.stream.Stream</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a>, <a href="../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a>, <a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a>, <a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../com/bigdata/bop/solutions/SolutionSetStream.html" title="class in com.bigdata.bop.solutions">SolutionSetStream</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">Stream</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></pre>
<div class="block">A persistence capable stream of "index" entries. The stream maintains the
 order in which the entries were written.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a>
 
         FIXME GIST : The base Stream should handle byte[]s, much like the
         basic BTree or HTree. That way it can be a concrete class and used
         for a variety of things. It might also allow an append() method
         (similar to insert) for non-iterator based incremental write
         protocols. This would be really just a thin wrapper over the
         <a href="../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore"><code>IPSOutputStream</code></a>, but integrated with the
         <a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree"><code>ICheckpointProtocol</code></a> and (ideally) the MVCC architecture.</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="https://sourceforge.net/apps/trac/bigdata/ticket/585"> GIST
      </a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.CompressionEnum.html" title="enum in com.bigdata.stream">Stream.CompressionEnum</a></strong></code>
<div class="block">The type of compression used on the stream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.StreamIndexMetadata.html" title="class in com.bigdata.stream">Stream.StreamIndexMetadata</a></strong></code>
<div class="block">Metadata for a named solution set.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#entryCount">entryCount</a></strong></code>
<div class="block">The #of entries in the stream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#ERROR_CLOSED">ERROR_CLOSED</a></strong></code>
<div class="block">The index is already closed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#ERROR_READ_ONLY">ERROR_READ_ONLY</a></strong></code>
<div class="block">The index is read-only but a mutation operation was requested.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/stream/Stream.StreamIndexMetadata.html" title="class in com.bigdata.stream">Stream.StreamIndexMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#metadata">metadata</a></strong></code>
<div class="block">The metadata record for the index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#open">open</a></strong></code>
<div class="block"><code>true</code> iff the <a href="../../../com/bigdata/stream/Stream.html" title="class in com.bigdata.stream"><code>Stream</code></a> is open.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#rootAddr">rootAddr</a></strong></code>
<div class="block">The address from which the stream may be read.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/stream/Stream.html#Stream(com.bigdata.rawstore.IRawStore,%20com.bigdata.btree.Checkpoint,%20com.bigdata.btree.IndexMetadata,%20boolean)">Stream</a></strong>(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
      <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;checkpoint,
      <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata,
      boolean&nbsp;readOnly)</code>
<div class="block">Required constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#assertNotReadOnly()">assertNotReadOnly</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#assertNotTransient()">assertNotTransient</a></strong>()</code>
<div class="block">NOP.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#clear()">clear</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#close()">close</a></strong>()</code>
<div class="block">The contract for <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>ICheckpointProtocol.close()</code></a> is to reduce the resource burden of the
 index while not rendering the index inoperative.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/bigdata/bop/solutions/SolutionSetStream.html" title="class in com.bigdata.bop.solutions">SolutionSetStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#create(com.bigdata.rawstore.IRawStore,%20com.bigdata.stream.Stream.StreamIndexMetadata)">create</a></strong>(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
      <a href="../../../com/bigdata/stream/Stream.StreamIndexMetadata.html" title="class in com.bigdata.stream">Stream.StreamIndexMetadata</a>&nbsp;metadata)</code>
<div class="block">Create a new <a href="../../../com/bigdata/bop/solutions/SolutionSetStream.html" title="class in com.bigdata.bop.solutions"><code>SolutionSetStream</code></a> or derived class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#fireDirtyEvent()">fireDirtyEvent</a></strong>()</code>
<div class="block">Fire an event to the listener (iff set).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#flush()">flush</a></strong>()</code>
<div class="block">Hook to flush anything which is dirty to the backing store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#getCheckpoint()">getCheckpoint</a></strong>()</code>
<div class="block">Returns the most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#getCounters()">getCounters</a></strong>()</code>
<div class="block">Return performance counters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#getDirtyListener()">getDirtyListener</a></strong>()</code>
<div class="block">Return the <a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree"><code>IDirtyListener</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/stream/Stream.StreamIndexMetadata.html" title="class in com.bigdata.stream">Stream.StreamIndexMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#getIndexMetadata()">getIndexMetadata</a></strong>()</code>
<div class="block">The metadata for the index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#getLastCommitTime()">getLastCommitTime</a></strong>()</code>
<div class="block">The timestamp associated with the last <a href="../../../com/bigdata/journal/IAtomicStore.html#commit()"><code>IAtomicStore.commit()</code></a> in
 which writes buffered by this index were made restart-safe on the backing
 store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#getMetadataAddr()">getMetadataAddr</a></strong>()</code>
<div class="block">The address at which the most recent <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> record was
 written.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#getReadLockCount()">getReadLockCount</a></strong>()</code>
<div class="block">Return the #of read-locks held by the current thread for a mutable index
 view.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#getRecordVersion()">getRecordVersion</a></strong>()</code>
<div class="block">The value of the record version number that will be assigned to the next
 node or leaf written onto the backing store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#getRootAddr()">getRootAddr</a></strong>()</code>
<div class="block">The address of the last written root of the persistent data structure
 -or- <code>0L</code> if there is no root.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#getStore()">getStore</a></strong>()</code>
<div class="block">The backing store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#handleCommit(long)">handleCommit</a></strong>(long&nbsp;commitTime)</code>
<div class="block">Flush dirty state to the store in preparation for an atomic commit and
 return the address from which the persistence capable data structure may
 be reloaded.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#isOpen()">isOpen</a></strong>()</code>
<div class="block">An "open" index has may have some buffered data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#isReadOnly()">isReadOnly</a></strong>()</code>
<div class="block">Return <code>true</code> iff this B+Tree is read-only.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/bigdata/bop/solutions/SolutionSetStream.html" title="class in com.bigdata.bop.solutions">SolutionSetStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#load(com.bigdata.rawstore.IRawStore,%20long,%20boolean)">load</a></strong>(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
    long&nbsp;addrCheckpoint,
    boolean&nbsp;readOnly)</code>
<div class="block">Load an instance of a <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class from the store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#needsCheckpoint()">needsCheckpoint</a></strong>()</code>
<div class="block">Return true iff changes would be lost unless the <a href="../../../com/bigdata/stream/Stream.html" title="class in com.bigdata.stream"><code>Stream</code></a> is
 flushed to the backing store using <a href="../../../com/bigdata/stream/Stream.html#writeCheckpoint()"><code>writeCheckpoint()</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#rangeCount()">rangeCount</a></strong>()</code>
<div class="block">Return the #of entries in the index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks">Lock</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#readLock()">readLock</a></strong>()</code>
<div class="block">Return a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks"><code>Lock</code></a> that may be used to obtain a shared read lock which
 is used (in the absence of other concurrency control mechanisms) to
 permit concurrent readers on an unisolated index while serializing access
 to that index when a writer must run.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#recycle(long)">recycle</a></strong>(long&nbsp;addr)</code>
<div class="block">Recycle (aka delete) the allocation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#removeAll()">removeAll</a></strong>()</code>
<div class="block">Remove all entries in the index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#reopen()">reopen</a></strong>()</code>
<div class="block">(Re-) open the index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#scan()">scan</a></strong>()</code>
<div class="block">Visit all entries in the index in the natural order of the index
 (dereferencing visited tuples to the application objects stored within
 those tuples).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#setCheckpoint(com.bigdata.btree.Checkpoint)">setCheckpoint</a></strong>(<a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;checkpoint)</code>
<div class="block">Sets the <a href="../../../com/bigdata/stream/Stream.html#checkpoint"><code>checkpoint</code></a> and initializes the mutable fields from the
 checkpoint record.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#setDirtyListener(com.bigdata.btree.IDirtyListener)">setDirtyListener</a></strong>(<a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;listener)</code>
<div class="block">Set or clear the listener (there can be only one).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#setLastCommitTime(long)">setLastCommitTime</a></strong>(long&nbsp;lastCommitTime)</code>
<div class="block">Sets the lastCommitTime.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#wrapInputStream(java.io.InputStream)">wrapInputStream</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</code>
<div class="block">Wrap for decompression.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#wrapOutputStream(java.io.OutputStream)">wrapOutputStream</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;out)</code>
<div class="block">Apply the configured <a href="../../../com/bigdata/stream/Stream.CompressionEnum.html" title="enum in com.bigdata.stream"><code>Stream.CompressionEnum</code></a> for the <a href="../../../com/bigdata/stream/Stream.html" title="class in com.bigdata.stream"><code>Stream</code></a> to
 the caller's <a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io"><code>OutputStream</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#write(cutthecrap.utils.striterators.ICloseableIterator)">write</a></strong>(<a href="../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;?&gt;&nbsp;src)</code>
<div class="block">Write entries onto the stream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#writeCheckpoint()">writeCheckpoint</a></strong>()</code>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#writeCheckpoint2()">writeCheckpoint2</a></strong>()</code>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks">Lock</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/stream/Stream.html#writeLock()">writeLock</a></strong>()</code>
<div class="block">Return a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks"><code>Lock</code></a> that may be used to obtain an exclusive write lock
 which is used (in the absence of other concurrency control mechanisms) to
 serialize all processes accessing an unisolated index when a writer must
 run.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.btree.ICheckpointProtocol">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></h3>
<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#dumpPages(boolean,%20boolean)">dumpPages</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ERROR_CLOSED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ERROR_CLOSED</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> ERROR_CLOSED</pre>
<div class="block">The index is already closed.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.stream.Stream.ERROR_CLOSED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ERROR_READ_ONLY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ERROR_READ_ONLY</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> ERROR_READ_ONLY</pre>
<div class="block">The index is read-only but a mutation operation was requested.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.stream.Stream.ERROR_READ_ONLY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="open">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a> open</pre>
<div class="block"><code>true</code> iff the <a href="../../../com/bigdata/stream/Stream.html" title="class in com.bigdata.stream"><code>Stream</code></a> is open.</div>
</li>
</ul>
<a name="entryCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>entryCount</h4>
<pre>protected&nbsp;long entryCount</pre>
<div class="block">The #of entries in the stream.</div>
</li>
</ul>
<a name="rootAddr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rootAddr</h4>
<pre>protected&nbsp;long rootAddr</pre>
<div class="block">The address from which the stream may be read. This is mutable. On
 update, it is the address at which the stream was last written. The
 current value gets propagated into the <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record as
 <a href="../../../com/bigdata/btree/Checkpoint.html#getRootAddr()"><code>Checkpoint.getRootAddr()</code></a>.</div>
</li>
</ul>
<a name="metadata">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>metadata</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/stream/Stream.StreamIndexMetadata.html" title="class in com.bigdata.stream">Stream.StreamIndexMetadata</a> metadata</pre>
<div class="block">The metadata record for the index. This data rarely changes during the
 life of the solution set, but it CAN be changed.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Stream(com.bigdata.rawstore.IRawStore, com.bigdata.btree.Checkpoint, com.bigdata.btree.IndexMetadata, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Stream</h4>
<pre>public&nbsp;Stream(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
      <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;checkpoint,
      <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata,
      boolean&nbsp;readOnly)</pre>
<div class="block">Required constructor. This constructor is used both to create a new named
 solution set, and to load an existing named solution set from the store
 using a <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>store</code> - The store.</dd><dd><code>checkpoint</code> - The <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd><dd><code>metadata</code> - The metadata record.</dd><dd><code>readOnly</code> - When <code>true</code> the view will be immutable.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/stream/Stream.html#create(com.bigdata.rawstore.IRawStore,%20com.bigdata.stream.Stream.StreamIndexMetadata)"><code>create(IRawStore, StreamIndexMetadata)</code></a>, 
<a href="../../../com/bigdata/stream/Stream.html#load(com.bigdata.rawstore.IRawStore,%20long,%20boolean)"><code>load(IRawStore, long, boolean)</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStore</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;getStore()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#getStore()">ISimpleIndexAccess</a></code></strong></div>
<div class="block">The backing store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#getStore()">getStore</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a></code></dd>
</dl>
</li>
</ul>
<a name="setCheckpoint(com.bigdata.btree.Checkpoint)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCheckpoint</h4>
<pre>protected&nbsp;void&nbsp;setCheckpoint(<a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;checkpoint)</pre>
<div class="block">Sets the <a href="../../../com/bigdata/stream/Stream.html#checkpoint"><code>checkpoint</code></a> and initializes the mutable fields from the
 checkpoint record. In order for this operation to be atomic, the caller
 must be synchronized on the <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> or otherwise guaranteed to have
 exclusive access, e.g., during the ctor or when the <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> is
 mutable and access is therefore required to be single-threaded.</div>
</li>
</ul>
<a name="create(com.bigdata.rawstore.IRawStore, com.bigdata.stream.Stream.StreamIndexMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;<a href="../../../com/bigdata/bop/solutions/SolutionSetStream.html" title="class in com.bigdata.bop.solutions">SolutionSetStream</a>&nbsp;create(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
                       <a href="../../../com/bigdata/stream/Stream.StreamIndexMetadata.html" title="class in com.bigdata.stream">Stream.StreamIndexMetadata</a>&nbsp;metadata)</pre>
<div class="block">Create a new <a href="../../../com/bigdata/bop/solutions/SolutionSetStream.html" title="class in com.bigdata.bop.solutions"><code>SolutionSetStream</code></a> or derived class. This method
 works by writing the <a href="../../../com/bigdata/stream/Stream.StreamIndexMetadata.html" title="class in com.bigdata.stream"><code>Stream.StreamIndexMetadata</code></a> record on the store
 and then loading the <a href="../../../com/bigdata/bop/solutions/SolutionSetStream.html" title="class in com.bigdata.bop.solutions"><code>SolutionSetStream</code></a> from the
 <a href="../../../com/bigdata/stream/Stream.StreamIndexMetadata.html" title="class in com.bigdata.stream"><code>Stream.StreamIndexMetadata</code></a> record.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>store</code> - The store.</dd><dd><code>metadata</code> - The metadata record.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The newly created <a href="../../../com/bigdata/bop/solutions/SolutionSetStream.html" title="class in com.bigdata.bop.solutions"><code>SolutionSetStream</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If you attempt to create two <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> objects from the
             same metadata record since the metadata address will have
             already been noted on the <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> object. You
             can use <a href="../../../com/bigdata/btree/IndexMetadata.html#clone()"><code>IndexMetadata.clone()</code></a> to obtain a new copy of
             the metadata object with the metadata address set to
             <code>0L</code>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <a href="../../../com/bigdata/btree/IndexTypeEnum.html" title="enum in com.bigdata.btree"><code>IndexTypeEnum</code></a> in the supplied
                <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> object is not
                <a href="../../../com/bigdata/btree/IndexTypeEnum.html#BTree"><code>IndexTypeEnum.BTree</code></a>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/stream/Stream.html#load(com.bigdata.rawstore.IRawStore,%20long,%20boolean)"><code>load(IRawStore, long, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="load(com.bigdata.rawstore.IRawStore, long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>public static&nbsp;<a href="../../../com/bigdata/bop/solutions/SolutionSetStream.html" title="class in com.bigdata.bop.solutions">SolutionSetStream</a>&nbsp;load(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
                     long&nbsp;addrCheckpoint,
                     boolean&nbsp;readOnly)</pre>
<div class="block">Load an instance of a <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class from the store. The
 <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class MUST declare a constructor with the
 following signature: <code>
 
 <i>className</i>(IRawStore store, Checkpoint checkpoint, IndexMetadata metadata, boolean readOnly)
 
 </code></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>store</code> - The store.</dd><dd><code>addrCheckpoint</code> - The address of a <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record for the index.</dd><dd><code>readOnly</code> - When <code>true</code> the <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> will be marked as
            read-only. Marking has some advantages relating to the locking
            scheme used by <a href="../../../com/bigdata/btree/Node.html#getChild(int)"><code>Node.getChild(int)</code></a> since the root node
            is known to be read-only at the time that it is allocated as
            per-child locking is therefore in place for all nodes in the
            read-only <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>. It also results in much higher
            concurrency for <a href="../../../com/bigdata/btree/AbstractBTree.html#touch(com.bigdata.btree.AbstractNode)"><code>AbstractBTree.touch(AbstractNode)</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class loaded from that
         <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if store is <code>null</code>.</dd></dl>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
</li>
</ul>
<a name="wrapOutputStream(java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wrapOutputStream</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;wrapOutputStream(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;out)</pre>
<div class="block">Apply the configured <a href="../../../com/bigdata/stream/Stream.CompressionEnum.html" title="enum in com.bigdata.stream"><code>Stream.CompressionEnum</code></a> for the <a href="../../../com/bigdata/stream/Stream.html" title="class in com.bigdata.stream"><code>Stream</code></a> to
 the caller's <a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io"><code>OutputStream</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - The <a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io"><code>OutputStream</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The wrapped <a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io"><code>OutputStream</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="wrapInputStream(java.io.InputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wrapInputStream</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;wrapInputStream(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</pre>
<div class="block">Wrap for decompression.</div>
</li>
</ul>
<a name="isReadOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnly</h4>
<pre>public final&nbsp;boolean&nbsp;isReadOnly()</pre>
<div class="block">Return <code>true</code> iff this B+Tree is read-only.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html#isReadOnly()">isReadOnly</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a></code></dd>
</dl>
</li>
</ul>
<a name="assertNotReadOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertNotReadOnly</h4>
<pre>protected final&nbsp;void&nbsp;assertNotReadOnly()</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if the B+Tree is read-only.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/stream/Stream.html#isReadOnly()"><code>isReadOnly()</code></a></dd></dl>
</li>
</ul>
<a name="assertNotTransient()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertNotTransient</h4>
<pre>protected final&nbsp;void&nbsp;assertNotTransient()</pre>
<div class="block">NOP. Implemented for compatibility with the interior APIs of the
 <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> and <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>, but <a href="../../../com/bigdata/stream/Stream.html" title="class in com.bigdata.stream"><code>Stream</code></a> does not support
 "transient" data (in the sense of data which is not evicted to a backing
 store).</div>
</li>
</ul>
<a name="getCounters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCounters</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a>&nbsp;getCounters()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/counters/ICounterSetAccess.html#getCounters()">ICounterSetAccess</a></code></strong></div>
<div class="block">Return performance counters.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/counters/ICounterSetAccess.html#getCounters()">getCounters</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a></code></dd>
</dl>
</li>
</ul>
<a name="handleCommit(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleCommit</h4>
<pre>public&nbsp;long&nbsp;handleCommit(long&nbsp;commitTime)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/ICommitter.html#handleCommit(long)">ICommitter</a></code></strong></div>
<div class="block">Flush dirty state to the store in preparation for an atomic commit and
 return the address from which the persistence capable data structure may
 be reloaded.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/ICommitter.html#handleCommit(long)">handleCommit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>commitTime</code> - The timestamp assigned to the commit.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The address of the record from which the persistence capable data
         structure may be reloaded. If no changes have been made then the
         previous address should be returned as it is still valid.</dd></dl>
</li>
</ul>
<a name="getRecordVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordVersion</h4>
<pre>public&nbsp;long&nbsp;getRecordVersion()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getRecordVersion()">ICheckpointProtocol</a></code></strong></div>
<div class="block">The value of the record version number that will be assigned to the next
 node or leaf written onto the backing store. This number is incremented
 each time a node or leaf is written onto the backing store. The initial
 value is ZERO (0). The first value assigned to a node or leaf will be
 ZERO (0).
 
 TODO Nobody is actually incrementing this value right now.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getRecordVersion()">getRecordVersion</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
</dl>
</li>
</ul>
<a name="getCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCheckpoint</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;getCheckpoint()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getCheckpoint()">ICheckpointProtocol</a></code></strong></div>
<div class="block">Returns the most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getCheckpoint()">getCheckpoint</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record and never
         <code>null</code>.</dd></dl>
</li>
</ul>
<a name="writeCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCheckpoint</h4>
<pre>public final&nbsp;long&nbsp;writeCheckpoint()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#writeCheckpoint()">ICheckpointProtocol</a></code></strong></div>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.
 <p>
 Note: A checkpoint by itself is NOT an atomic commit. The commit protocol
 is at the store level and uses <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>s to ensure that the
 state of the persistence capable data structure is current on the backing
 store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#writeCheckpoint()">writeCheckpoint</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The address at which the <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record for the
         persistence capable was written onto the store. The data
         structure can be reloaded from this <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd></dl>
</li>
</ul>
<a name="writeCheckpoint2()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCheckpoint2</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;writeCheckpoint2()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#writeCheckpoint2()">ICheckpointProtocol</a></code></strong></div>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.
 <p>
 Note: A checkpoint by itself is NOT an atomic commit. The commit protocol
 is at the store level and uses <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>s to ensure that the
 state of the persistence capable data structure is current on the backing
 store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#writeCheckpoint2()">writeCheckpoint2</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record for the persistent data structure
         which was written onto the store. The persistent data structure
         can be reloaded from this <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd></dl>
</li>
</ul>
<a name="needsCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>needsCheckpoint</h4>
<pre>protected&nbsp;boolean&nbsp;needsCheckpoint()</pre>
<div class="block">Return true iff changes would be lost unless the <a href="../../../com/bigdata/stream/Stream.html" title="class in com.bigdata.stream"><code>Stream</code></a> is
 flushed to the backing store using <a href="../../../com/bigdata/stream/Stream.html#writeCheckpoint()"><code>writeCheckpoint()</code></a>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> true iff changes would be lost unless the
         <a href="../../../com/bigdata/stream/Stream.html" title="class in com.bigdata.stream"><code>Stream</code></a> was flushed to the backing store using
         <a href="../../../com/bigdata/stream/Stream.html#writeCheckpoint()"><code>writeCheckpoint()</code></a>.</dd></dl>
</li>
</ul>
<a name="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>protected&nbsp;void&nbsp;flush()</pre>
<div class="block">Hook to flush anything which is dirty to the backing store. This is
 invoked by <a href="../../../com/bigdata/stream/Stream.html#_writeCheckpoint2()"><code>_writeCheckpoint2()</code></a>.</div>
</li>
</ul>
<a name="recycle(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recycle</h4>
<pre>protected&nbsp;int&nbsp;recycle(long&nbsp;addr)</pre>
<div class="block">Recycle (aka delete) the allocation. This method also adjusts the #of
 bytes released in the <a href="../../../com/bigdata/btree/BTreeCounters.html" title="class in com.bigdata.btree"><code>BTreeCounters</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The address to be recycled.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of bytes which were recycled and ZERO (0) if the address is
         <a href="../../../com/bigdata/rawstore/IAddressManager.html#NULL"><code>IAddressManager.NULL</code></a>.</dd></dl>
</li>
</ul>
<a name="getRootAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootAddr</h4>
<pre>public final&nbsp;long&nbsp;getRootAddr()</pre>
<div class="block">The address of the last written root of the persistent data structure
 -or- <code>0L</code> if there is no root. A <code>0L</code> return may be
 an indication that an empty data structure will be created on demand.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getRootAddr()">getRootAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The address from which the solutions may be read.</dd></dl>
</li>
</ul>
<a name="getMetadataAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataAddr</h4>
<pre>public final&nbsp;long&nbsp;getMetadataAddr()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getMetadataAddr()">ICheckpointProtocol</a></code></strong></div>
<div class="block">The address at which the most recent <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> record was
 written.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getMetadataAddr()">getMetadataAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
</dl>
</li>
</ul>
<a name="getIndexMetadata()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexMetadata</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/stream/Stream.StreamIndexMetadata.html" title="class in com.bigdata.stream">Stream.StreamIndexMetadata</a>&nbsp;getIndexMetadata()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getIndexMetadata()">ICheckpointProtocol</a></code></strong></div>
<div class="block">The metadata for the index. This is full of good stuff about the index.
 <p>
 Note: The same method is also declared by <a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a> in order to
 provide access to the <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> for remote clients in
 scale-out.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getIndexMetadata()">getIndexMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/IIndex.html#getIndexMetadata()"><code>IIndex.getIndexMetadata()</code></a></dd></dl>
</li>
</ul>
<a name="getDirtyListener()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDirtyListener</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;getDirtyListener()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getDirtyListener()">ICheckpointProtocol</a></code></strong></div>
<div class="block">Return the <a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree"><code>IDirtyListener</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getDirtyListener()">getDirtyListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
</dl>
</li>
</ul>
<a name="getLastCommitTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastCommitTime</h4>
<pre>public final&nbsp;long&nbsp;getLastCommitTime()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getLastCommitTime()">ICheckpointProtocol</a></code></strong></div>
<div class="block">The timestamp associated with the last <a href="../../../com/bigdata/journal/IAtomicStore.html#commit()"><code>IAtomicStore.commit()</code></a> in
 which writes buffered by this index were made restart-safe on the backing
 store. The lastCommitTime is set when the index is loaded from the
 backing store and updated after each commit. It is ZERO (0L) when an
 index is first created and will remain ZERO (0L) until the index is
 committed. If the backing store does not support atomic commits, then
 this value will always be ZERO (0L).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getLastCommitTime()">getLastCommitTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
</dl>
</li>
</ul>
<a name="setLastCommitTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastCommitTime</h4>
<pre>public final&nbsp;void&nbsp;setLastCommitTime(long&nbsp;lastCommitTime)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setLastCommitTime(long)">ICheckpointProtocol</a></code></strong></div>
<div class="block">Sets the lastCommitTime.
 <p>
 Note: The lastCommitTime is set by a combination of the
 <a href="../../../com/bigdata/journal/AbstractJournal.html" title="class in com.bigdata.journal"><code>AbstractJournal</code></a> and <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> based on the actual
 commitTime of the commit during which an <a href="../../../com/bigdata/journal/Name2Addr.Entry.html" title="class in com.bigdata.journal"><code>Name2Addr.Entry</code></a> for that index was
 last committed. It is set for both historical index reads and unisolated
 index reads using <a href="../../../com/bigdata/journal/Name2Addr.Entry.html#commitTime"><code>Name2Addr.Entry.commitTime</code></a>. The lastCommitTime for an
 unisolated index will advance as commits are performed with that index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setLastCommitTime(long)">setLastCommitTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>lastCommitTime</code> - The timestamp of the last committed state of this index.</dd></dl>
</li>
</ul>
<a name="setDirtyListener(com.bigdata.btree.IDirtyListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDirtyListener</h4>
<pre>public final&nbsp;void&nbsp;setDirtyListener(<a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;listener)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setDirtyListener(com.bigdata.btree.IDirtyListener)">ICheckpointProtocol</a></code></strong></div>
<div class="block">Set or clear the listener (there can be only one).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setDirtyListener(com.bigdata.btree.IDirtyListener)">setDirtyListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The listener.</dd></dl>
</li>
</ul>
<a name="fireDirtyEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fireDirtyEvent</h4>
<pre>protected final&nbsp;void&nbsp;fireDirtyEvent()</pre>
<div class="block">Fire an event to the listener (iff set).</div>
</li>
</ul>
<a name="rangeCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rangeCount</h4>
<pre>public&nbsp;long&nbsp;rangeCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#rangeCount()">ISimpleIndexAccess</a></code></strong></div>
<div class="block">Return the #of entries in the index.
 <p>
 Note: If the index supports deletion markers then the range count will be
 an upper bound and may double count tuples which have been overwritten,
 including the special case where the overwrite is a delete.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#rangeCount()">rangeCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of tuples in the index.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/IRangeQuery.html#rangeCount()"><code>IRangeQuery.rangeCount()</code></a></dd></dl>
</li>
</ul>
<a name="removeAll()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAll</h4>
<pre>public&nbsp;void&nbsp;removeAll()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#removeAll()">ISimpleIndexAccess</a></code></strong></div>
<div class="block">Remove all entries in the index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#removeAll()">removeAll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a></code></dd>
</dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()">ICheckpointProtocol</a></code></strong></div>
<div class="block">The contract for <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>ICheckpointProtocol.close()</code></a> is to reduce the resource burden of the
 index while not rendering the index inoperative. An index that has been
 <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>closed</code></a> MAY be <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()"><code>reopened</code></a> at any time
 (conditional on the continued availability of the backing store). Such an
 index reference remains valid after a <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>ICheckpointProtocol.close()</code></a>. A closed index is
 transparently <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()"><code>reopened</code></a> by any access to the index data
 (scanning the index, probing the index, etc).
 <p>
 Note: A <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>ICheckpointProtocol.close()</code></a> on a dirty index MUST discard writes rather than
 flushing them to the store and MUST NOT update its <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>
 record - (<a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>ICheckpointProtocol.close()</code></a> is used to discard indices with partial writes
 when an <a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal"><code>AbstractTask</code></a> fails). If you are seeking to
 <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>ICheckpointProtocol.close()</code></a> a mutable index view that state can be recovered by
 <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()"><code>ICheckpointProtocol.reopen()</code></a> then you MUST write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record
 before closing the index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
</dl>
</li>
</ul>
<a name="reopen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reopen</h4>
<pre>public&nbsp;void&nbsp;reopen()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()">ICheckpointProtocol</a></code></strong></div>
<div class="block">(Re-) open the index. This method is part of a <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>ICheckpointProtocol.close()</code></a> /
 <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()"><code>ICheckpointProtocol.reopen()</code></a> protocol. That protocol may be used to reduce the
 resource burden of an index. This method is automatically invoked by a
 variety of methods that need to ensure that the index is available for
 use.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()">reopen</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>ICheckpointProtocol.close()</code></a>, 
<a href="../../../com/bigdata/btree/ICheckpointProtocol.html#isOpen()"><code>ICheckpointProtocol.isOpen()</code></a>, 
<code>#getRoot()</code></dd></dl>
</li>
</ul>
<a name="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>public&nbsp;boolean&nbsp;isOpen()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#isOpen()">ICheckpointProtocol</a></code></strong></div>
<div class="block">An "open" index has may have some buffered data. A closed index will have
 to re-read any backing data from the backing store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#isOpen()">isOpen</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>If the index is "open".</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>ICheckpointProtocol.close()</code></a>, 
<a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()"><code>ICheckpointProtocol.reopen()</code></a></dd></dl>
</li>
</ul>
<a name="scan()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scan</h4>
<pre>public abstract&nbsp;<a href="../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;?&gt;&nbsp;scan()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#scan()">ISimpleIndexAccess</a></code></strong></div>
<div class="block">Visit all entries in the index in the natural order of the index
 (dereferencing visited tuples to the application objects stored within
 those tuples).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#scan()">scan</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a></code></dd>
</dl>
</li>
</ul>
<a name="write(cutthecrap.utils.striterators.ICloseableIterator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public abstract&nbsp;void&nbsp;write(<a href="../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;?&gt;&nbsp;src)</pre>
<div class="block">Write entries onto the stream.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>src</code> - An iterator visiting the entries.</dd></dl>
</li>
</ul>
<a name="readLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLock</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks">Lock</a>&nbsp;readLock()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html#readLock()">IReadWriteLockManager</a></code></strong></div>
<div class="block">Return a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks"><code>Lock</code></a> that may be used to obtain a shared read lock which
 is used (in the absence of other concurrency control mechanisms) to
 permit concurrent readers on an unisolated index while serializing access
 to that index when a writer must run. This is exposed for processes which
 need to obtain the write lock to coordinate external operations.
 <p>
 Note: If the persistence capable data structure is read-only then the
 returned <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks"><code>Lock</code></a> is a singleton that ignores all lock requests. This
 is because our read-only persistence capable data structures are already
 thread-safe for concurrent readers.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html#readLock()">readLock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The lock.</dd></dl>
</li>
</ul>
<a name="writeLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLock</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks">Lock</a>&nbsp;writeLock()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html#writeLock()">IReadWriteLockManager</a></code></strong></div>
<div class="block">Return a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks"><code>Lock</code></a> that may be used to obtain an exclusive write lock
 which is used (in the absence of other concurrency control mechanisms) to
 serialize all processes accessing an unisolated index when a writer must
 run. This is exposed for processes which need to obtain the write lock to
 coordinate external operations.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html#writeLock()">writeLock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The lock.</dd></dl>
</li>
</ul>
<a name="getReadLockCount()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getReadLockCount</h4>
<pre>public final&nbsp;int&nbsp;getReadLockCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html#getReadLockCount()">IReadWriteLockManager</a></code></strong></div>
<div class="block">Return the #of read-locks held by the current thread for a mutable index
 view.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html#getReadLockCount()">getReadLockCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of reentrant read locks held by the current thread -or- ZERO
         if the index is read-only (read locks are not tracked for a
         read-only index view).</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Stream.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../com/bigdata/stream/Stream.CompressionEnum.html" title="enum in com.bigdata.stream"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/stream/Stream.html" target="_top">Frames</a></li>
<li><a href="Stream.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
