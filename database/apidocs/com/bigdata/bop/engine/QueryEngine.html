<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_51) on Thu Jan 21 00:30:48 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>QueryEngine (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-21">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="QueryEngine (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":42,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueryEngine.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/bop/engine/QueryDecl.html" title="class in com.bigdata.bop.engine"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/bigdata/bop/engine/QueryEngine.Annotations.html" title="interface in com.bigdata.bop.engine"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/bop/engine/QueryEngine.html" target="_top">Frames</a></li>
<li><a href="QueryEngine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.bop.engine</div>
<h2 title="Class QueryEngine" class="title">Class QueryEngine</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.bop.engine.QueryEngine</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/bigdata/bop/engine/IQueryClient.html" title="interface in com.bigdata.bop.engine">IQueryClient</a>, <a href="../../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine">IQueryPeer</a>, <a href="../../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/Remote.html?is-external=true" title="class or interface in java.rmi">Remote</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../com/bigdata/bop/fed/FederatedQueryEngine.html" title="class in com.bigdata.bop.fed">FederatedQueryEngine</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">QueryEngine</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine">IQueryPeer</a>, <a href="../../../../com/bigdata/bop/engine/IQueryClient.html" title="interface in com.bigdata.bop.engine">IQueryClient</a>, <a href="../../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a></pre>
<div class="block">A class managing execution of concurrent queries against a local
 <a href="../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal"><code>IIndexManager</code></a>.
 <p>
 <h2>Design notes</h2>
 <p>
 Much of the complexity of the current approach owes itself to having to run a
 separate task for each join for each shard in order to have the appropriate
 lock when running against the unisolated shard view. This also means that the
 join task is running inside of the concurrency manager and hence has the
 local view of the shard.
 <p>
 The main, and perhaps the only, reason why we run unisolated rules is during
 closure, when we query against the unisolated indices and then write the
 entailments back on the unisolated indices.
 <p>
 Supporting closure has always been complicated. This complexity is mostly
 handled by ProgramTask#executeMutation() and
 AbstractTripleStore#newJoinNexusFactory() which play games with the
 timestamps used to read and write on the database, with commit points
 designed to create visibility for tuples written by a mutation rule, and with
 the automated advance of the read timestamp for the query in each closure
 pass in order to make newly committed tuples visible to subsequent rounds of
 closure. For scale-out, we do shard-wise auto commits so we always have a
 commit point which makes each write visible and the read timestamp is
 actually a read-only transaction which prevents the historical data we need
 during a closure round from being released as we are driving updates onto the
 federation. For the RWStore, we are having a similar problem (in the HA
 branch since that is where we are working on the RWStore) where historically
 allocated records were being released as writes drove updates on the indices.
 Again, we "solved" the problem for the RWStore using a commit point followed
 by a read-only transaction reading on that commit point to hold onto the view
 on which the next closure round needs to read (this uncovered a problem with
 the RWStore and transaction service interaction which Martyn is currently
 working to resolve through a combination of shadow allocators and deferred
 deletes which are processed once the release time is advanced by the
 transaction service).
 <p>
 The WORM does not have some of these problems with closure because we never
 delete history, so we do not need to create a commit point and a read-behind
 transaction. However, the WORM would have problems with concurrent access to
 the unisolated indices except that we hack that problem through the
 transparent use of the UnisolatedReadWriteIndex, which allows multiple
 threads to access the same unisolated index view using a read/write lock
 pattern (concurrent readers are allowed, but there is only one writer and it
 has exclusive access when it is running). This works out because we never run
 closure operations against the WORM through the concurrency manager. If we
 did, we would have to create a commit point after each mutation and use a
 read-behind transaction to prevent concurrent access to the unisolated index.
 <p>
 The main advantage that I can see of the current complexity is that it allows
 us to do load+closure as a single operation on the WORM, resulting in a
 single commit point. This makes that operation ACID without having to use
 full read/write transactions. This is how we gain the ACID contract for the
 standalone Journal in the SAIL for the WORM. Of course, the SAIL does not
 have that contract for the RWStore because we have to do the commit and
 read-behind transaction in order to have visibility and avoid concurrent
 access to the unisolated index (by reading behind on the last commit point).
 <p>
 I think that the reality is even one step more complicated. When doing truth
 maintenance (incremental closure), we bring the temporary graph to a fixed
 point (the rules write on the temp store) and then apply the delta in a
 single write to the database. That suggests that incremental truth
 maintenance would continue to be ACID, but that database-at-once-closure
 would be round-wise ACID.
 <p>
 So, I would like to suggest that we break ACID for database-at-once-closure
 and always follow the pattern of (1) do a commit before each round of
 closure; and (2) create a read-behind transaction to prevent the release of
 that commit point as we drive writes onto the indices. If we follow this
 pattern then we can write on the unisolated indices without conflict and read
 on the historical views without conflict. Since there will be a commit point
 before each mutation rule runs (which corresponds to a closure round),
 database-at-once-closure will be atomic within a round, but will not be a
 single atomic operation. Per above, I think that we would retain the ACID
 property for incremental truth maintenance against a WORM or RW mode Journal.
 
 <p>
 ----
 </p>
 
 The advantage of this proposal (commit before each mutation rule and run
 query against a read-behind transaction) is that this could enormously
 simplify how we execute joins.
 <p>
 Right now, we use a factory pattern to create a join task on each node for
 each shard for which that node receives binding sets for a query. The main
 reason for doing this is to gain the appropriate lock for the unisolated
 index. If we never run a query against the unisolated index then we can go
 around the concurrency manager and run a single "query manager" task for all
 joins for all shards for all queries. This has some great benefits which I
 will go into below.
 <p>
 That "query manager" task would be responsible for accepting buffers
 containing elements or binding sets from other nodes and scheduling
 consumption of those data based on various criteria (order of arrival,
 priority, buffer resource requirements, timeout, etc.). This manager task
 could use a fork join pool to execute light weight operations (NIO,
 formulation of access paths from binding sets, mapping of binding sets onto
 shards, joining a chunk already read from an access path against a binding
 set, etc). Operations which touch the disk need to run in their own thread
 (until we get Java 7 async file IO, which is already available in a preview
 library). We could handle that by queuing those operations against a fixed
 size thread pool for reads.
 <p>
 This is a radical change in how we handle distributed query execution, but I
 think that it could have a huge payoff by reducing the complexity of the join
 logic, making it significantly easier to execute different kinds of join
 operations, reducing the overhead for acquiring locks for the unisolated
 index views, reducing the #of threads consumed by joins (from one per shard
 per join per query to a fixed pool of N threads for reads), etc. It would
 centralize the management of resources on each node and make it possible for
 us to handle things like join termination by simply purging data from the
 query manager task for the terminated join.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.Annotations.html" title="interface in com.bigdata.bop.engine">QueryEngine.Annotations</a></span></code>
<div class="block">Annotations understood by the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.IRunningQueryListener.html" title="interface in com.bigdata.bop.engine">QueryEngine.IRunningQueryListener</a></span></code>
<div class="block">Listener API for <a href="../../../../com/bigdata/bop/engine/IRunningQuery.html" title="interface in com.bigdata.bop.engine"><code>IRunningQuery</code></a> life cycle events (start/halt).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine">QueryEngineCounters</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#counters">counters</a></span></code>
<div class="block">Counters at the global level.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#ERR_QUERY_NOT_RUNNING">ERR_QUERY_NOT_RUNNING</a></span></code>
<div class="block">Error message used if a query is not running.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/service/geospatial/GeoSpatialCounters.html" title="class in com.bigdata.service.geospatial">GeoSpatialCounters</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#geoSpatialCounters">geoSpatialCounters</a></span></code>
<div class="block">GeoSpatial counters</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#QueryEngine-com.bigdata.journal.IIndexManager-">QueryEngine</a></span>(<a href="../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal">IIndexManager</a>&nbsp;localIndexManager)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#acceptChunk-com.bigdata.bop.engine.IChunkMessage-">acceptChunk</a></span>(<a href="../../../../com/bigdata/bop/engine/IChunkMessage.html" title="interface in com.bigdata.bop.engine">IChunkMessage</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;msg)</code>
<div class="block">Add a chunk of intermediate results for consumption by some query.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#addListener-com.bigdata.bop.engine.QueryEngine.IRunningQueryListener-">addListener</a></span>(<a href="../../../../com/bigdata/bop/engine/QueryEngine.IRunningQueryListener.html" title="interface in com.bigdata.bop.engine">QueryEngine.IRunningQueryListener</a>&nbsp;l)</code>
<div class="block">Add a query listener.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#addPendingCancel-java.util.UUID-">addPendingCancel</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId)</code>
<div class="block">Add a query <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> to the LRU of query identifiers for which we
 have received a CANCEL request, but were unable to find a running QUERY,
 recently done query, or running UPDATE request.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#assertRunning--">assertRunning</a></span>()</code>
<div class="block">Return if the query engine is running.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#bufferReady-com.bigdata.bop.engine.IChunkMessage-">bufferReady</a></span>(<a href="../../../../com/bigdata/bop/engine/IChunkMessage.html" title="interface in com.bigdata.bop.engine">IChunkMessage</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;msg)</code>
<div class="block">Notify a service that a buffer having data for some <a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop"><code>BOp</code></a> in some
 running query is available.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#cancelQuery-java.util.UUID-java.lang.Throwable-">cancelQuery</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;cause)</code>
<div class="block">Notify a service that the query has been terminated.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#declareQuery-com.bigdata.bop.engine.IQueryDecl-">declareQuery</a></span>(<a href="../../../../com/bigdata/bop/engine/IQueryDecl.html" title="interface in com.bigdata.bop.engine">IQueryDecl</a>&nbsp;queryDecl)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#didShutdown--">didShutdown</a></span>()</code>
<div class="block">Hook is notified by <a href="../../../../com/bigdata/bop/engine/QueryEngine.html#shutdown--"><code>shutdown()</code></a> when all running queries have
 terminated.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#eval-com.bigdata.bop.BOp-">eval</a></span>(<a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op)</code>
<div class="block">Evaluate a query.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#eval-com.bigdata.bop.BOp-com.bigdata.bop.IBindingSet-">eval</a></span>(<a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
    <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&nbsp;bset)</code>
<div class="block">Evaluate a query.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#eval-com.bigdata.bop.BOp-com.bigdata.bop.IBindingSet:A-">eval</a></span>(<a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
    <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;bsets)</code>
<div class="block">Evaluate a query.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#eval-com.bigdata.bop.BOp-com.bigdata.bop.IBindingSet:A-java.util.Map-">eval</a></span>(<a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
    <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;bsets,
    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;attribs)</code>
<div class="block">Evaluate a query.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#eval-java.util.UUID-com.bigdata.bop.BOp-com.bigdata.bop.IBindingSet-">eval</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
    <a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
    <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&nbsp;bset)</code>
<div class="block">Note: Used only by the test suite.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#eval-java.util.UUID-com.bigdata.bop.BOp-java.util.Map-com.bigdata.bop.IBindingSet:A-">eval</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
    <a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;queryAttributes,
    <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;bset)</code>
<div class="block">Note: Used only by the test suite.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#eval-java.util.UUID-com.bigdata.bop.BOp-java.util.Map-com.bigdata.bop.IBindingSet:A:A-">eval</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
    <a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;queryAttributes,
    <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[][]&nbsp;bset)</code>
<div class="block">Note: Used only by the test suite.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#eval-java.util.UUID-com.bigdata.bop.PipelineOp-java.util.Map-com.bigdata.bop.engine.IChunkMessage-">eval</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
    <a href="../../../../com/bigdata/bop/PipelineOp.html" title="class in com.bigdata.bop">PipelineOp</a>&nbsp;query,
    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;queryAttributes,
    <a href="../../../../com/bigdata/bop/engine/IChunkMessage.html" title="interface in com.bigdata.bop.engine">IChunkMessage</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;msg)</code>
<div class="block">Evaluate a query.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#execute-java.lang.Runnable-">execute</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;r)</code>
<div class="block">Executes the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang"><code>Runnable</code></a> on the local <a href="../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal"><code>IIndexManager</code></a>'s
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent"><code>ExecutorService</code></a>.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#finalize--">finalize</a></span>()</code>
<div class="block"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>s are used with a singleton pattern managed by the
 <a href="../../../../com/bigdata/bop/fed/QueryEngineFactory.html" title="class in com.bigdata.bop.fed"><code>QueryEngineFactory</code></a>.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>org.eclipse.jetty.client.HttpClient</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getClientConnectionManager--">getClientConnectionManager</a></span>()</code>
<div class="block">Return the <code>HttpClient</code> used to make remote SERVICE call requests.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal">ConcurrencyManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getConcurrencyManager--">getConcurrencyManager</a></span>()</code>
<div class="block">Return the <a href="../../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal"><code>ConcurrencyManager</code></a> for the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getIndexManager--"><code>local index manager</code></a>.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getCounters--">getCounters</a></span>()</code>
<div class="block">Return a <a href="../../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters"><code>CounterSet</code></a> which reports various statistics for the
 <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service">IBigdataFederation</a>&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getFederation--">getFederation</a></span>()</code>
<div class="block">The <a href="../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service"><code>IBigdataFederation</code></a> iff running in scale-out.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/service/geospatial/GeoSpatialCounters.html" title="class in com.bigdata.service.geospatial">GeoSpatialCounters</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getGeoSpatialCounters--">getGeoSpatialCounters</a></span>()</code>
<div class="block">The <a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine"><code>QueryEngineCounters</code></a> object for this <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal">IIndexManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getIndexManager--">getIndexManager</a></span>()</code>
<div class="block">The <em>local</em> index manager, which provides direct access to local
 <a href="../../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> and <a href="../../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a> objects.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html" title="interface in com.bigdata.bop.engine">IQueryClient</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getProxy--">getProxy</a></span>()</code>
<div class="block">The RMI proxy for this <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> when used as a query controller.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/PipelineOp.html" title="class in com.bigdata.bop">PipelineOp</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getQuery-java.util.UUID-">getQuery</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId)</code>
<div class="block">Return the query.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine">QueryEngineCounters</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getQueryEngineCounters--">getQueryEngineCounters</a></span>()</code>
<div class="block">The <a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine"><code>QueryEngineCounters</code></a> object for this <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getRunningQueries--">getRunningQueries</a></span>()</code>
<div class="block">Return the set of queries which are running as of the moment when the
 request was processed.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getRunningQuery-java.util.UUID-">getRunningQuery</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId)</code>
<div class="block">Return the <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine"><code>AbstractRunningQuery</code></a> associated with that query
 identifier.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getServiceUUID--">getServiceUUID</a></span>()</code>
<div class="block">The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> of the service in which this <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> is
 running.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#halt-com.bigdata.bop.engine.AbstractRunningQuery-">halt</a></span>(<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;q)</code>
<div class="block">The query is no longer running.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#haltOp-com.bigdata.bop.engine.IHaltOpMessage-">haltOp</a></span>(<a href="../../../../com/bigdata/bop/engine/IHaltOpMessage.html" title="interface in com.bigdata.bop.engine">IHaltOpMessage</a>&nbsp;msg)</code>
<div class="block">Notify the client that execution has halted for some query, operator,
 node, shard, and source binding set chunk(s).</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#init--">init</a></span>()</code>
<div class="block">Initialize the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#isRunning--">isRunning</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#isScaleOut--">isScaleOut</a></span>()</code>
<div class="block">Return <code>true</code> iff running against an
 <a href="../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service"><code>IBigdataFederation</code></a>.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine">QueryEngineCounters</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#newCounters--">newCounters</a></span>()</code>
<div class="block">Extension hook for new <a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine"><code>QueryEngineCounters</code></a> instances.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/service/geospatial/GeoSpatialCounters.html" title="class in com.bigdata.service.geospatial">GeoSpatialCounters</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#newGeoSpatialCounters--">newGeoSpatialCounters</a></span>()</code>
<div class="block">Extension hook for new <a href="../../../../com/bigdata/service/geospatial/GeoSpatialCounters.html" title="class in com.bigdata.service.geospatial"><code>GeoSpatialCounters</code></a> instances.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#newRunningQuery-java.util.UUID-boolean-com.bigdata.bop.engine.IQueryClient-java.util.UUID-com.bigdata.bop.PipelineOp-com.bigdata.bop.engine.IChunkMessage-">newRunningQuery</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
               boolean&nbsp;controller,
               <a href="../../../../com/bigdata/bop/engine/IQueryClient.html" title="interface in com.bigdata.bop.engine">IQueryClient</a>&nbsp;clientProxy,
               <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryControllerId,
               <a href="../../../../com/bigdata/bop/PipelineOp.html" title="class in com.bigdata.bop">PipelineOp</a>&nbsp;query,
               <a href="../../../../com/bigdata/bop/engine/IChunkMessage.html" title="interface in com.bigdata.bop.engine">IChunkMessage</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;realSource)</code>
<div class="block">Factory for <a href="../../../../com/bigdata/bop/engine/IRunningQuery.html" title="interface in com.bigdata.bop.engine"><code>IRunningQuery</code></a>s.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#pendingCancel-java.util.UUID-">pendingCancel</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId)</code>
<div class="block">Return <code>true</code> iff the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> is the the collection of
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a>s for which we have already received a CANCEL request.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#putIfAbsent-java.util.UUID-com.bigdata.bop.engine.AbstractRunningQuery-">putIfAbsent</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
           <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;runningQuery)</code>
<div class="block">Places the <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine"><code>AbstractRunningQuery</code></a> object into the internal map.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#removeListener-com.bigdata.bop.engine.QueryEngine.IRunningQueryListener-">removeListener</a></span>(<a href="../../../../com/bigdata/bop/engine/QueryEngine.IRunningQueryListener.html" title="interface in com.bigdata.bop.engine">QueryEngine.IRunningQueryListener</a>&nbsp;l)</code>
<div class="block">Remove a query listener.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#shutdown--">shutdown</a></span>()</code>
<div class="block">Shutdown the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> (blocking).</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#shutdownNow--">shutdownNow</a></span>()</code>
<div class="block">Do not accept new queries and halt any running binding set chunk tasks.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html#startOp-com.bigdata.bop.engine.IStartOpMessage-">startOp</a></span>(<a href="../../../../com/bigdata/bop/engine/IStartOpMessage.html" title="interface in com.bigdata.bop.engine">IStartOpMessage</a>&nbsp;msg)</code>
<div class="block">Notify the client that execution has started for some query, operator,
 node, and index partition.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ERR_QUERY_NOT_RUNNING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ERR_QUERY_NOT_RUNNING</h4>
<pre>protected static final transient&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> ERR_QUERY_NOT_RUNNING</pre>
<div class="block">Error message used if a query is not running.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.bigdata.bop.engine.QueryEngine.ERR_QUERY_NOT_RUNNING">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="counters">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>counters</h4>
<pre>protected final&nbsp;<a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine">QueryEngineCounters</a> counters</pre>
<div class="block">Counters at the global level.</div>
</li>
</ul>
<a name="geoSpatialCounters">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>geoSpatialCounters</h4>
<pre>protected final&nbsp;<a href="../../../../com/bigdata/service/geospatial/GeoSpatialCounters.html" title="class in com.bigdata.service.geospatial">GeoSpatialCounters</a> geoSpatialCounters</pre>
<div class="block">GeoSpatial counters</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="QueryEngine-com.bigdata.journal.IIndexManager-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>QueryEngine</h4>
<pre>public&nbsp;QueryEngine(<a href="../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal">IIndexManager</a>&nbsp;localIndexManager)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>localIndexManager</code> - The <em>local</em> index manager.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getCounters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCounters</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a>&nbsp;getCounters()</pre>
<div class="block">Return a <a href="../../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters"><code>CounterSet</code></a> which reports various statistics for the
 <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/bigdata/counters/ICounterSetAccess.html#getCounters--">getCounters</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a></code></dd>
</dl>
</li>
</ul>
<a name="newCounters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newCounters</h4>
<pre>protected&nbsp;<a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine">QueryEngineCounters</a>&nbsp;newCounters()</pre>
<div class="block">Extension hook for new <a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine"><code>QueryEngineCounters</code></a> instances.</div>
</li>
</ul>
<a name="newGeoSpatialCounters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newGeoSpatialCounters</h4>
<pre>protected&nbsp;<a href="../../../../com/bigdata/service/geospatial/GeoSpatialCounters.html" title="class in com.bigdata.service.geospatial">GeoSpatialCounters</a>&nbsp;newGeoSpatialCounters()</pre>
<div class="block">Extension hook for new <a href="../../../../com/bigdata/service/geospatial/GeoSpatialCounters.html" title="class in com.bigdata.service.geospatial"><code>GeoSpatialCounters</code></a> instances.</div>
</li>
</ul>
<a name="getQueryEngineCounters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueryEngineCounters</h4>
<pre>protected&nbsp;<a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine">QueryEngineCounters</a>&nbsp;getQueryEngineCounters()</pre>
<div class="block">The <a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine"><code>QueryEngineCounters</code></a> object for this <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>.</div>
</li>
</ul>
<a name="getGeoSpatialCounters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGeoSpatialCounters</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/service/geospatial/GeoSpatialCounters.html" title="class in com.bigdata.service.geospatial">GeoSpatialCounters</a>&nbsp;getGeoSpatialCounters()</pre>
<div class="block">The <a href="../../../../com/bigdata/bop/engine/QueryEngineCounters.html" title="class in com.bigdata.bop.engine"><code>QueryEngineCounters</code></a> object for this <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>.</div>
</li>
</ul>
<a name="getServiceUUID--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceUUID</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;getServiceUUID()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryPeer.html#getServiceUUID--">IQueryPeer</a></code></span></div>
<div class="block">The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> of the service in which this <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> is
 running.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/bigdata/bop/engine/IQueryPeer.html#getServiceUUID--">getServiceUUID</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine">IQueryPeer</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> of the service in which this <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>
         is running -or- a unique and distinct UUID if the
         <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> is not running against an
         IBigdataFederation.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/bigdata/service/IService.html#getServiceUUID--"><code>IService.getServiceUUID()</code></a></dd>
</dl>
</li>
</ul>
<a name="getFederation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFederation</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service">IBigdataFederation</a>&lt;?&gt;&nbsp;getFederation()</pre>
<div class="block">The <a href="../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service"><code>IBigdataFederation</code></a> iff running in scale-out.
 <p>
 Note: The <a href="../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service"><code>IBigdataFederation</code></a> is required in scale-out in order to
 perform shard locator scans when mapping binding sets across the next
 join in a query plan.</div>
</li>
</ul>
<a name="getIndexManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexManager</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal">IIndexManager</a>&nbsp;getIndexManager()</pre>
<div class="block">The <em>local</em> index manager, which provides direct access to local
 <a href="../../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> and <a href="../../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a> objects. In scale-out, this is the
 <a href="../../../../com/bigdata/resources/IndexManager.html" title="class in com.bigdata.resources"><code>IndexManager</code></a> inside the <a href="../../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> and provides direct
 access to <a href="../../../../com/bigdata/btree/view/FusedView.html" title="class in com.bigdata.btree.view"><code>FusedView</code></a>s (aka shards).
 <p>
 Note: You MUST NOT use unisolated indices without obtaining the necessary
 locks. The <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> is intended to run only against committed
 index views for which no locks are required.</div>
</li>
</ul>
<a name="getConcurrencyManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConcurrencyManager</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal">ConcurrencyManager</a>&nbsp;getConcurrencyManager()</pre>
<div class="block">Return the <a href="../../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal"><code>ConcurrencyManager</code></a> for the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html#getIndexManager--"><code>local index manager</code></a>.</div>
</li>
</ul>
<a name="getProxy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProxy</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/engine/IQueryClient.html" title="interface in com.bigdata.bop.engine">IQueryClient</a>&nbsp;getProxy()</pre>
<div class="block">The RMI proxy for this <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> when used as a query controller.
 The default implementation returns <i>this</i>.</div>
</li>
</ul>
<a name="getClientConnectionManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientConnectionManager</h4>
<pre>public&nbsp;org.eclipse.jetty.client.HttpClient&nbsp;getClientConnectionManager()</pre>
<div class="block">Return the <code>HttpClient</code> used to make remote SERVICE call requests.</div>
</li>
</ul>
<a name="isScaleOut--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isScaleOut</h4>
<pre>public&nbsp;boolean&nbsp;isScaleOut()</pre>
<div class="block">Return <code>true</code> iff running against an
 <a href="../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service"><code>IBigdataFederation</code></a>.</div>
</li>
</ul>
<a name="addPendingCancel-java.util.UUID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPendingCancel</h4>
<pre>public&nbsp;void&nbsp;addPendingCancel(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId)</pre>
<div class="block">Add a query <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> to the LRU of query identifiers for which we
 have received a CANCEL request, but were unable to find a running QUERY,
 recently done query, or running UPDATE request.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queryId</code> - The UUID of the operation to be cancelled.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://trac.blazegraph.com/ticket/899"> REST API Query
      Cancellation </a></dd>
</dl>
</li>
</ul>
<a name="pendingCancel-java.util.UUID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingCancel</h4>
<pre>public&nbsp;boolean&nbsp;pendingCancel(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId)</pre>
<div class="block">Return <code>true</code> iff the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> is the the collection of
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a>s for which we have already received a CANCEL request.
 <p>
 Note: The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> is removed from the pending cancel collection as a
 side-effect.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queryId</code> - The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> of the operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if that operation has already been marked for
         cancellation.</dd>
</dl>
</li>
</ul>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init()</pre>
<div class="block">Initialize the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>. It will accept binding set chunks and
 run them against running queries until it is shutdown.</div>
</li>
</ul>
<a name="finalize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre>protected&nbsp;void&nbsp;finalize()
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block"><a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>s are used with a singleton pattern managed by the
 <a href="../../../../com/bigdata/bop/fed/QueryEngineFactory.html" title="class in com.bigdata.bop.fed"><code>QueryEngineFactory</code></a>. They are torn down automatically once they
 are no longer reachable. This behavior depends on not having any hard
 references back to the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a name="assertRunning--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertRunning</h4>
<pre>protected&nbsp;void&nbsp;assertRunning()</pre>
<div class="block">Return if the query engine is running.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the query engine is shutting down.</dd>
</dl>
</li>
</ul>
<a name="isRunning--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>protected&nbsp;boolean&nbsp;isRunning()</pre>
</li>
</ul>
<a name="execute-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execute</h4>
<pre>protected final&nbsp;void&nbsp;execute(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;r)</pre>
<div class="block">Executes the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang"><code>Runnable</code></a> on the local <a href="../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal"><code>IIndexManager</code></a>'s
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent"><code>ExecutorService</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>r</code> - The <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang"><code>Runnable</code></a>.</dd>
</dl>
</li>
</ul>
<a name="acceptChunk-com.bigdata.bop.engine.IChunkMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptChunk</h4>
<pre>protected&nbsp;boolean&nbsp;acceptChunk(<a href="../../../../com/bigdata/bop/engine/IChunkMessage.html" title="interface in com.bigdata.bop.engine">IChunkMessage</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;msg)</pre>
<div class="block">Add a chunk of intermediate results for consumption by some query. The
 chunk will be attached to the query and the query will be scheduled for
 execution.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - A chunk of intermediate results.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the chunk was accepted. This will return
         <code>false</code> if the query is done (including cancelled) or
         the query engine is shutdown. The <a href="../../../../com/bigdata/bop/engine/IChunkMessage.html" title="interface in com.bigdata.bop.engine"><code>IChunkMessage</code></a> will have
         been <a href="../../../../com/bigdata/bop/engine/IChunkMessage.html#release--"><code>released</code></a> if it was not
         accepted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the chunk is <code>null</code>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the chunk is not materialized.</dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Shutdown the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> (blocking). The <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> will
 not accept new queries, but existing queries will run to completion.</div>
</li>
</ul>
<a name="didShutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>didShutdown</h4>
<pre>protected&nbsp;void&nbsp;didShutdown()</pre>
<div class="block">Hook is notified by <a href="../../../../com/bigdata/bop/engine/QueryEngine.html#shutdown--"><code>shutdown()</code></a> when all running queries have
 terminated.</div>
</li>
</ul>
<a name="shutdownNow--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownNow</h4>
<pre>public&nbsp;void&nbsp;shutdownNow()</pre>
<div class="block">Do not accept new queries and halt any running binding set chunk tasks.</div>
</li>
</ul>
<a name="declareQuery-com.bigdata.bop.engine.IQueryDecl-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>declareQuery</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;void&nbsp;declareQuery(<a href="../../../../com/bigdata/bop/engine/IQueryDecl.html" title="interface in com.bigdata.bop.engine">IQueryDecl</a>&nbsp;queryDecl)
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryPeer.html#declareQuery-com.bigdata.bop.engine.IQueryDecl-">IQueryPeer</a></code></span></div>
<div class="block">Declare a query to a peer. This message is sent to the peer before any
 other message for that query and declares the query and the query
 controller with which the peer must communicate during query evaluation.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/bigdata/bop/engine/IQueryPeer.html#declareQuery-com.bigdata.bop.engine.IQueryDecl-">declareQuery</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine">IQueryPeer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queryDecl</code> - The query declaration.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></code></dd>
</dl>
</li>
</ul>
<a name="bufferReady-com.bigdata.bop.engine.IChunkMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bufferReady</h4>
<pre>public&nbsp;void&nbsp;bufferReady(<a href="../../../../com/bigdata/bop/engine/IChunkMessage.html" title="interface in com.bigdata.bop.engine">IChunkMessage</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;msg)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryPeer.html#bufferReady-com.bigdata.bop.engine.IChunkMessage-">IQueryPeer</a></code></span></div>
<div class="block">Notify a service that a buffer having data for some <a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop"><code>BOp</code></a> in some
 running query is available. The receiver may request the data when they
 are ready. If the query is cancelled, then the sender will drop the
 buffer.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/bigdata/bop/engine/IQueryPeer.html#bufferReady-com.bigdata.bop.engine.IChunkMessage-">bufferReady</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine">IQueryPeer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - The message.</dd>
</dl>
</li>
</ul>
<a name="cancelQuery-java.util.UUID-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelQuery</h4>
<pre>public&nbsp;void&nbsp;cancelQuery(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;cause)</pre>
<div class="block">Notify a service that the query has been terminated. The peer MUST NOT
 cancel the query synchronously as that can lead to a deadlock with the
 query controller. Instead, the peer should queue a task to cancel the
 query and then return.
 <p>
 The default implementation is a NOP.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/bigdata/bop/engine/IQueryPeer.html#cancelQuery-java.util.UUID-java.lang.Throwable-">cancelQuery</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine">IQueryPeer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queryId</code> - The query identifier.</dd>
<dd><code>cause</code> - The cause. When <code>null</code>, this is presumed to be
            normal query termination.</dd>
</dl>
</li>
</ul>
<a name="getQuery-java.util.UUID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQuery</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/PipelineOp.html" title="class in com.bigdata.bop">PipelineOp</a>&nbsp;getQuery(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html#getQuery-java.util.UUID-">IQueryClient</a></code></span></div>
<div class="block">Return the query.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html#getQuery-java.util.UUID-">getQuery</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html" title="interface in com.bigdata.bop.engine">IQueryClient</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queryId</code> - The query identifier.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The query.</dd>
</dl>
</li>
</ul>
<a name="startOp-com.bigdata.bop.engine.IStartOpMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startOp</h4>
<pre>public&nbsp;void&nbsp;startOp(<a href="../../../../com/bigdata/bop/engine/IStartOpMessage.html" title="interface in com.bigdata.bop.engine">IStartOpMessage</a>&nbsp;msg)
             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html#startOp-com.bigdata.bop.engine.IStartOpMessage-">IQueryClient</a></code></span></div>
<div class="block">Notify the client that execution has started for some query, operator,
 node, and index partition.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html#startOp-com.bigdata.bop.engine.IStartOpMessage-">startOp</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html" title="interface in com.bigdata.bop.engine">IQueryClient</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></code></dd>
</dl>
</li>
</ul>
<a name="haltOp-com.bigdata.bop.engine.IHaltOpMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>haltOp</h4>
<pre>public&nbsp;void&nbsp;haltOp(<a href="../../../../com/bigdata/bop/engine/IHaltOpMessage.html" title="interface in com.bigdata.bop.engine">IHaltOpMessage</a>&nbsp;msg)
            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html#haltOp-com.bigdata.bop.engine.IHaltOpMessage-">IQueryClient</a></code></span></div>
<div class="block">Notify the client that execution has halted for some query, operator,
 node, shard, and source binding set chunk(s). If execution halted
 abnormally, then the cause is sent as well.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html#haltOp-com.bigdata.bop.engine.IHaltOpMessage-">haltOp</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html" title="interface in com.bigdata.bop.engine">IQueryClient</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></code></dd>
</dl>
</li>
</ul>
<a name="eval-com.bigdata.bop.BOp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eval</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;eval(<a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Evaluate a query. This node will serve as the controller for the query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - The query to evaluate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../com/bigdata/bop/engine/IRunningQuery.html" title="interface in com.bigdata.bop.engine"><code>IRunningQuery</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> has been <a href="../../../../com/bigdata/bop/engine/QueryEngine.html#shutdown--"><code>shutdown()</code></a>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="eval-com.bigdata.bop.BOp-com.bigdata.bop.IBindingSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eval</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;eval(<a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
                                 <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&nbsp;bset)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Evaluate a query. This node will serve as the controller for the query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - The query to evaluate.</dd>
<dd><code>bset</code> - The initial binding set to present.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../com/bigdata/bop/engine/IRunningQuery.html" title="interface in com.bigdata.bop.engine"><code>IRunningQuery</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> has been <a href="../../../../com/bigdata/bop/engine/QueryEngine.html#shutdown--"><code>shutdown()</code></a>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="eval-java.util.UUID-com.bigdata.bop.BOp-com.bigdata.bop.IBindingSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eval</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;eval(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
                                 <a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
                                 <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&nbsp;bset)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Note: Used only by the test suite.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="eval-java.util.UUID-com.bigdata.bop.BOp-java.util.Map-com.bigdata.bop.IBindingSet:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eval</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;eval(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
                                 <a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;queryAttributes,
                                 <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;bset)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Note: Used only by the test suite.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="eval-java.util.UUID-com.bigdata.bop.BOp-java.util.Map-com.bigdata.bop.IBindingSet:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eval</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;eval(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
                                 <a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;queryAttributes,
                                 <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[][]&nbsp;bset)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Note: Used only by the test suite.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="eval-com.bigdata.bop.BOp-com.bigdata.bop.IBindingSet:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eval</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;eval(<a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
                                 <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;bsets)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Evaluate a query. This node will serve as the controller for the query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - The query to evaluate.</dd>
<dd><code>bsets</code> - The initial binding sets to present.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../com/bigdata/bop/engine/IRunningQuery.html" title="interface in com.bigdata.bop.engine"><code>IRunningQuery</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> has been <a href="../../../../com/bigdata/bop/engine/QueryEngine.html#shutdown--"><code>shutdown()</code></a>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="eval-com.bigdata.bop.BOp-com.bigdata.bop.IBindingSet:A-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eval</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;eval(<a href="../../../../com/bigdata/bop/BOp.html" title="interface in com.bigdata.bop">BOp</a>&nbsp;op,
                                 <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;bsets,
                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;attribs)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Evaluate a query. This node will serve as the controller for the query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - The query to evaluate.</dd>
<dd><code>bsets</code> - The initial binding sets to present.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../com/bigdata/bop/engine/IRunningQuery.html" title="interface in com.bigdata.bop.engine"><code>IRunningQuery</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> has been <a href="../../../../com/bigdata/bop/engine/QueryEngine.html#shutdown--"><code>shutdown()</code></a>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="eval-java.util.UUID-com.bigdata.bop.PipelineOp-java.util.Map-com.bigdata.bop.engine.IChunkMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eval</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;eval(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
                                 <a href="../../../../com/bigdata/bop/PipelineOp.html" title="class in com.bigdata.bop">PipelineOp</a>&nbsp;query,
                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;queryAttributes,
                                 <a href="../../../../com/bigdata/bop/engine/IChunkMessage.html" title="interface in com.bigdata.bop.engine">IChunkMessage</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;msg)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Evaluate a query. This node will serve as the controller for the query.
 The <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s made available by the <a href="../../../../com/bigdata/bop/engine/IChunkMessage.html" title="interface in com.bigdata.bop.engine"><code>IChunkMessage</code></a> will
 be pushed into the query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queryId</code> - The unique identifier for the query.</dd>
<dd><code>query</code> - The query to evaluate.</dd>
<dd><code>attribs</code> - Attributes to be attached to the query before it begins to
            execute (optional).</dd>
<dd><code>msg</code> - A message providing access to the initial <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>binding set(s)</code></a> used to begin query evaluation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../com/bigdata/bop/engine/IRunningQuery.html" title="interface in com.bigdata.bop.engine"><code>IRunningQuery</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <a href="../../../../com/bigdata/bop/engine/QueryEngine.html" title="class in com.bigdata.bop.engine"><code>QueryEngine</code></a> has been <a href="../../../../com/bigdata/bop/engine/QueryEngine.html#shutdown--"><code>shutdown()</code></a>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="putIfAbsent-java.util.UUID-com.bigdata.bop.engine.AbstractRunningQuery-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putIfAbsent</h4>
<pre>protected&nbsp;<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;putIfAbsent(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
                                           <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;runningQuery)</pre>
<div class="block">Places the <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine"><code>AbstractRunningQuery</code></a> object into the internal map.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queryId</code> - The query identifier.</dd>
<dd><code>runningQuery</code> - The <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine"><code>AbstractRunningQuery</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine"><code>AbstractRunningQuery</code></a> -or- another
         <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine"><code>AbstractRunningQuery</code></a> iff one exists with the same
         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a>.</dd>
</dl>
</li>
</ul>
<a name="getRunningQuery-java.util.UUID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRunningQuery</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;getRunningQuery(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId)</pre>
<div class="block">Return the <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine"><code>AbstractRunningQuery</code></a> associated with that query
 identifier.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queryId</code> - The query identifier.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine"><code>AbstractRunningQuery</code></a> -or- <code>null</code> if there
         is no query associated with that query identifier.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang">RuntimeException</a></code> - if the query halted with an error (if the query halted
             normally this will wrap an <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a>).</dd>
</dl>
</li>
</ul>
<a name="halt-com.bigdata.bop.engine.AbstractRunningQuery-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>halt</h4>
<pre>protected&nbsp;void&nbsp;halt(<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;q)</pre>
<div class="block">The query is no longer running. Resources associated with the query
 should be released.</div>
</li>
</ul>
<a name="addListener-com.bigdata.bop.engine.QueryEngine.IRunningQueryListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addListener</h4>
<pre>public&nbsp;void&nbsp;addListener(<a href="../../../../com/bigdata/bop/engine/QueryEngine.IRunningQueryListener.html" title="interface in com.bigdata.bop.engine">QueryEngine.IRunningQueryListener</a>&nbsp;l)</pre>
<div class="block">Add a query listener.</div>
</li>
</ul>
<a name="removeListener-com.bigdata.bop.engine.QueryEngine.IRunningQueryListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeListener</h4>
<pre>public&nbsp;void&nbsp;removeListener(<a href="../../../../com/bigdata/bop/engine/QueryEngine.IRunningQueryListener.html" title="interface in com.bigdata.bop.engine">QueryEngine.IRunningQueryListener</a>&nbsp;l)</pre>
<div class="block">Remove a query listener.</div>
</li>
</ul>
<a name="newRunningQuery-java.util.UUID-boolean-com.bigdata.bop.engine.IQueryClient-java.util.UUID-com.bigdata.bop.PipelineOp-com.bigdata.bop.engine.IChunkMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newRunningQuery</h4>
<pre>protected&nbsp;<a href="../../../../com/bigdata/bop/engine/AbstractRunningQuery.html" title="class in com.bigdata.bop.engine">AbstractRunningQuery</a>&nbsp;newRunningQuery(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryId,
                                               boolean&nbsp;controller,
                                               <a href="../../../../com/bigdata/bop/engine/IQueryClient.html" title="interface in com.bigdata.bop.engine">IQueryClient</a>&nbsp;clientProxy,
                                               <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;queryControllerId,
                                               <a href="../../../../com/bigdata/bop/PipelineOp.html" title="class in com.bigdata.bop">PipelineOp</a>&nbsp;query,
                                               <a href="../../../../com/bigdata/bop/engine/IChunkMessage.html" title="interface in com.bigdata.bop.engine">IChunkMessage</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;realSource)</pre>
<div class="block">Factory for <a href="../../../../com/bigdata/bop/engine/IRunningQuery.html" title="interface in com.bigdata.bop.engine"><code>IRunningQuery</code></a>s.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/bigdata/bop/engine/QueryEngine.Annotations.html#RUNNING_QUERY_CLASS"><code>QueryEngine.Annotations.RUNNING_QUERY_CLASS</code></a></dd>
</dl>
</li>
</ul>
<a name="getRunningQueries--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRunningQueries</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>[]&nbsp;getRunningQueries()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html#getRunningQueries--">IQueryClient</a></code></span></div>
<div class="block">Return the set of queries which are running as of the moment when the
 request was processed. Queries reported in the returned array may
 terminate at any time.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html#getRunningQueries--">getRunningQueries</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/engine/IQueryClient.html" title="interface in com.bigdata.bop.engine">IQueryClient</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueryEngine.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/bop/engine/QueryDecl.html" title="class in com.bigdata.bop.engine"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/bigdata/bop/engine/QueryEngine.Annotations.html" title="interface in com.bigdata.bop.engine"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/bop/engine/QueryEngine.html" target="_top">Frames</a></li>
<li><a href="QueryEngine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
