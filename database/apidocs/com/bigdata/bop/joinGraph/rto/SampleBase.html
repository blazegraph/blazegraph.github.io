<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Mon Aug 29 21:18:12 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SampleBase (Blazegraph Database Platform 2.1.4 API)</title>
<meta name="date" content="2016-08-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SampleBase (Blazegraph Database Platform 2.1.4 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SampleBase.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/bigdata/bop/joinGraph/rto/PathIds.html" title="class in com.bigdata.bop.joinGraph.rto"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/bigdata/bop/joinGraph/rto/TestAll.html" title="class in com.bigdata.bop.joinGraph.rto"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/bigdata/bop/joinGraph/rto/SampleBase.html" target="_top">Frames</a></li>
<li><a href="SampleBase.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.bop.joinGraph.rto</div>
<h2 title="Class SampleBase" class="title">Class SampleBase</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.bop.joinGraph.rto.SampleBase</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../com/bigdata/bop/joinGraph/rto/EdgeSample.html" title="class in com.bigdata.bop.joinGraph.rto">EdgeSample</a>, <a href="../../../../../com/bigdata/bop/joinGraph/rto/VertexSample.html" title="class in com.bigdata.bop.joinGraph.rto">VertexSample</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">SampleBase</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Base class for a sample taken from a vertex (access path) or edge (cutoff
 join).</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$
 
          TODO Large samples should be buffered on the <a href="../../../../../com/bigdata/rwstore/sector/IMemoryManager.html" title="interface in com.bigdata.rwstore.sector"><code>IMemoryManager</code></a>
          so they do not pose a burden on the heap. This will require us to
          manage the allocation contexts so we can release samples in a timely
          manner once they are no longer used and always release samples by
          the time the RTO is finished. [There is an additional twist if we
          have fully materialized some part of the join since we no longer
          need to evaluate that path segment. If the RTO can interleave query
          evaluation with exploration then we can take advantage of these
          materialized solutions.]</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#estCard">estCard</a></strong></code>
<div class="block">The total estimated cardinality of the underlying access path (for a
 vertex) or the join path segment (for a cutoff join).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/bigdata/bop/joinGraph/rto/EstimateEnum.html" title="enum in com.bigdata.bop.joinGraph.rto">EstimateEnum</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#estimateEnum">estimateEnum</a></strong></code>
<div class="block">Indicates whether the estimate is exact, an upper bound, or a lower
 bound.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#limit">limit</a></strong></code>
<div class="block">The limit used to produce the <a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#getSample()"><code>sample</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#SampleBase(long,%20int,%20com.bigdata.bop.joinGraph.rto.EstimateEnum,%20com.bigdata.bop.IBindingSet[])">SampleBase</a></strong>(long&nbsp;estimatedCardinality,
          int&nbsp;limit,
          <a href="../../../../../com/bigdata/bop/joinGraph/rto/EstimateEnum.html" title="enum in com.bigdata.bop.joinGraph.rto">EstimateEnum</a>&nbsp;estimateEnum,
          <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;sample)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#getSample()">getSample</a></strong>()</code>
<div class="block">The sampled solution set.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#isExact()">isExact</a></strong>()</code>
<div class="block">Return <code>true</code> iff this sample is the fully materialized
 solution for the vertex or join path segment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#isUnderflow()">isUnderflow</a></strong>()</code>
<div class="block">Return <code>true</code> iff this sample has cardinality underflow (the
 sample is empty).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#toString(java.lang.StringBuilder)">toString</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html?is-external=true" title="class or interface in java.lang">StringBuilder</a>&nbsp;sb)</code>
<div class="block">Hook for extending <a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#toString()"><code>toString()</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="estCard">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estCard</h4>
<pre>public final&nbsp;long estCard</pre>
<div class="block">The total estimated cardinality of the underlying access path (for a
 vertex) or the join path segment (for a cutoff join).
 
 TODO When using a non-perfect index, the estimated cardinality is only
 part of the cost. The #of tuples scanned is also important. Even when
 scanning and filtering in key order this could trigger random IOs unless
 the file has index order (an IndexSegment file has index order but a
 BTree on a journal does not).</div>
</li>
</ul>
<a name="limit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>limit</h4>
<pre>public final&nbsp;int limit</pre>
<div class="block">The limit used to produce the <a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#getSample()"><code>sample</code></a>.</div>
</li>
</ul>
<a name="estimateEnum">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>estimateEnum</h4>
<pre>public final&nbsp;<a href="../../../../../com/bigdata/bop/joinGraph/rto/EstimateEnum.html" title="enum in com.bigdata.bop.joinGraph.rto">EstimateEnum</a> estimateEnum</pre>
<div class="block">Indicates whether the estimate is exact, an upper bound, or a lower
 bound.
 
 TODO When the input to a cutoff join is <a href="../../../../../com/bigdata/bop/joinGraph/rto/EstimateEnum.html#Exact"><code>EstimateEnum.Exact</code></a>, we
 could run the join against the sample rather than the disk by wrapping
 the sample as an inline access path.
 
 TODO This field should be used to avoid needless re-computation of a join
 whose exact solution is already known. We already do this within the
 runtime optimizer. To go further than that we need to do the partial
 evaluation of the join graph.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SampleBase(long, int, com.bigdata.bop.joinGraph.rto.EstimateEnum, com.bigdata.bop.IBindingSet[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SampleBase</h4>
<pre>public&nbsp;SampleBase(long&nbsp;estimatedCardinality,
          int&nbsp;limit,
          <a href="../../../../../com/bigdata/bop/joinGraph/rto/EstimateEnum.html" title="enum in com.bigdata.bop.joinGraph.rto">EstimateEnum</a>&nbsp;estimateEnum,
          <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;sample)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>estimatedCardinality</code> - The estimated cardinality.</dd><dd><code>limit</code> - The cutoff limit used to make that cardinality estimate.</dd><dd><code>estimateEnum</code> - Type safe enumeration indication various edge conditions which
            can arise when making a cardinality estimate.</dd><dd><code>sample</code> - The sample.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isExact()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExact</h4>
<pre>public&nbsp;boolean&nbsp;isExact()</pre>
<div class="block">Return <code>true</code> iff this sample is the fully materialized
 solution for the vertex or join path segment.</div>
</li>
</ul>
<a name="isUnderflow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUnderflow</h4>
<pre>public&nbsp;boolean&nbsp;isUnderflow()</pre>
<div class="block">Return <code>true</code> iff this sample has cardinality underflow (the
 sample is empty). Cardinality underflow occurs when the sampling process
 was unable to find any solutions. Underflow is typically addressed by
 increasing the sample size, but sometimes underflow indicates that an
 access path (if it has filters) or a join may not have any solutions in
 the data.</div>
</li>
</ul>
<a name="getSample()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSample</h4>
<pre>public&nbsp;<a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;getSample()</pre>
<div class="block">The sampled solution set.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The sampled solution set -or- <code>null</code> if it has been
         released.
 
         TODO Wrap up as an <a href="../../../../../com/bigdata/bop/engine/IChunkMessage.html" title="interface in com.bigdata.bop.engine"><code>IChunkMessage</code></a> so we can store this on
         the native heap?</dd></dl>
</li>
</ul>
<a name="toString(java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>protected&nbsp;void&nbsp;toString(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html?is-external=true" title="class or interface in java.lang">StringBuilder</a>&nbsp;sb)</pre>
<div class="block">Hook for extending <a href="../../../../../com/bigdata/bop/joinGraph/rto/SampleBase.html#toString()"><code>toString()</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sb</code> - The buffer into which the implementation can write additional
            information.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SampleBase.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/bigdata/bop/joinGraph/rto/PathIds.html" title="class in com.bigdata.bop.joinGraph.rto"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/bigdata/bop/joinGraph/rto/TestAll.html" title="class in com.bigdata.bop.joinGraph.rto"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/bigdata/bop/joinGraph/rto/SampleBase.html" target="_top">Frames</a></li>
<li><a href="SampleBase.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
