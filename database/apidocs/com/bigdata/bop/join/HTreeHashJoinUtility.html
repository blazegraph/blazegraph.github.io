<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Wed Jan 20 23:38:42 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>HTreeHashJoinUtility (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-20">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HTreeHashJoinUtility (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HTreeHashJoinUtility.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/bop/join/HTreeHashJoinOp.Annotations.html" title="interface in com.bigdata.bop.join"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.BS.html" title="class in com.bigdata.bop.join"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/bop/join/HTreeHashJoinUtility.html" target="_top">Frames</a></li>
<li><a href="HTreeHashJoinUtility.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.bop.join</div>
<h2 title="Class HTreeHashJoinUtility" class="title">Class HTreeHashJoinUtility</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.bop.join.HTreeHashJoinUtility</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../com/bigdata/bop/join/HTreePipelinedHashJoinUtility.html" title="class in com.bigdata.bop.join">HTreePipelinedHashJoinUtility</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">HTreeHashJoinUtility</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></pre>
<div class="block">Utility methods to support hash index builds and hash index joins using a
 scalable native memory data structures.
 
 <h2>Vectoring and IV encoding</h2>
 
 In order to provide efficient encoding and persistence of solutions on the
 <a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>, this class is written directly to the RDF data model. Rather
 than POJO serialization, solutions are encoded as logical <a href="../../../../com/bigdata/rdf/internal/IV.html" title="interface in com.bigdata.rdf.internal"><code>IV</code></a>[]s in a
 manner very similar to how we represent the keys of the statement indices.
 <p>
 Since this encoding does not persist the <a href="../../../../com/bigdata/rdf/internal/IVCache.html#getValue()"><code>cache</code></a>, a
 separate mapping must be maintained from <a href="../../../../com/bigdata/rdf/internal/IV.html" title="interface in com.bigdata.rdf.internal"><code>IV</code></a> to <a href="../../../../com/bigdata/rdf/model/BigdataValue.html" title="interface in com.bigdata.rdf.model"><code>BigdataValue</code></a>
 for those <a href="../../../../com/bigdata/rdf/internal/IV.html" title="interface in com.bigdata.rdf.internal"><code>IV</code></a>s which have a materialized <a href="../../../../com/bigdata/rdf/model/BigdataValue.html" title="interface in com.bigdata.rdf.model"><code>BigdataValue</code></a>.
 
 TODO Do a 64-bit hash version which could be used for hash indices having
 more than 500M distinct join variable combinations. Note that at 500M
 distinct join variable combinations we have a 1 in 4 chance of a hash
 collision. Whether or not that turns into a cost really depends on the
 cardinality of the solutions per distinct combination of the join variables.
 If there is only one solution per join variable combination, then those
 collisions will cause basically no increase in the work to be done. However,
 if there are 50,000 solutions per distinct combination of the join variables
 then we would be better off using a 64-bit hash code.
 
 FIXME Vector resolution of ivCache. Various methods use
 <a href="../../../../com/bigdata/rdf/internal/encoder/IVBindingSetEncoderWithIVCache.html#resolveCachedValues(com.bigdata.bop.IBindingSet)"><code>IVBindingSetEncoderWithIVCache.resolveCachedValues(IBindingSet)</code></a></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id: HTreeHashJoinUtility.java 5568 2011-11-07 19:39:12Z thompsonbry</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.BS.html" title="class in com.bigdata.bop.join">HTreeHashJoinUtility.BS</a></strong></code>
<div class="block">Glue class for hash code and binding set used when the hash code is for
 just the join variables rather than the entire binding set.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../com/bigdata/bop/join/IHashJoinUtilityFactory.html" title="interface in com.bigdata.bop.join">IHashJoinUtilityFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#factory">factory</a></strong></code>
<div class="block">Singleton <a href="../../../../com/bigdata/bop/join/IHashJoinUtilityFactory.html" title="interface in com.bigdata.bop.join"><code>IHashJoinUtilityFactory</code></a> that can be used to create a 
 new <a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html" title="class in com.bigdata.bop.join"><code>HTreeHashJoinUtility</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/counters/CAT.html" title="class in com.bigdata.counters">CAT</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#nJoinsConsidered">nJoinsConsidered</a></strong></code>
<div class="block">The #of solution pairs considered for a join.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/counters/CAT.html" title="class in com.bigdata.counters">CAT</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#nleftConsidered">nleftConsidered</a></strong></code>
<div class="block">The #of left solutions considered for a join.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/counters/CAT.html" title="class in com.bigdata.counters">CAT</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#nrightConsidered">nrightConsidered</a></strong></code>
<div class="block">The #of right solutions considered for a join.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#HTreeHashJoinUtility(com.bigdata.rwstore.sector.IMemoryManager,%20com.bigdata.bop.PipelineOp,%20com.bigdata.bop.join.JoinTypeEnum)">HTreeHashJoinUtility</a></strong>(<a href="../../../../com/bigdata/rwstore/sector/IMemoryManager.html" title="interface in com.bigdata.rwstore.sector">IMemoryManager</a>&nbsp;mmgr,
                    <a href="../../../../com/bigdata/bop/PipelineOp.html" title="class in com.bigdata.bop">PipelineOp</a>&nbsp;op,
                    <a href="../../../../com/bigdata/bop/join/JoinTypeEnum.html" title="enum in com.bigdata.bop.join">JoinTypeEnum</a>&nbsp;joinType)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#acceptSolutions(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats)">acceptSolutions</a></strong>(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;itr,
               <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats)</code>
<div class="block">Buffer solutions on a hash index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#decodeSolution(com.bigdata.btree.ITuple)">decodeSolution</a></strong>(<a href="../../../../com/bigdata/btree/ITuple.html" title="interface in com.bigdata.btree">ITuple</a>&lt;?&gt;&nbsp;t)</code>
<div class="block">Decode a solution from an encoded <a href="../../../../com/bigdata/rdf/internal/IV.html" title="interface in com.bigdata.rdf.internal"><code>IV</code></a>[].</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#filterSolutions(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer)">filterSolutions</a></strong>(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;itr,
               <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
               <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;sink)</code>
<div class="block">Filter solutions, writing only the DISTINCT solutions onto the sink.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getAskVar()">getAskVar</a></strong>()</code>
<div class="block">The variable bound based on whether or not a solution survives an
 "EXISTS" graph pattern (optional).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getConstraints()">getConstraints</a></strong>()</code>
<div class="block">The join constraints (optional).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/rdf/internal/encoder/IVBindingSetEncoderWithIVCache.html" title="class in com.bigdata.rdf.internal.encoder">IVBindingSetEncoderWithIVCache</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getEncoder()">getEncoder</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="../../../../com/bigdata/btree/HTreeIndexMetadata.html" title="class in com.bigdata.btree">HTreeIndexMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getIndexMetadata(com.bigdata.bop.PipelineOp)">getIndexMetadata</a></strong>(<a href="../../../../com/bigdata/bop/PipelineOp.html" title="class in com.bigdata.bop">PipelineOp</a>&nbsp;op)</code>
<div class="block">Setup the <a href="../../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> for <a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#rightSolutions"><code>rightSolutions</code></a> or
 <a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#joinSet"><code>joinSet</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getJoinSet()">getJoinSet</a></strong>()</code>
<div class="block">The set of distinct source solutions which joined.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getJoinSetSize()">getJoinSetSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/join/JoinTypeEnum.html" title="enum in com.bigdata.bop.join">JoinTypeEnum</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getJoinType()">getJoinType</a></strong>()</code>
<div class="block">Return the type safe enumeration indicating what kind of operation is to
 be performed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getJoinVars()">getJoinVars</a></strong>()</code>
<div class="block">The join variables.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getNoJoinVarsLimit()">getNoJoinVarsLimit</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getOpen()">getOpen</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getOutputDistintcJVs()">getOutputDistintcJVs</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getRightSolutionCount()">getRightSolutionCount</a></strong>()</code>
<div class="block">Return the #of solutions in the hash index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getRightSolutions()">getRightSolutions</a></strong>()</code>
<div class="block">The hash index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getSelectVars()">getSelectVars</a></strong>()</code>
<div class="block">The variables to be retained (optional, all variables are retained if
 not specified).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#getStore()">getStore</a></strong>()</code>
<div class="block">The backing <a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#hashJoin(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer)">hashJoin</a></strong>(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;leftItr,
        <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
        <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer)</code>
<div class="block">Do a hash join between a stream of source solutions (left) and a hash
 index (right).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#hashJoin2(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer,%20com.bigdata.bop.IConstraint[])">hashJoin2</a></strong>(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;leftItr,
         <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
         <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer,
         <a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]&nbsp;constraints)</code>
<div class="block">Variant hash join method allows the caller to impose different
 constraints or additional constraints.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#indexScan()">indexScan</a></strong>()</code>
<div class="block">Return an <code>BytesTrie.Iterator</code> that visits all solutions in the index (index
 scan).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#isEmpty()">isEmpty</a></strong>()</code>
<div class="block">Return <code>true</code> iff there are no solutions in the hash index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#isOutputDistinctJoinVars()">isOutputDistinctJoinVars</a></strong>()</code>
<div class="block">Returns true if the projection outputs the distinct join vars (in
 that case, the variables delivered by {<a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getSelectVars()"><code>IHashJoinUtility.getSelectVars()</code></a> will
 be ignored, might even be uninitialized).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#mergeJoin(com.bigdata.bop.join.IHashJoinUtility[],%20com.bigdata.relation.accesspath.IBuffer,%20com.bigdata.bop.IConstraint[],%20boolean)">mergeJoin</a></strong>(<a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a>[]&nbsp;others,
         <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer,
         <a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]&nbsp;constraints,
         boolean&nbsp;optional)</code>
<div class="block">Perform an N-way merge join.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#outputJoinSet(com.bigdata.relation.accesspath.IBuffer)">outputJoinSet</a></strong>(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;out)</code>
<div class="block">Output the solutions which joined.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#outputOptionals(com.bigdata.relation.accesspath.IBuffer)">outputOptionals</a></strong>(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer)</code>
<div class="block">Identify and output the optional solutions.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#outputSolutions(com.bigdata.relation.accesspath.IBuffer)">outputSolutions</a></strong>(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;out)</code>
<div class="block">Output the solutions buffered in the hash index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#release()">release</a></strong>()</code>
<div class="block">Discard the hash index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#saveInJoinSet(int,%20byte[])">saveInJoinSet</a></strong>(int&nbsp;joinSetHashCode,
             byte[]&nbsp;val)</code>
<div class="block">Add to 2nd hash tree of all solutions which join.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#saveSolutionSet()">saveSolutionSet</a></strong>()</code>
<div class="block">Checkpoint the generated hash index such that it becomes safe for
 concurrent readers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#toString()">toString</a></strong>()</code>
<div class="block">Human readable representation of the <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join"><code>IHashJoinUtility</code></a> metadata
 (but not the solutions themselves).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.BS.html" title="class in com.bigdata.bop.join">HTreeHashJoinUtility.BS</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#vector(com.bigdata.bop.IBindingSet[],%20com.bigdata.bop.IVariable[],%20com.bigdata.bop.IVariable[],%20boolean,%20java.util.concurrent.atomic.AtomicInteger)">vector</a></strong>(<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;leftSolutions,
      <a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]&nbsp;joinVars,
      <a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]&nbsp;selectVars,
      boolean&nbsp;ignoreUnboundVariables,
      <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&nbsp;vectorSize)</code>
<div class="block">Vector a chunk of solutions.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="factory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>factory</h4>
<pre>public static final&nbsp;<a href="../../../../com/bigdata/bop/join/IHashJoinUtilityFactory.html" title="interface in com.bigdata.bop.join">IHashJoinUtilityFactory</a> factory</pre>
<div class="block">Singleton <a href="../../../../com/bigdata/bop/join/IHashJoinUtilityFactory.html" title="interface in com.bigdata.bop.join"><code>IHashJoinUtilityFactory</code></a> that can be used to create a 
 new <a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html" title="class in com.bigdata.bop.join"><code>HTreeHashJoinUtility</code></a>.</div>
</li>
</ul>
<a name="nleftConsidered">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nleftConsidered</h4>
<pre>protected final&nbsp;<a href="../../../../com/bigdata/counters/CAT.html" title="class in com.bigdata.counters">CAT</a> nleftConsidered</pre>
<div class="block">The #of left solutions considered for a join.</div>
</li>
</ul>
<a name="nrightConsidered">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nrightConsidered</h4>
<pre>protected final&nbsp;<a href="../../../../com/bigdata/counters/CAT.html" title="class in com.bigdata.counters">CAT</a> nrightConsidered</pre>
<div class="block">The #of right solutions considered for a join.</div>
</li>
</ul>
<a name="nJoinsConsidered">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>nJoinsConsidered</h4>
<pre>protected final&nbsp;<a href="../../../../com/bigdata/counters/CAT.html" title="class in com.bigdata.counters">CAT</a> nJoinsConsidered</pre>
<div class="block">The #of solution pairs considered for a join.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="HTreeHashJoinUtility(com.bigdata.rwstore.sector.IMemoryManager, com.bigdata.bop.PipelineOp, com.bigdata.bop.join.JoinTypeEnum)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HTreeHashJoinUtility</h4>
<pre>public&nbsp;HTreeHashJoinUtility(<a href="../../../../com/bigdata/rwstore/sector/IMemoryManager.html" title="interface in com.bigdata.rwstore.sector">IMemoryManager</a>&nbsp;mmgr,
                    <a href="../../../../com/bigdata/bop/PipelineOp.html" title="class in com.bigdata.bop">PipelineOp</a>&nbsp;op,
                    <a href="../../../../com/bigdata/bop/join/JoinTypeEnum.html" title="enum in com.bigdata.bop.join">JoinTypeEnum</a>&nbsp;joinType)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mmgr</code> - The IMemoryManager which will back the named solution set.</dd><dd><code>op</code> - The operator whose annotation will inform construction the
            hash index. The <a href="../../../../com/bigdata/bop/HTreeAnnotations.html" title="interface in com.bigdata.bop"><code>HTreeAnnotations</code></a> may be specified for
            this operator and will control the initialization of the
            various <a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> instances.</dd><dd><code>joinType</code> - The type of join to be performed.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/bop/join/HTreeHashJoinAnnotations.html" title="interface in com.bigdata.bop.join"><code>HTreeHashJoinAnnotations</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOpen</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a>&nbsp;getOpen()</pre>
</li>
</ul>
<a name="getEncoder()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncoder</h4>
<pre>protected&nbsp;<a href="../../../../com/bigdata/rdf/internal/encoder/IVBindingSetEncoderWithIVCache.html" title="class in com.bigdata.rdf.internal.encoder">IVBindingSetEncoderWithIVCache</a>&nbsp;getEncoder()</pre>
</li>
</ul>
<a name="getNoJoinVarsLimit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNoJoinVarsLimit</h4>
<pre>protected&nbsp;long&nbsp;getNoJoinVarsLimit()</pre>
</li>
</ul>
<a name="getOutputDistintcJVs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputDistintcJVs</h4>
<pre>protected&nbsp;boolean&nbsp;getOutputDistintcJVs()</pre>
</li>
</ul>
<a name="getRightSolutions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRightSolutions</h4>
<pre>protected&nbsp;<a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a>&nbsp;getRightSolutions()</pre>
<div class="block">The hash index.</div>
</li>
</ul>
<a name="getJoinSet()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJoinSet</h4>
<pre>protected&nbsp;<a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a>&nbsp;getJoinSet()</pre>
<div class="block">The set of distinct source solutions which joined. This set is
 maintained iff the join is optional and is <code>null</code>
 otherwise.</div>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<div class="block">Human readable representation of the <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join"><code>IHashJoinUtility</code></a> metadata
 (but not the solutions themselves).</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="isEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre>public&nbsp;boolean&nbsp;isEmpty()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#isEmpty()">IHashJoinUtility</a></code></strong></div>
<div class="block">Return <code>true</code> iff there are no solutions in the hash index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#isEmpty()">isEmpty</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
</dl>
</li>
</ul>
<a name="getRightSolutionCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRightSolutionCount</h4>
<pre>public&nbsp;long&nbsp;getRightSolutionCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getRightSolutionCount()">IHashJoinUtility</a></code></strong></div>
<div class="block">Return the #of solutions in the hash index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getRightSolutionCount()">getRightSolutionCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
</dl>
</li>
</ul>
<a name="getJoinSetSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJoinSetSize</h4>
<pre>protected&nbsp;long&nbsp;getJoinSetSize()</pre>
</li>
</ul>
<a name="getJoinType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJoinType</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/join/JoinTypeEnum.html" title="enum in com.bigdata.bop.join">JoinTypeEnum</a>&nbsp;getJoinType()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getJoinType()">IHashJoinUtility</a></code></strong></div>
<div class="block">Return the type safe enumeration indicating what kind of operation is to
 be performed.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getJoinType()">getJoinType</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
</dl>
</li>
</ul>
<a name="getAskVar()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAskVar</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;&nbsp;getAskVar()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getAskVar()">IHashJoinUtility</a></code></strong></div>
<div class="block">The variable bound based on whether or not a solution survives an
 "EXISTS" graph pattern (optional).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getAskVar()">getAskVar</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/bop/join/HashJoinAnnotations.html#ASK_VAR"><code>HashJoinAnnotations.ASK_VAR</code></a></dd></dl>
</li>
</ul>
<a name="getJoinVars()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJoinVars</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]&nbsp;getJoinVars()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getJoinVars()">IHashJoinUtility</a></code></strong></div>
<div class="block">The join variables.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getJoinVars()">getJoinVars</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/bop/join/HashJoinAnnotations.html#JOIN_VARS"><code>HashJoinAnnotations.JOIN_VARS</code></a></dd></dl>
</li>
</ul>
<a name="getSelectVars()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSelectVars</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]&nbsp;getSelectVars()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getSelectVars()">IHashJoinUtility</a></code></strong></div>
<div class="block">The variables to be retained (optional, all variables are retained if
 not specified).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getSelectVars()">getSelectVars</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/bop/join/JoinAnnotations.html#SELECT"><code>JoinAnnotations.SELECT</code></a></dd></dl>
</li>
</ul>
<a name="isOutputDistinctJoinVars()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOutputDistinctJoinVars</h4>
<pre>public&nbsp;boolean&nbsp;isOutputDistinctJoinVars()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#isOutputDistinctJoinVars()">IHashJoinUtility</a></code></strong></div>
<div class="block">Returns true if the projection outputs the distinct join vars (in
 that case, the variables delivered by {<a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getSelectVars()"><code>IHashJoinUtility.getSelectVars()</code></a> will
 be ignored, might even be uninitialized). See
 <a href="../../../../com/bigdata/bop/join/HashJoinAnnotations.html#OUTPUT_DISTINCT_JVs"><code>HashJoinAnnotations.OUTPUT_DISTINCT_JVs</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#isOutputDistinctJoinVars()">isOutputDistinctJoinVars</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
</dl>
</li>
</ul>
<a name="getConstraints()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConstraints</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]&nbsp;getConstraints()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getConstraints()">IHashJoinUtility</a></code></strong></div>
<div class="block">The join constraints (optional).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getConstraints()">getConstraints</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/bop/join/JoinAnnotations.html#CONSTRAINTS"><code>JoinAnnotations.CONSTRAINTS</code></a></dd></dl>
</li>
</ul>
<a name="getIndexMetadata(com.bigdata.bop.PipelineOp)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexMetadata</h4>
<pre>protected static&nbsp;<a href="../../../../com/bigdata/btree/HTreeIndexMetadata.html" title="class in com.bigdata.btree">HTreeIndexMetadata</a>&nbsp;getIndexMetadata(<a href="../../../../com/bigdata/bop/PipelineOp.html" title="class in com.bigdata.bop">PipelineOp</a>&nbsp;op)</pre>
<div class="block">Setup the <a href="../../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> for <a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#rightSolutions"><code>rightSolutions</code></a> or
 <a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#joinSet"><code>joinSet</code></a>.</div>
</li>
</ul>
<a name="getStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStore</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;getStore()</pre>
<div class="block">The backing <a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a>.</div>
</li>
</ul>
<a name="saveSolutionSet()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveSolutionSet</h4>
<pre>public&nbsp;void&nbsp;saveSolutionSet()</pre>
<div class="block">Checkpoint the generated hash index such that it becomes safe for
 concurrent readers.
 <p>
 This implementation checkpoints the <a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> instance(s) used to
 buffer the source solutions (<a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html#rightSolutions"><code>rightSolutions</code></a> and <code>#ivCache</code>
 ) and then re-load the them in a read-only mode from their checkpoint(s).
 This exposes a view of the <a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> which is safe for concurrent
 readers.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#saveSolutionSet()">saveSolutionSet</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
</dl>
</li>
</ul>
<a name="release()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>public&nbsp;void&nbsp;release()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#release()">IHashJoinUtility</a></code></strong></div>
<div class="block">Discard the hash index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#release()">release</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
</dl>
</li>
</ul>
<a name="acceptSolutions(cutthecrap.utils.striterators.ICloseableIterator, com.bigdata.bop.engine.BOpStats)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptSolutions</h4>
<pre>public&nbsp;long&nbsp;acceptSolutions(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;itr,
                   <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#acceptSolutions(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats)">IHashJoinUtility</a></code></strong></div>
<div class="block">Buffer solutions on a hash index.
 <p>
 When <code>optional:=true</code>, solutions which do not have a binding
 for one or more of the join variables will be inserted into the hash
 index anyway using <code>hashCode:=1</code>. This allows the solutions to
 be discovered when we scan the hash index and the set of solutions which
 did join to identify the optional solutions.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#acceptSolutions(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats)">acceptSolutions</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>itr</code> - The source from which the solutions will be drained.</dd><dd><code>stats</code> - The statistics to be updated as the solutions are buffered on
            the hash index.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of solutions that were buffered.</dd></dl>
</li>
</ul>
<a name="filterSolutions(cutthecrap.utils.striterators.ICloseableIterator, com.bigdata.bop.engine.BOpStats, com.bigdata.relation.accesspath.IBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filterSolutions</h4>
<pre>public&nbsp;long&nbsp;filterSolutions(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;itr,
                   <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
                   <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;sink)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#filterSolutions(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer)">IHashJoinUtility</a></code></strong></div>
<div class="block">Filter solutions, writing only the DISTINCT solutions onto the sink.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#filterSolutions(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer)">filterSolutions</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>itr</code> - The source solutions.</dd><dd><code>stats</code> - The stats to be updated.</dd><dd><code>sink</code> - The sink.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of source solutions which pass the filter.</dd></dl>
</li>
</ul>
<a name="decodeSolution(com.bigdata.btree.ITuple)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeSolution</h4>
<pre>protected&nbsp;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&nbsp;decodeSolution(<a href="../../../../com/bigdata/btree/ITuple.html" title="interface in com.bigdata.btree">ITuple</a>&lt;?&gt;&nbsp;t)</pre>
<div class="block">Decode a solution from an encoded <a href="../../../../com/bigdata/rdf/internal/IV.html" title="interface in com.bigdata.rdf.internal"><code>IV</code></a>[].
 <p>
 Note: The <a href="../../../../com/bigdata/rdf/internal/IVCache.html" title="interface in com.bigdata.rdf.internal"><code>IVCache</code></a> associated are NOT resolved by this method. The
 resolution step is relatively expensive since it must do lookups in
 persistence capable data structures. The caller MUST use
 <a href="../../../../com/bigdata/rdf/internal/encoder/IBindingSetDecoder.html#resolveCachedValues(com.bigdata.bop.IBindingSet)"><code>IBindingSetDecoder.resolveCachedValues(IBindingSet)</code></a> to resolve
 the <a href="../../../../com/bigdata/rdf/internal/IVCache.html" title="interface in com.bigdata.rdf.internal"><code>IVCache</code></a> associations once they decide that the decoded
 solution can join.
 <p>
 Note: This instance method is required by the MERGE JOIN logic which
 associates the schema with the first <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join"><code>IHashJoinUtility</code></a> instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>t</code> - A tuple whose value is an encoded <a href="../../../../com/bigdata/rdf/internal/IV.html" title="interface in com.bigdata.rdf.internal"><code>IV</code></a>[].</dd>
<dt><span class="strong">Returns:</span></dt><dd>The decoded <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>.</dd></dl>
</li>
</ul>
<a name="hashJoin(cutthecrap.utils.striterators.ICloseableIterator, com.bigdata.bop.engine.BOpStats, com.bigdata.relation.accesspath.IBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashJoin</h4>
<pre>public&nbsp;void&nbsp;hashJoin(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;leftItr,
            <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
            <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#hashJoin(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer)">IHashJoinUtility</a></code></strong></div>
<div class="block">Do a hash join between a stream of source solutions (left) and a hash
 index (right). For each left solution, the hash index (right) is probed
 for possible matches (solutions whose as-bound values for the join
 variables produce the same hash code). Possible matches are tested for
 consistency and the constraints (if any) are applied. Solutions which
 join are written on the caller's buffer.
 <p>
 Note: Some <a href="../../../../com/bigdata/bop/join/JoinTypeEnum.html" title="enum in com.bigdata.bop.join"><code>JoinTypeEnum</code></a>s have side-effects on the join state. For
 this joins, once method has been invoked for the final time, you must
 then invoke either <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputOptionals(com.bigdata.relation.accesspath.IBuffer)"><code>IHashJoinUtility.outputOptionals(IBuffer)</code></a> (Optional or
 NotExists) or <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputJoinSet(com.bigdata.relation.accesspath.IBuffer)"><code>IHashJoinUtility.outputJoinSet(IBuffer)</code></a> (Exists).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#hashJoin(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer)">hashJoin</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>leftItr</code> - A stream of chunks of solutions to be joined against the hash
            index (left).</dd><dd><code>stats</code> - The statistics to be updated as solutions are drained from the
            <i>leftItr</i> (optional). When <code>left</code> is the
            pipeline, <a href="../../../../com/bigdata/bop/engine/BOpStats.html#chunksIn"><code>BOpStats.chunksIn</code></a> and
            <a href="../../../../com/bigdata/bop/engine/BOpStats.html#unitsIn"><code>BOpStats.unitsIn</code></a> should be updated by passing in the
            <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine"><code>BOpStats</code></a> object. When <code>left</code> is a hash
            index (i.e., for a hash join against an access path), you
            should pass <code>null</code> since the chunksIn and unitsIn
            are updated as the <a href="../../../../com/bigdata/bop/join/HashIndexOp.html" title="class in com.bigdata.bop.join"><code>HashIndexOp</code></a> builds the hash index
            rather than when it executes the join against the access
            path).</dd><dd><code>outputBuffer</code> - Where to write the solutions which join.</dd></dl>
</li>
</ul>
<a name="hashJoin2(cutthecrap.utils.striterators.ICloseableIterator, com.bigdata.bop.engine.BOpStats, com.bigdata.relation.accesspath.IBuffer, com.bigdata.bop.IConstraint[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashJoin2</h4>
<pre>public&nbsp;void&nbsp;hashJoin2(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;leftItr,
             <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
             <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer,
             <a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]&nbsp;constraints)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#hashJoin2(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer,%20com.bigdata.bop.IConstraint[])">IHashJoinUtility</a></code></strong></div>
<div class="block">Variant hash join method allows the caller to impose different
 constraints or additional constraints. This is used to impose join
 constraints when a solution set is joined back into a query based on the
 join filters in the join group in which the solution set is included.
 <p>
 Note: Some <a href="../../../../com/bigdata/bop/join/JoinTypeEnum.html" title="enum in com.bigdata.bop.join"><code>JoinTypeEnum</code></a>s have side-effects on the join state. For
 this joins, once method has been invoked for the final time, you must
 then invoke either <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputOptionals(com.bigdata.relation.accesspath.IBuffer)"><code>IHashJoinUtility.outputOptionals(IBuffer)</code></a> (Optional or
 NotExists) or <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputJoinSet(com.bigdata.relation.accesspath.IBuffer)"><code>IHashJoinUtility.outputJoinSet(IBuffer)</code></a> (Exists).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#hashJoin2(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer,%20com.bigdata.bop.IConstraint[])">hashJoin2</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>leftItr</code> - A stream of chunks of solutions to be joined against the hash
            index (left).</dd><dd><code>stats</code> - The statistics to be updated as solutions are drained from the
            <i>leftItr</i>.</dd><dd><code>outputBuffer</code> - Where to write the solutions which join.</dd><dd><code>constraints</code> - Constraints attached to this join (optional). Any constraints
            specified here are combined with those specified in the
            constructor.</dd></dl>
</li>
</ul>
<a name="vector(com.bigdata.bop.IBindingSet[], com.bigdata.bop.IVariable[], com.bigdata.bop.IVariable[], boolean, java.util.concurrent.atomic.AtomicInteger)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vector</h4>
<pre>protected&nbsp;<a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.BS.html" title="class in com.bigdata.bop.join">HTreeHashJoinUtility.BS</a>[]&nbsp;vector(<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;leftSolutions,
                               <a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]&nbsp;joinVars,
                               <a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]&nbsp;selectVars,
                               boolean&nbsp;ignoreUnboundVariables,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&nbsp;vectorSize)</pre>
<div class="block">Vector a chunk of solutions.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>leftSolutions</code> - The solutions.</dd><dd><code>joinVars</code> - The variables on which the hash code will be computed.</dd><dd><code>selectVars</code> - When non-<code>null</code>, all other variables are dropped.
            (This is used when we are modeling a DISTINCT solutions filter
            since we need to drop anything which is not part of the
            DISTINCT variables list.)</dd><dd><code>ignoreUnboundVariables</code> - When <code>true</code>, an unbound variable will not cause a
            <a href="../../../../com/bigdata/bop/join/JoinVariableNotBoundException.html" title="class in com.bigdata.bop.join"><code>JoinVariableNotBoundException</code></a> to be thrown.</dd><dd><code>vectorSize</code> - The vector size (set by side-effect). This will be LTE the
            number of solutions in <code>leftSolutions</code>. (If some
            solutions are eliminated because they lack a binding for a
            required join variable, then vectorSize is LT the number of
            <code>leftSolutions</code>).</dd>
<dt><span class="strong">Returns:</span></dt><dd>The vectored chunk of solutions ordered by hash code.</dd></dl>
</li>
</ul>
<a name="saveInJoinSet(int, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveInJoinSet</h4>
<pre>protected&nbsp;void&nbsp;saveInJoinSet(int&nbsp;joinSetHashCode,
                 byte[]&nbsp;val)</pre>
<div class="block">Add to 2nd hash tree of all solutions which join.
 <p>
 Note: the hash key is based on the entire solution (not just the join
 variables). The values are the full encoded <a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>.</div>
</li>
</ul>
<a name="outputOptionals(com.bigdata.relation.accesspath.IBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outputOptionals</h4>
<pre>public&nbsp;void&nbsp;outputOptionals(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputOptionals(com.bigdata.relation.accesspath.IBuffer)">IHashJoinUtility</a></code></strong></div>
<div class="block">Identify and output the optional solutions. This is used with OPTIONAL
 and NOT EXISTS.
 <p>
 Optionals are identified using a <i>joinSet</i> containing each right
 solution which joined with at least one left solution. The total set of
 right solutions is then scanned once. For each right solution, we probe
 the <i>joinSet</i>. If the right solution did not join, then it is output
 now as an optional join.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputOptionals(com.bigdata.relation.accesspath.IBuffer)">outputOptionals</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>outputBuffer</code> - Where to write the optional solutions.</dd></dl>
</li>
</ul>
<a name="indexScan()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexScan</h4>
<pre>public&nbsp;<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;indexScan()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#indexScan()">IHashJoinUtility</a></code></strong></div>
<div class="block">Return an <code>BytesTrie.Iterator</code> that visits all solutions in the index (index
 scan). The visited solutions MAY contain variables that would not be
 projected out of the hash join.
 <p>
 Note: This is very nearly the same as <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputSolutions(com.bigdata.relation.accesspath.IBuffer)"><code>IHashJoinUtility.outputSolutions(IBuffer)</code></a>
 except that the latter only outputs the projected variables and it writes
 onto an <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath"><code>IBuffer</code></a> rather than returning an
 <a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators"><code>ICloseableIterator</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#indexScan()">indexScan</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The <code>BytesTrie.Iterator</code>.</dd></dl>
</li>
</ul>
<a name="outputSolutions(com.bigdata.relation.accesspath.IBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outputSolutions</h4>
<pre>public&nbsp;void&nbsp;outputSolutions(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;out)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputSolutions(com.bigdata.relation.accesspath.IBuffer)">IHashJoinUtility</a></code></strong></div>
<div class="block">Output the solutions buffered in the hash index. This is used when an
 operator is building a hash index for use by a downstream operator.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputSolutions(com.bigdata.relation.accesspath.IBuffer)">outputSolutions</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - Where to write the solutions.</dd></dl>
</li>
</ul>
<a name="outputJoinSet(com.bigdata.relation.accesspath.IBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outputJoinSet</h4>
<pre>public&nbsp;void&nbsp;outputJoinSet(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;out)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputJoinSet(com.bigdata.relation.accesspath.IBuffer)">IHashJoinUtility</a></code></strong></div>
<div class="block">Output the solutions which joined. This is used with EXISTS.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputJoinSet(com.bigdata.relation.accesspath.IBuffer)">outputJoinSet</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - Where to write the solutions.</dd></dl>
</li>
</ul>
<a name="mergeJoin(com.bigdata.bop.join.IHashJoinUtility[], com.bigdata.relation.accesspath.IBuffer, com.bigdata.bop.IConstraint[], boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mergeJoin</h4>
<pre>public&nbsp;void&nbsp;mergeJoin(<a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a>[]&nbsp;others,
             <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer,
             <a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]&nbsp;constraints,
             boolean&nbsp;optional)</pre>
<div class="block">Perform an N-way merge join. For an OPTIONAL join, <i>this</i> instance
 is understood to be the index having the "required" solutions.
 <p>
 The merge join takes a set of solution sets in the some order and having
 the same join variables. It examines the next solution in order for each
 solution set and compares them. For each solution set which reported a
 solution having the same join variables as that earliest solution, it
 outputs the cross product and advances the iterator on that solution set.
 <p>
 The iterators draining the source solution sets need to be synchronized
 such that we consider only solutions having the same hash code in each
 cycle of the MERGE JOIN. The synchronization step is different depending
 on whether or not the MERGE JOIN is OPTIONAL.
 <p>
 If the MERGE JOIN is REQUIRED, then we want to synchronize the source
 solution iterators on the next lowest key (aka hash code) which they all
 have in common.
 <p>
 If the MERGE JOIN is OPTIONAL, then we want to synchronize the source
 solution iterators on the next lowest key (aka hash code) which appears
 for any source iterator. Solutions will not be drawn from iterators not
 having that key in that pass.
 <p>
 Note that each hash code may be an alias for solutions having different
 values for their join variables. Such solutions will not join. However,
 only solutions having the same values for the hash code can join. Thus,
 by proceeding with synchronized iterators and operating only on solutions
 having the same hash code in each round, we will consider all solutions
 which COULD join with one another in each round.
 <p>
 Note: If the solutions are not in a stable and mutually consistent order
 by hash code in the hash indices then the solutions in each hash index
 MUST be SORTED before proceeding. (The <a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> maintains solutions
 in such an order but the JVM collections do not.)
 <p>
 Note: For the <a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>, the entries are in key order. Those keys are
 hash codes computed from the solutions using the join variables. Since
 the keys are hash codes and not the join variable bindings, each hash
 code identifies a collision bucket from the perspective of the merge join
 algorithm. Of course, from the perspective of the <a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> those
 solutions are just consequective tuples readily identified using
 <a href="../../../../com/bigdata/htree/HTree.html#lookupAll(int)"><code>HTree.lookupAll(int)</code></a>.
 
 FIXME Either always project everything or raise [select] into a parameter
 for this method. We DO NOT want to only project whatever was projected by
 the first source.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#mergeJoin(com.bigdata.bop.join.IHashJoinUtility[],%20com.bigdata.relation.accesspath.IBuffer,%20com.bigdata.bop.IConstraint[],%20boolean)">mergeJoin</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>others</code> - The other solution sets to be joined. All instances must be of
            the same concrete type as <i>this</i>.</dd><dd><code>outputBuffer</code> - Where to write the solutions.</dd><dd><code>constraints</code> - The join constraints.</dd><dd><code>optional</code> - <code>true</code> iff the join is optional.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HTreeHashJoinUtility.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/bop/join/HTreeHashJoinOp.Annotations.html" title="interface in com.bigdata.bop.join"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.BS.html" title="class in com.bigdata.bop.join"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/bop/join/HTreeHashJoinUtility.html" target="_top">Frames</a></li>
<li><a href="HTreeHashJoinUtility.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
