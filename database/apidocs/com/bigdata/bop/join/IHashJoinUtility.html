<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Thu Jan 21 00:33:18 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>IHashJoinUtility (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-21">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IHashJoinUtility (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IHashJoinUtility.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/bop/join/IDistinctFilter.html" title="interface in com.bigdata.bop.join"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/bop/join/IHashJoinUtilityFactory.html" title="interface in com.bigdata.bop.join"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/bop/join/IHashJoinUtility.html" target="_top">Frames</a></li>
<li><a href="IHashJoinUtility.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.bop.join</div>
<h2 title="Interface IHashJoinUtility" class="title">Interface IHashJoinUtility</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../com/bigdata/bop/join/HTreeHashJoinUtility.html" title="class in com.bigdata.bop.join">HTreeHashJoinUtility</a>, <a href="../../../../com/bigdata/bop/join/HTreePipelinedHashJoinUtility.html" title="class in com.bigdata.bop.join">HTreePipelinedHashJoinUtility</a>, <a href="../../../../com/bigdata/bop/join/JVMHashJoinUtility.html" title="class in com.bigdata.bop.join">JVMHashJoinUtility</a>, <a href="../../../../com/bigdata/bop/join/JVMPipelinedHashJoinUtility.html" title="class in com.bigdata.bop.join">JVMPipelinedHashJoinUtility</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">IHashJoinUtility</span></pre>
<div class="block">Interface for hash index build and hash join operations.
 
 <h2>Use cases</h2>
 
 For a JOIN, there are two core steps, plus one additional step if the join is
 optional. The hash join logically has a <em>Left Hand Side</em> (LHS) and a
 Right Hand Side (RHS). The RHS is used to build up a hash index which is then
 probed for each LHS solution. The LHS is generally an access path scan, which
 is done once. A hash join therefore provides an alternative to a nested index
 join in which we visit the access path once, probing the hash index for
 solutions which join.
 <dl>
 <dt>Accept solutions</dt>
 <dd>This step builds the hash index, also known as the RHS (Right Hand Side).
 </dd>
 <dt>hash join</dt>
 <dd>The hash join considers each left solution in turn and outputs solutions
 which join. If optionals are required, this step also builds an hash index
 (the <i>joinSet</i>) over the right solutions which did join.</dd>
 <dt>Output optionals</dt>
 <dd>The RHS hash index is scanned and the <i>joinSet</i> is probed to
 identify right solutions which did not join with any left solution. Those
 solutions are output as "optionals".</dd>
 </dl>
 <p>
 This class also supports DISTINCT SOLUTIONS filters. For this use case, the
 caller uses <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#filterSolutions(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer)"><code>filterSolutions(ICloseableIterator, BOpStats, IBuffer)</code></a>
 method.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#acceptSolutions(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats)">acceptSolutions</a></strong>(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;itr,
               <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats)</code>
<div class="block">Buffer solutions on a hash index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#filterSolutions(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer)">filterSolutions</a></strong>(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;itr,
               <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
               <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;sink)</code>
<div class="block">Filter solutions, writing only the DISTINCT solutions onto the sink.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getAskVar()">getAskVar</a></strong>()</code>
<div class="block">The variable bound based on whether or not a solution survives an
 "EXISTS" graph pattern (optional).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getConstraints()">getConstraints</a></strong>()</code>
<div class="block">The join constraints (optional).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/join/JoinTypeEnum.html" title="enum in com.bigdata.bop.join">JoinTypeEnum</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getJoinType()">getJoinType</a></strong>()</code>
<div class="block">Return the type safe enumeration indicating what kind of operation is to
 be performed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getJoinVars()">getJoinVars</a></strong>()</code>
<div class="block">The join variables.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getRightSolutionCount()">getRightSolutionCount</a></strong>()</code>
<div class="block">Return the #of solutions in the hash index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getSelectVars()">getSelectVars</a></strong>()</code>
<div class="block">The variables to be retained (optional, all variables are retained if
 not specified).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#hashJoin(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer)">hashJoin</a></strong>(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;leftItr,
        <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
        <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer)</code>
<div class="block">Do a hash join between a stream of source solutions (left) and a hash
 index (right).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#hashJoin2(cutthecrap.utils.striterators.ICloseableIterator,%20com.bigdata.bop.engine.BOpStats,%20com.bigdata.relation.accesspath.IBuffer,%20com.bigdata.bop.IConstraint[])">hashJoin2</a></strong>(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;leftItr,
         <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
         <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer,
         <a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]&nbsp;constraints)</code>
<div class="block">Variant hash join method allows the caller to impose different
 constraints or additional constraints.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#indexScan()">indexScan</a></strong>()</code>
<div class="block">Return an <code>BytesTrie.Iterator</code> that visits all solutions in the index (index
 scan).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#isEmpty()">isEmpty</a></strong>()</code>
<div class="block">Return <code>true</code> iff there are no solutions in the hash index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#isOutputDistinctJoinVars()">isOutputDistinctJoinVars</a></strong>()</code>
<div class="block">Returns true if the projection outputs the distinct join vars (in
 that case, the variables delivered by {<a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getSelectVars()"><code>getSelectVars()</code></a> will
 be ignored, might even be uninitialized).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#mergeJoin(com.bigdata.bop.join.IHashJoinUtility[],%20com.bigdata.relation.accesspath.IBuffer,%20com.bigdata.bop.IConstraint[],%20boolean)">mergeJoin</a></strong>(<a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a>[]&nbsp;others,
         <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer,
         <a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]&nbsp;constraints,
         boolean&nbsp;optional)</code>
<div class="block">Perform an N-way merge join.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputJoinSet(com.bigdata.relation.accesspath.IBuffer)">outputJoinSet</a></strong>(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;out)</code>
<div class="block">Output the solutions which joined.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputOptionals(com.bigdata.relation.accesspath.IBuffer)">outputOptionals</a></strong>(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer)</code>
<div class="block">Identify and output the optional solutions.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputSolutions(com.bigdata.relation.accesspath.IBuffer)">outputSolutions</a></strong>(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;out)</code>
<div class="block">Output the solutions buffered in the hash index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#release()">release</a></strong>()</code>
<div class="block">Discard the hash index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#saveSolutionSet()">saveSolutionSet</a></strong>()</code>
<div class="block">Checkpoint the generated hash index such that it becomes safe for
 concurrent readers.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getJoinType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJoinType</h4>
<pre><a href="../../../../com/bigdata/bop/join/JoinTypeEnum.html" title="enum in com.bigdata.bop.join">JoinTypeEnum</a>&nbsp;getJoinType()</pre>
<div class="block">Return the type safe enumeration indicating what kind of operation is to
 be performed.</div>
</li>
</ul>
<a name="getAskVar()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAskVar</h4>
<pre><a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;&nbsp;getAskVar()</pre>
<div class="block">The variable bound based on whether or not a solution survives an
 "EXISTS" graph pattern (optional).</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/bop/join/HashJoinAnnotations.html#ASK_VAR"><code>HashJoinAnnotations.ASK_VAR</code></a></dd></dl>
</li>
</ul>
<a name="getJoinVars()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJoinVars</h4>
<pre><a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]&nbsp;getJoinVars()</pre>
<div class="block">The join variables.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/bop/join/HashJoinAnnotations.html#JOIN_VARS"><code>HashJoinAnnotations.JOIN_VARS</code></a></dd></dl>
</li>
</ul>
<a name="getSelectVars()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSelectVars</h4>
<pre><a href="../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[]&nbsp;getSelectVars()</pre>
<div class="block">The variables to be retained (optional, all variables are retained if
 not specified).</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/bop/join/JoinAnnotations.html#SELECT"><code>JoinAnnotations.SELECT</code></a></dd></dl>
</li>
</ul>
<a name="isOutputDistinctJoinVars()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOutputDistinctJoinVars</h4>
<pre>boolean&nbsp;isOutputDistinctJoinVars()</pre>
<div class="block">Returns true if the projection outputs the distinct join vars (in
 that case, the variables delivered by {<a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#getSelectVars()"><code>getSelectVars()</code></a> will
 be ignored, might even be uninitialized). See
 <a href="../../../../com/bigdata/bop/join/HashJoinAnnotations.html#OUTPUT_DISTINCT_JVs"><code>HashJoinAnnotations.OUTPUT_DISTINCT_JVs</code></a>.</div>
</li>
</ul>
<a name="getConstraints()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConstraints</h4>
<pre><a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]&nbsp;getConstraints()</pre>
<div class="block">The join constraints (optional).</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/bop/join/JoinAnnotations.html#CONSTRAINTS"><code>JoinAnnotations.CONSTRAINTS</code></a></dd></dl>
</li>
</ul>
<a name="isEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre>boolean&nbsp;isEmpty()</pre>
<div class="block">Return <code>true</code> iff there are no solutions in the hash index.</div>
</li>
</ul>
<a name="getRightSolutionCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRightSolutionCount</h4>
<pre>long&nbsp;getRightSolutionCount()</pre>
<div class="block">Return the #of solutions in the hash index.</div>
</li>
</ul>
<a name="release()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>void&nbsp;release()</pre>
<div class="block">Discard the hash index.</div>
</li>
</ul>
<a name="acceptSolutions(cutthecrap.utils.striterators.ICloseableIterator, com.bigdata.bop.engine.BOpStats)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptSolutions</h4>
<pre>long&nbsp;acceptSolutions(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;itr,
                   <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats)</pre>
<div class="block">Buffer solutions on a hash index.
 <p>
 When <code>optional:=true</code>, solutions which do not have a binding
 for one or more of the join variables will be inserted into the hash
 index anyway using <code>hashCode:=1</code>. This allows the solutions to
 be discovered when we scan the hash index and the set of solutions which
 did join to identify the optional solutions.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>itr</code> - The source from which the solutions will be drained.</dd><dd><code>stats</code> - The statistics to be updated as the solutions are buffered on
            the hash index.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of solutions that were buffered.</dd></dl>
</li>
</ul>
<a name="filterSolutions(cutthecrap.utils.striterators.ICloseableIterator, com.bigdata.bop.engine.BOpStats, com.bigdata.relation.accesspath.IBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filterSolutions</h4>
<pre>long&nbsp;filterSolutions(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;itr,
                   <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
                   <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;sink)</pre>
<div class="block">Filter solutions, writing only the DISTINCT solutions onto the sink.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>itr</code> - The source solutions.</dd><dd><code>stats</code> - The stats to be updated.</dd><dd><code>sink</code> - The sink.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of source solutions which pass the filter.</dd></dl>
</li>
</ul>
<a name="hashJoin(cutthecrap.utils.striterators.ICloseableIterator, com.bigdata.bop.engine.BOpStats, com.bigdata.relation.accesspath.IBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashJoin</h4>
<pre>void&nbsp;hashJoin(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;leftItr,
            <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
            <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer)</pre>
<div class="block">Do a hash join between a stream of source solutions (left) and a hash
 index (right). For each left solution, the hash index (right) is probed
 for possible matches (solutions whose as-bound values for the join
 variables produce the same hash code). Possible matches are tested for
 consistency and the constraints (if any) are applied. Solutions which
 join are written on the caller's buffer.
 <p>
 Note: Some <a href="../../../../com/bigdata/bop/join/JoinTypeEnum.html" title="enum in com.bigdata.bop.join"><code>JoinTypeEnum</code></a>s have side-effects on the join state. For
 this joins, once method has been invoked for the final time, you must
 then invoke either <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputOptionals(com.bigdata.relation.accesspath.IBuffer)"><code>outputOptionals(IBuffer)</code></a> (Optional or
 NotExists) or <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputJoinSet(com.bigdata.relation.accesspath.IBuffer)"><code>outputJoinSet(IBuffer)</code></a> (Exists).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>leftItr</code> - A stream of chunks of solutions to be joined against the hash
            index (left).</dd><dd><code>stats</code> - The statistics to be updated as solutions are drained from the
            <i>leftItr</i> (optional). When <code>left</code> is the
            pipeline, <a href="../../../../com/bigdata/bop/engine/BOpStats.html#chunksIn"><code>BOpStats.chunksIn</code></a> and
            <a href="../../../../com/bigdata/bop/engine/BOpStats.html#unitsIn"><code>BOpStats.unitsIn</code></a> should be updated by passing in the
            <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine"><code>BOpStats</code></a> object. When <code>left</code> is a hash
            index (i.e., for a hash join against an access path), you
            should pass <code>null</code> since the chunksIn and unitsIn
            are updated as the <a href="../../../../com/bigdata/bop/join/HashIndexOp.html" title="class in com.bigdata.bop.join"><code>HashIndexOp</code></a> builds the hash index
            rather than when it executes the join against the access
            path).</dd><dd><code>outputBuffer</code> - Where to write the solutions which join.</dd></dl>
</li>
</ul>
<a name="hashJoin2(cutthecrap.utils.striterators.ICloseableIterator, com.bigdata.bop.engine.BOpStats, com.bigdata.relation.accesspath.IBuffer, com.bigdata.bop.IConstraint[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashJoin2</h4>
<pre>void&nbsp;hashJoin2(<a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;leftItr,
             <a href="../../../../com/bigdata/bop/engine/BOpStats.html" title="class in com.bigdata.bop.engine">BOpStats</a>&nbsp;stats,
             <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer,
             <a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]&nbsp;constraints)</pre>
<div class="block">Variant hash join method allows the caller to impose different
 constraints or additional constraints. This is used to impose join
 constraints when a solution set is joined back into a query based on the
 join filters in the join group in which the solution set is included.
 <p>
 Note: Some <a href="../../../../com/bigdata/bop/join/JoinTypeEnum.html" title="enum in com.bigdata.bop.join"><code>JoinTypeEnum</code></a>s have side-effects on the join state. For
 this joins, once method has been invoked for the final time, you must
 then invoke either <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputOptionals(com.bigdata.relation.accesspath.IBuffer)"><code>outputOptionals(IBuffer)</code></a> (Optional or
 NotExists) or <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputJoinSet(com.bigdata.relation.accesspath.IBuffer)"><code>outputJoinSet(IBuffer)</code></a> (Exists).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>leftItr</code> - A stream of chunks of solutions to be joined against the hash
            index (left).</dd><dd><code>stats</code> - The statistics to be updated as solutions are drained from the
            <i>leftItr</i>.</dd><dd><code>outputBuffer</code> - Where to write the solutions which join.</dd><dd><code>constraints</code> - Constraints attached to this join (optional). Any constraints
            specified here are combined with those specified in the
            constructor.</dd></dl>
</li>
</ul>
<a name="mergeJoin(com.bigdata.bop.join.IHashJoinUtility[], com.bigdata.relation.accesspath.IBuffer, com.bigdata.bop.IConstraint[], boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeJoin</h4>
<pre>void&nbsp;mergeJoin(<a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html" title="interface in com.bigdata.bop.join">IHashJoinUtility</a>[]&nbsp;others,
             <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer,
             <a href="../../../../com/bigdata/bop/IConstraint.html" title="interface in com.bigdata.bop">IConstraint</a>[]&nbsp;constraints,
             boolean&nbsp;optional)</pre>
<div class="block">Perform an N-way merge join. For an OPTIONAL join, <i>this</i> instance
 is understood to be the index having the "required" solutions.
 <p>
 The merge join takes a set of solution sets in the some order and having
 the same join variables. It examines the next solution in order for each
 solution set and compares them. For each solution set which reported a
 solution having the same join variables as that earliest solution, it
 outputs the cross product and advances the iterator on that solution set.
 <p>
 The iterators draining the source solution sets need to be synchronized
 such that we consider only solutions having the same hash code in each
 cycle of the MERGE JOIN. The synchronization step is different depending
 on whether or not the MERGE JOIN is OPTIONAL.
 <p>
 If the MERGE JOIN is REQUIRED, then we want to synchronize the source
 solution iterators on the next lowest key (aka hash code) which they all
 have in common.
 <p>
 If the MERGE JOIN is OPTIONAL, then we want to synchronize the source
 solution iterators on the next lowest key (aka hash code) which appears
 for any source iterator. Solutions will not be drawn from iterators not
 having that key in that pass.
 <p>
 Note that each hash code may be an alias for solutions having different
 values for their join variables. Such solutions will not join. However,
 only solutions having the same values for the hash code can join. Thus,
 by proceeding with synchronized iterators and operating only on solutions
 having the same hash code in each round, we will consider all solutions
 which COULD join with one another in each round.
 <p>
 Note: If the solutions are not in a stable and mutually consistent order
 by hash code in the hash indices then the solutions in each hash index
 MUST be SORTED before proceeding. (The <a href="../../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> maintains solutions
 in such an order but the JVM collections do not.)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>others</code> - The other solution sets to be joined. All instances must be of
            the same concrete type as <i>this</i>.</dd><dd><code>outputBuffer</code> - Where to write the solutions.</dd><dd><code>constraints</code> - The join constraints.</dd><dd><code>optional</code> - <code>true</code> iff the join is optional.</dd></dl>
</li>
</ul>
<a name="saveSolutionSet()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveSolutionSet</h4>
<pre>void&nbsp;saveSolutionSet()</pre>
<div class="block">Checkpoint the generated hash index such that it becomes safe for
 concurrent readers.</div>
</li>
</ul>
<a name="outputOptionals(com.bigdata.relation.accesspath.IBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outputOptionals</h4>
<pre>void&nbsp;outputOptionals(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;outputBuffer)</pre>
<div class="block">Identify and output the optional solutions. This is used with OPTIONAL
 and NOT EXISTS.
 <p>
 Optionals are identified using a <i>joinSet</i> containing each right
 solution which joined with at least one left solution. The total set of
 right solutions is then scanned once. For each right solution, we probe
 the <i>joinSet</i>. If the right solution did not join, then it is output
 now as an optional join.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>outputBuffer</code> - Where to write the optional solutions.</dd></dl>
</li>
</ul>
<a name="outputSolutions(com.bigdata.relation.accesspath.IBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outputSolutions</h4>
<pre>void&nbsp;outputSolutions(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;out)</pre>
<div class="block">Output the solutions buffered in the hash index. This is used when an
 operator is building a hash index for use by a downstream operator.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - Where to write the solutions.</dd></dl>
</li>
</ul>
<a name="indexScan()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexScan</h4>
<pre><a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators">ICloseableIterator</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;indexScan()</pre>
<div class="block">Return an <code>BytesTrie.Iterator</code> that visits all solutions in the index (index
 scan). The visited solutions MAY contain variables that would not be
 projected out of the hash join.
 <p>
 Note: This is very nearly the same as <a href="../../../../com/bigdata/bop/join/IHashJoinUtility.html#outputSolutions(com.bigdata.relation.accesspath.IBuffer)"><code>outputSolutions(IBuffer)</code></a>
 except that the latter only outputs the projected variables and it writes
 onto an <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath"><code>IBuffer</code></a> rather than returning an
 <a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html" title="interface in cutthecrap.utils.striterators"><code>ICloseableIterator</code></a>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The <code>BytesTrie.Iterator</code>.</dd></dl>
</li>
</ul>
<a name="outputJoinSet(com.bigdata.relation.accesspath.IBuffer)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>outputJoinSet</h4>
<pre>void&nbsp;outputJoinSet(<a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;out)</pre>
<div class="block">Output the solutions which joined. This is used with EXISTS.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - Where to write the solutions.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IHashJoinUtility.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/bop/join/IDistinctFilter.html" title="interface in com.bigdata.bop.join"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/bop/join/IHashJoinUtilityFactory.html" title="interface in com.bigdata.bop.join"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/bop/join/IHashJoinUtility.html" target="_top">Frames</a></li>
<li><a href="IHashJoinUtility.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
