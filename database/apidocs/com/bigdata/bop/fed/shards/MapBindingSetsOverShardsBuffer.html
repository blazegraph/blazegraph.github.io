<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Tue Jan 26 05:09:48 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MapBindingSetsOverShardsBuffer (Blazegraph Database Platform 2.0.0 API)</title>
<meta name="date" content="2016-01-26">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MapBindingSetsOverShardsBuffer (Blazegraph Database Platform 2.0.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MapBindingSetsOverShardsBuffer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../com/bigdata/bop/fed/shards/TestAll.html" title="class in com.bigdata.bop.fed.shards"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" target="_top">Frames</a></li>
<li><a href="MapBindingSetsOverShardsBuffer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.bop.fed.shards</div>
<h2 title="Class MapBindingSetsOverShardsBuffer" class="title">Class MapBindingSetsOverShardsBuffer&lt;E extends <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>,F&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html" title="class in com.bigdata.relation.accesspath">com.bigdata.relation.accesspath.AbstractUnsynchronizedArrayBuffer</a>&lt;E&gt;</li>
<li>
<ul class="inheritance">
<li>com.bigdata.bop.fed.shards.MapBindingSetsOverShardsBuffer&lt;E,F&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>E</code> - The generic type of the elements in the buffer.</dd><dd><code>F</code> - The generic type of the elements in the relation associated with
            the <a href="../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop"><code>IPredicate</code></a>.</dd></dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;E&gt;</dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">MapBindingSetsOverShardsBuffer&lt;E extends <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>,F&gt;</span>
extends <a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html" title="class in com.bigdata.relation.accesspath">AbstractUnsynchronizedArrayBuffer</a>&lt;E&gt;</pre>
<div class="block">A stream of <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a> are mapped across the shards which will have
 the data for the <a href="../../../../../com/bigdata/bop/IPredicate.html#asBound(com.bigdata.bop.IBindingSet)"><code>IPredicate.asBound(IBindingSet)</code></a> <a href="../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop"><code>IPredicate</code></a>.
 <p>
 Unsynchronized (non-thread safe) buffer maps the <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s across
 the index partition(s) associated with an <a href="../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop"><code>IPredicate</code></a> and
 <a href="../../../../../com/bigdata/striterator/IKeyOrder.html" title="interface in com.bigdata.striterator"><code>IKeyOrder</code></a>. For each source chunk, "as bound" versions of the target
 <a href="../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop"><code>IPredicate</code></a> are constructed and the <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s in the chunk
 are reordered based on <a href="../../../../../com/bigdata/striterator/IKeyOrder.html#getFromKey(com.bigdata.btree.keys.IKeyBuilder,%20com.bigdata.bop.IPredicate)"><code>IKeyOrder.getFromKey(IKeyBuilder, IPredicate)</code></a>
 for each asBound predicate. The <a href="../../../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi"><code>PartitionLocator</code></a>s are discovered for
 each fromKey using an ordered locator scan and the binding sets are output
 onto a shard or node specific <a href="../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath"><code>IBuffer</code></a> created by a concrete subclass.
 The subclass is responsible for getting the binding sets from this node onto
 the node associated with each output buffer.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id: UnsyncDistributedOutputBuffer.java 3448 2010-08-18 20:55:58Z
          thompsonbry $</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/service/AbstractScaleOutFederation.html" title="class in com.bigdata.service">AbstractScaleOutFederation</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#fed">fed</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop">IPredicate</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">F</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#pred">pred</a></strong></code>
<div class="block">The predicate from which we generate the asBound binding sets.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/relation/IRelation.html" title="interface in com.bigdata.relation">IRelation</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">F</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#relation">relation</a></strong></code>
<div class="block">A scale-out view of the target relation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#timestamp">timestamp</a></strong></code>
<div class="block">The timestamp associated with the operation on the target access path.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#MapBindingSetsOverShardsBuffer(com.bigdata.service.IBigdataFederation,%20com.bigdata.bop.IPredicate,%20long,%20int)">MapBindingSetsOverShardsBuffer</a></strong>(<a href="../../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service">IBigdataFederation</a>&lt;?&gt;&nbsp;fed,
                              <a href="../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop">IPredicate</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">F</a>&gt;&nbsp;pred,
                              long&nbsp;timestamp,
                              int&nbsp;capacity)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#flush()">flush</a></strong>()</code>
<div class="block">Extended to flush each buffer which targets a specific index partition as
 well.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#getBuffer(com.bigdata.mdi.PartitionLocator)">getBuffer</a></strong>(<a href="../../../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;locator)</code>
<div class="block">Return the buffer used to absorb binding sets which target the specified
 index partition.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/mdi/IMetadataIndex.html" title="interface in com.bigdata.mdi">IMetadataIndex</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#getMetadataIndex(com.bigdata.striterator.IKeyOrder)">getMetadataIndex</a></strong>(<a href="../../../../../com/bigdata/striterator/IKeyOrder.html" title="interface in com.bigdata.striterator">IKeyOrder</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">F</a>&gt;&nbsp;keyOrder)</code>
<div class="block">Resolve a scale-out view of the metadata index for the target predicate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>,<a href="../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#getSinks()">getSinks</a></strong>()</code>
<div class="block">An immutable view of the sinks.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#handleChunk(E[])">handleChunk</a></strong>(<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">E</a>[]&nbsp;chunk)</code>
<div class="block">Maps the chunk of <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s across the index partition(s) for
 the sink join dimension.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#locatorScan(com.bigdata.striterator.IKeyOrder,%20byte[],%20byte[])">locatorScan</a></strong>(<a href="../../../../../com/bigdata/striterator/IKeyOrder.html" title="interface in com.bigdata.striterator">IKeyOrder</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">F</a>&gt;&nbsp;keyOrder,
           byte[]&nbsp;fromKey,
           byte[]&nbsp;toKey)</code>
<div class="block">Locator scan for the index partitions for that predicate as bound.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html#newBuffer(com.bigdata.mdi.PartitionLocator)">newBuffer</a></strong>(<a href="../../../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;locator)</code>
<div class="block">Return a buffer onto which binding sets will be written which are
 destined for the specified shard.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.relation.accesspath.AbstractUnsynchronizedArrayBuffer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.relation.accesspath.<a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html" title="class in com.bigdata.relation.accesspath">AbstractUnsynchronizedArrayBuffer</a></h3>
<code><a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html#accept(E)">accept</a>, <a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html#add(E)">add</a>, <a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html#add2(E)">add2</a>, <a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html#isEmpty()">isEmpty</a>, <a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html#overflow()">overflow</a>, <a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html#reset()">reset</a>, <a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html#size()">size</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="fed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fed</h4>
<pre>protected final&nbsp;<a href="../../../../../com/bigdata/service/AbstractScaleOutFederation.html" title="class in com.bigdata.service">AbstractScaleOutFederation</a>&lt;?&gt; fed</pre>
</li>
</ul>
<a name="pred">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pred</h4>
<pre>protected final&nbsp;<a href="../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop">IPredicate</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">F</a>&gt; pred</pre>
<div class="block">The predicate from which we generate the asBound binding sets. This
 predicate and the <a href="../../../../../com/bigdata/striterator/IKeyOrder.html" title="interface in com.bigdata.striterator"><code>IKeyOrder</code></a> together determine the required
 access path.</div>
</li>
</ul>
<a name="timestamp">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timestamp</h4>
<pre>protected final&nbsp;long timestamp</pre>
<div class="block">The timestamp associated with the operation on the target access path. If
 the binding sets will be used to read on the shards of the target access
 path, then this is the read timestamp. If they will be used to write on
 the target access path, then this is the write timestamp.</div>
</li>
</ul>
<a name="relation">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>relation</h4>
<pre>protected final&nbsp;<a href="../../../../../com/bigdata/relation/IRelation.html" title="interface in com.bigdata.relation">IRelation</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">F</a>&gt; relation</pre>
<div class="block">A scale-out view of the target relation.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MapBindingSetsOverShardsBuffer(com.bigdata.service.IBigdataFederation, com.bigdata.bop.IPredicate, long, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MapBindingSetsOverShardsBuffer</h4>
<pre>public&nbsp;MapBindingSetsOverShardsBuffer(<a href="../../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service">IBigdataFederation</a>&lt;?&gt;&nbsp;fed,
                              <a href="../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop">IPredicate</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">F</a>&gt;&nbsp;pred,
                              long&nbsp;timestamp,
                              int&nbsp;capacity)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fed</code> - The federation.</dd><dd><code>pred</code> - The predicate associated with the target operator. The
            predicate identifies which variables and/or constants form the
            key for the access path and hence selects the shards on which
            the target operator must read or write. For example, when the
            target operator is a JOIN, this is the <a href="../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop"><code>IPredicate</code></a>
            associated with the right hand operator of the join.</dd><dd><code>timestamp</code> - The timestamp associated with the operation on the target
            access path. If the binding sets will be used to read on the
            shards of the target access path, then this is the read
            timestamp. If they will be used to write on the target access
            path, then this is the write timestamp.</dd><dd><code>capacity</code> - The capacity of this buffer.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMetadataIndex(com.bigdata.striterator.IKeyOrder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataIndex</h4>
<pre>protected&nbsp;<a href="../../../../../com/bigdata/mdi/IMetadataIndex.html" title="interface in com.bigdata.mdi">IMetadataIndex</a>&nbsp;getMetadataIndex(<a href="../../../../../com/bigdata/striterator/IKeyOrder.html" title="interface in com.bigdata.striterator">IKeyOrder</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">F</a>&gt;&nbsp;keyOrder)</pre>
<div class="block">Resolve a scale-out view of the metadata index for the target predicate.</div>
</li>
</ul>
<a name="handleChunk(com.bigdata.bop.IBindingSet[])">
<!--   -->
</a><a name="handleChunk(E[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleChunk</h4>
<pre>protected&nbsp;void&nbsp;handleChunk(<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">E</a>[]&nbsp;chunk)</pre>
<div class="block">Maps the chunk of <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s across the index partition(s) for
 the sink join dimension.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html#handleChunk(E[])">handleChunk</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html" title="class in com.bigdata.relation.accesspath">AbstractUnsynchronizedArrayBuffer</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">E</a> extends <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - A chunk of <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s.</dd></dl>
</li>
</ul>
<a name="locatorScan(com.bigdata.striterator.IKeyOrder, byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locatorScan</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&gt;&nbsp;locatorScan(<a href="../../../../../com/bigdata/striterator/IKeyOrder.html" title="interface in com.bigdata.striterator">IKeyOrder</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">F</a>&gt;&nbsp;keyOrder,
                                     byte[]&nbsp;fromKey,
                                     byte[]&nbsp;toKey)</pre>
<div class="block">Locator scan for the index partitions for that predicate as bound.</div>
</li>
</ul>
<a name="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public&nbsp;long&nbsp;flush()</pre>
<div class="block">Extended to flush each buffer which targets a specific index partition as
 well.
 <p>
 Flush the buffer and return the #of elements written on the backing
 <a href="../../../../../com/bigdata/relation/IRelation.html" title="interface in com.bigdata.relation"><code>IRelation</code></a> since the counter was last <a href="../../../../../com/bigdata/relation/accesspath/IBuffer.html#reset()"><code>IBuffer.reset()</code></a> (the
 <i>mutationCount</i>).
 <p>
 Note: If the buffer does not write on an <a href="../../../../../com/bigdata/relation/IRelation.html" title="interface in com.bigdata.relation"><code>IRelation</code></a> then it SHOULD
 return ZERO(0).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/bigdata/relation/accesspath/IBuffer.html#flush()">flush</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">E</a> extends <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html#flush()">flush</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html" title="class in com.bigdata.relation.accesspath">AbstractUnsynchronizedArrayBuffer</a>&lt;<a href="../../../../../com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" title="type parameter in MapBindingSetsOverShardsBuffer">E</a> extends <a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of elements written on the backing <a href="../../../../../com/bigdata/relation/IRelation.html" title="interface in com.bigdata.relation"><code>IRelation</code></a>.
 
 See <a href="../../../../../com/bigdata/relation/IMutableRelation.html" title="interface in com.bigdata.relation"><code>IMutableRelation</code></a></dd></dl>
</li>
</ul>
<a name="getSinks()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSinks</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>,<a href="../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&gt;&nbsp;getSinks()</pre>
<div class="block">An immutable view of the sinks.</div>
</li>
</ul>
<a name="getBuffer(com.bigdata.mdi.PartitionLocator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBuffer</h4>
<pre>protected&nbsp;<a href="../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;getBuffer(<a href="../../../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;locator)</pre>
<div class="block">Return the buffer used to absorb binding sets which target the specified
 index partition.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>locator</code> - The locator for the target index partition.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The buffer.</dd></dl>
</li>
</ul>
<a name="newBuffer(com.bigdata.mdi.PartitionLocator)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>newBuffer</h4>
<pre>protected abstract&nbsp;<a href="../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&gt;&nbsp;newBuffer(<a href="../../../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;locator)</pre>
<div class="block">Return a buffer onto which binding sets will be written which are
 destined for the specified shard.
 <p>
 Note: The concrete implementation may chose whether to associate buffers
 with the target shard or the target node.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>locator</code> - The locator for the target index partition.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The buffer.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MapBindingSetsOverShardsBuffer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../com/bigdata/bop/fed/shards/TestAll.html" title="class in com.bigdata.bop.fed.shards"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/bigdata/bop/fed/shards/MapBindingSetsOverShardsBuffer.html" target="_top">Frames</a></li>
<li><a href="MapBindingSetsOverShardsBuffer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
