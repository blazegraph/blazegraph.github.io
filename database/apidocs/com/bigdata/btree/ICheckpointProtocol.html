<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Thu Feb 25 05:02:48 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ICheckpointProtocol (Blazegraph Database Platform 2.0.1 API)</title>
<meta name="date" content="2016-02-25">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ICheckpointProtocol (Blazegraph Database Platform 2.0.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ICheckpointProtocol.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/btree/ICounter.html" title="interface in com.bigdata.btree"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/btree/ICheckpointProtocol.html" target="_top">Frames</a></li>
<li><a href="ICheckpointProtocol.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.btree</div>
<h2 title="Interface ICheckpointProtocol" class="title">Interface ICheckpointProtocol</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a>, <a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a>, <a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a></dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../com/bigdata/bop/solutions/ISolutionSet.html" title="interface in com.bigdata.bop.solutions">ISolutionSet</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">AbstractHTree</a>, <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a>, <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal">CommitRecordIndex</a>, <a href="../../../com/bigdata/service/CommitTimeIndex.html" title="class in com.bigdata.service">CommitTimeIndex</a>, <a href="../../../com/bigdata/counters/store/CounterSetBTree.html" title="class in com.bigdata.counters.store">CounterSetBTree</a>, <a href="../../../com/bigdata/service/EventReceiver.EventBTree.html" title="class in com.bigdata.service">EventReceiver.EventBTree</a>, <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a>, <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree">IndexSegment</a>, <a href="../../../com/bigdata/resources/IndexSegmentIndex.html" title="class in com.bigdata.resources">IndexSegmentIndex</a>, <a href="../../../com/bigdata/resources/JournalIndex.html" title="class in com.bigdata.resources">JournalIndex</a>, <a href="../../../com/bigdata/mdi/MetadataIndex.html" title="class in com.bigdata.mdi">MetadataIndex</a>, <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal">Name2Addr</a>, <a href="../../../com/bigdata/bop/solutions/SolutionSetStream.html" title="class in com.bigdata.bop.solutions">SolutionSetStream</a>, <a href="../../../com/bigdata/stream/Stream.html" title="class in com.bigdata.stream">Stream</a>, <a href="../../../com/bigdata/rdf/sail/TestMROWTransactions.MyBTree.html" title="class in com.bigdata.rdf.sail">TestMROWTransactions.MyBTree</a>, <a href="../../../com/bigdata/journal/TestRestartSafe.MyBTree.html" title="class in com.bigdata.journal">TestRestartSafe.MyBTree</a>, <a href="../../../com/bigdata/service/TxId2CommitTimeIndex.html" title="class in com.bigdata.service">TxId2CommitTimeIndex</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">ICheckpointProtocol</span>
extends <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a>, <a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a>, <a href="../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a></pre>
<div class="block">Interface in support of the <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record protocol.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>thompsonbry@users.sourceforge.net
 
         TODO Try to lift out an abstract implementation of this interface for
         HTree, BTree, and Stream. This will be another step towards GIST
         support. There are protected methods which are used on those classes
         which should be lifted into the abstract base class. Also, try to
         reconcile this interface with <a href="../../../com/bigdata/btree/ILocalBTreeView.html" title="interface in com.bigdata.btree"><code>ILocalBTreeView</code></a> implementations
         that do not implement <a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree"><code>ICheckpointProtocol</code></a> (<a href="../../../com/bigdata/btree/view/FusedView.html" title="class in com.bigdata.btree.view"><code>FusedView</code></a>,
         <a href="../../../com/bigdata/btree/ReadCommittedView.html" title="class in com.bigdata.btree"><code>ReadCommittedView</code></a>).</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="http://trac.bigdata.com/ticket/585" > GIST </a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()">close</a></strong>()</code>
<div class="block">The contract for <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>close()</code></a> is to reduce the resource burden of the
 index while not rendering the index inoperative.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/BaseIndexStats.html" title="class in com.bigdata.btree">BaseIndexStats</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#dumpPages(boolean,%20boolean)">dumpPages</a></strong>(boolean&nbsp;recursive,
         boolean&nbsp;visitLeaves)</code>
<div class="block">Reports statistics for the index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree">ICheckpoint</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getCheckpoint()">getCheckpoint</a></strong>()</code>
<div class="block">Returns the most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getDirtyListener()">getDirtyListener</a></strong>()</code>
<div class="block">Return the <a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree"><code>IDirtyListener</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getIndexMetadata()">getIndexMetadata</a></strong>()</code>
<div class="block">The metadata for the index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getLastCommitTime()">getLastCommitTime</a></strong>()</code>
<div class="block">The timestamp associated with the last <a href="../../../com/bigdata/journal/IAtomicStore.html#commit()"><code>IAtomicStore.commit()</code></a> in
 which writes buffered by this index were made restart-safe on the backing
 store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getMetadataAddr()">getMetadataAddr</a></strong>()</code>
<div class="block">The address at which the most recent <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> record was
 written.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getRecordVersion()">getRecordVersion</a></strong>()</code>
<div class="block">The value of the record version number that will be assigned to the next
 node or leaf written onto the backing store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getRootAddr()">getRootAddr</a></strong>()</code>
<div class="block">The address of the last written root of the persistent data structure
 -or- <code>0L</code> if there is no root.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#isOpen()">isOpen</a></strong>()</code>
<div class="block">An "open" index has may have some buffered data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()">reopen</a></strong>()</code>
<div class="block">(Re-) open the index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setDirtyListener(com.bigdata.btree.IDirtyListener)">setDirtyListener</a></strong>(<a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;listener)</code>
<div class="block">Set or clear the listener (there can be only one).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setLastCommitTime(long)">setLastCommitTime</a></strong>(long&nbsp;lastCommitTime)</code>
<div class="block">Sets the lastCommitTime.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#writeCheckpoint()">writeCheckpoint</a></strong>()</code>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#writeCheckpoint2()">writeCheckpoint2</a></strong>()</code>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.ICommitter">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a></h3>
<code><a href="../../../com/bigdata/journal/ICommitter.html#handleCommit(long)">handleCommit</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.counters.ICounterSetAccess">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.counters.<a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a></h3>
<code><a href="../../../com/bigdata/counters/ICounterSetAccess.html#getCounters()">getCounters</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.btree.ISimpleIndexAccess">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a></h3>
<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#getStore()">getStore</a>, <a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#rangeCount()">rangeCount</a>, <a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#removeAll()">removeAll</a>, <a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#scan()">scan</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.btree.IReadWriteLockManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a></h3>
<code><a href="../../../com/bigdata/btree/IReadWriteLockManager.html#getReadLockCount()">getReadLockCount</a>, <a href="../../../com/bigdata/btree/IReadWriteLockManager.html#isReadOnly()">isReadOnly</a>, <a href="../../../com/bigdata/btree/IReadWriteLockManager.html#readLock()">readLock</a>, <a href="../../../com/bigdata/btree/IReadWriteLockManager.html#writeLock()">writeLock</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getRecordVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordVersion</h4>
<pre>long&nbsp;getRecordVersion()</pre>
<div class="block">The value of the record version number that will be assigned to the next
 node or leaf written onto the backing store. This number is incremented
 each time a node or leaf is written onto the backing store. The initial
 value is ZERO (0). The first value assigned to a node or leaf will be
 ZERO (0).
 
 TODO Nobody is actually incrementing this value right now.</div>
</li>
</ul>
<a name="getCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCheckpoint</h4>
<pre><a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree">ICheckpoint</a>&nbsp;getCheckpoint()</pre>
<div class="block">Returns the most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record and never
         <code>null</code>.</dd></dl>
</li>
</ul>
<a name="getMetadataAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataAddr</h4>
<pre>long&nbsp;getMetadataAddr()</pre>
<div class="block">The address at which the most recent <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> record was
 written.</div>
</li>
</ul>
<a name="getRootAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootAddr</h4>
<pre>long&nbsp;getRootAddr()</pre>
<div class="block">The address of the last written root of the persistent data structure
 -or- <code>0L</code> if there is no root. A <code>0L</code> return may be
 an indication that an empty data structure will be created on demand.</div>
</li>
</ul>
<a name="setLastCommitTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastCommitTime</h4>
<pre>void&nbsp;setLastCommitTime(long&nbsp;lastCommitTime)</pre>
<div class="block">Sets the lastCommitTime.
 <p>
 Note: The lastCommitTime is set by a combination of the
 <a href="../../../com/bigdata/journal/AbstractJournal.html" title="class in com.bigdata.journal"><code>AbstractJournal</code></a> and <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> based on the actual
 commitTime of the commit during which an <a href="../../../com/bigdata/journal/Name2Addr.Entry.html" title="class in com.bigdata.journal"><code>Name2Addr.Entry</code></a> for that index was
 last committed. It is set for both historical index reads and unisolated
 index reads using <a href="../../../com/bigdata/journal/Name2Addr.Entry.html#commitTime"><code>Name2Addr.Entry.commitTime</code></a>. The lastCommitTime for an
 unisolated index will advance as commits are performed with that index.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>lastCommitTime</code> - The timestamp of the last committed state of this index.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if lastCommitTime is ZERO (0).</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the timestamp is less than the previous value (it is
             permitted to advance but not to go backwards).</dd></dl>
</li>
</ul>
<a name="getLastCommitTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastCommitTime</h4>
<pre>long&nbsp;getLastCommitTime()</pre>
<div class="block">The timestamp associated with the last <a href="../../../com/bigdata/journal/IAtomicStore.html#commit()"><code>IAtomicStore.commit()</code></a> in
 which writes buffered by this index were made restart-safe on the backing
 store. The lastCommitTime is set when the index is loaded from the
 backing store and updated after each commit. It is ZERO (0L) when an
 index is first created and will remain ZERO (0L) until the index is
 committed. If the backing store does not support atomic commits, then
 this value will always be ZERO (0L).</div>
</li>
</ul>
<a name="writeCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCheckpoint</h4>
<pre>long&nbsp;writeCheckpoint()</pre>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.
 <p>
 Note: A checkpoint by itself is NOT an atomic commit. The commit protocol
 is at the store level and uses <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>s to ensure that the
 state of the persistence capable data structure is current on the backing
 store.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The address at which the <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record for the
         persistence capable was written onto the store. The data
         structure can be reloaded from this <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd></dl>
</li>
</ul>
<a name="writeCheckpoint2()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCheckpoint2</h4>
<pre><a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;writeCheckpoint2()</pre>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.
 <p>
 Note: A checkpoint by itself is NOT an atomic commit. The commit protocol
 is at the store level and uses <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>s to ensure that the
 state of the persistence capable data structure is current on the backing
 store.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record for the persistent data structure
         which was written onto the store. The persistent data structure
         can be reloaded from this <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd></dl>
</li>
</ul>
<a name="getDirtyListener()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDirtyListener</h4>
<pre><a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;getDirtyListener()</pre>
<div class="block">Return the <a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree"><code>IDirtyListener</code></a>.</div>
</li>
</ul>
<a name="setDirtyListener(com.bigdata.btree.IDirtyListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDirtyListener</h4>
<pre>void&nbsp;setDirtyListener(<a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;listener)</pre>
<div class="block">Set or clear the listener (there can be only one).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The listener.</dd></dl>
</li>
</ul>
<a name="getIndexMetadata()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexMetadata</h4>
<pre><a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;getIndexMetadata()</pre>
<div class="block">The metadata for the index. This is full of good stuff about the index.
 <p>
 Note: The same method is also declared by <a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a> in order to
 provide access to the <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> for remote clients in
 scale-out.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/IIndex.html#getIndexMetadata()"><code>IIndex.getIndexMetadata()</code></a></dd></dl>
</li>
</ul>
<a name="reopen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reopen</h4>
<pre>void&nbsp;reopen()</pre>
<div class="block">(Re-) open the index. This method is part of a <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>close()</code></a> /
 <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()"><code>reopen()</code></a> protocol. That protocol may be used to reduce the
 resource burden of an index. This method is automatically invoked by a
 variety of methods that need to ensure that the index is available for
 use.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>close()</code></a>, 
<a href="../../../com/bigdata/btree/ICheckpointProtocol.html#isOpen()"><code>isOpen()</code></a>, 
<code>#getRoot()</code></dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()</pre>
<div class="block">The contract for <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>close()</code></a> is to reduce the resource burden of the
 index while not rendering the index inoperative. An index that has been
 <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>closed</code></a> MAY be <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()"><code>reopened</code></a> at any time
 (conditional on the continued availability of the backing store). Such an
 index reference remains valid after a <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>close()</code></a>. A closed index is
 transparently <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()"><code>reopened</code></a> by any access to the index data
 (scanning the index, probing the index, etc).
 <p>
 Note: A <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>close()</code></a> on a dirty index MUST discard writes rather than
 flushing them to the store and MUST NOT update its <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>
 record - (<a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>close()</code></a> is used to discard indices with partial writes
 when an <a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal"><code>AbstractTask</code></a> fails). If you are seeking to
 <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>close()</code></a> a mutable index view that state can be recovered by
 <a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()"><code>reopen()</code></a> then you MUST write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record
 before closing the index.</div>
</li>
</ul>
<a name="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>boolean&nbsp;isOpen()</pre>
<div class="block">An "open" index has may have some buffered data. A closed index will have
 to re-read any backing data from the backing store.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>If the index is "open".</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()"><code>close()</code></a>, 
<a href="../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()"><code>reopen()</code></a></dd></dl>
</li>
</ul>
<a name="dumpPages(boolean, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>dumpPages</h4>
<pre><a href="../../../com/bigdata/btree/BaseIndexStats.html" title="class in com.bigdata.btree">BaseIndexStats</a>&nbsp;dumpPages(boolean&nbsp;recursive,
                       boolean&nbsp;visitLeaves)</pre>
<div class="block">Reports statistics for the index.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>recursive</code> - When <code>true</code>, also collects statistics on the pages
           (nodes and leaves) using a low-level approach.</dd><dd><code>visitLeaves</code> - When <code>true</code> and <code>recursive:=true</code> then the
           leaves of the index are also visited.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Some interesting statistics about the index (and optionally the
         pages in that index) which the caller can print out.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="http://trac.bigdata.com/ticket/1050" > pre-heat the journal
      on startup </a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ICheckpointProtocol.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/btree/ICounter.html" title="interface in com.bigdata.btree"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/btree/ICheckpointProtocol.html" target="_top">Frames</a></li>
<li><a href="ICheckpointProtocol.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
