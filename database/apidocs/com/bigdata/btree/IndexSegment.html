<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Tue Jan 26 02:02:01 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>IndexSegment (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)</title>
<meta name="date" content="2016-01-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IndexSegment (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IndexSegment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/btree/IndexMetadata.Options.html" title="interface in com.bigdata.btree"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/btree/IndexSegment.ImmutableLeafCursor.html" title="class in com.bigdata.btree"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/btree/IndexSegment.html" target="_top">Frames</a></li>
<li><a href="IndexSegment.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_com.bigdata.btree.AbstractBTree">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.btree</div>
<h2 title="Class IndexSegment" class="title">Class IndexSegment</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">com.bigdata.btree.AbstractBTree</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.btree.IndexSegment</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/btree/IAutoboxBTree.html" title="interface in com.bigdata.btree">IAutoboxBTree</a>, <a href="../../../com/bigdata/btree/IBTreeStatistics.html" title="interface in com.bigdata.btree">IBTreeStatistics</a>, <a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a>, <a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree">IIndex</a>, <a href="../../../com/bigdata/btree/IIndexLocalCounter.html" title="interface in com.bigdata.btree">IIndexLocalCounter</a>, <a href="../../../com/bigdata/btree/ILinearList.html" title="interface in com.bigdata.btree">ILinearList</a>, <a href="../../../com/bigdata/btree/ILocalBTreeView.html" title="interface in com.bigdata.btree">ILocalBTreeView</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html" title="interface in com.bigdata.btree">IRangeQuery</a>, <a href="../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a>, <a href="../../../com/bigdata/btree/ISimpleBTree.html" title="interface in com.bigdata.btree">ISimpleBTree</a>, <a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a>, <a href="../../../com/bigdata/btree/ISimpleTreeIndexAccess.html" title="interface in com.bigdata.btree">ISimpleTreeIndexAccess</a>, <a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">IndexSegment</span>
extends <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></pre>
<div class="block">An index segment is read-only btree corresponding to some key range of a
 potentially distributed index. The file format of the index segment includes
 a metadata record, the leaves of the segment in key order, and the nodes of
 the segment in an arbitrary order. It is possible to map or buffer the part
 of the file containing the index nodes or the entire file depending on
 application requirements.
 <p>
 Note: iterators returned by this class do not support removal (the nodes and
 leaves will all refuse mutation operations).</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.ImmutableLeafCursor.html" title="class in com.bigdata.btree">IndexSegment.ImmutableLeafCursor</a></strong></code>
<div class="block">Cursor using the double-linked leaves for efficient scans.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.ImmutableNodeFactory.html" title="class in com.bigdata.btree">IndexSegment.ImmutableNodeFactory</a></strong></code>
<div class="block">Factory for immutable nodes and leaves used by the <a href="../../../com/bigdata/btree/NodeSerializer.html" title="class in com.bigdata.btree"><code>NodeSerializer</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.IndexSegmentTupleCursor.html" title="class in com.bigdata.btree">IndexSegment.IndexSegmentTupleCursor</a>&lt;<a href="../../../com/bigdata/btree/IndexSegment.IndexSegmentTupleCursor.html" title="type parameter in IndexSegment.IndexSegmentTupleCursor">E</a>&gt;</strong></code>
<div class="block">Implementation for an immutable <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_com.bigdata.btree.AbstractBTree">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></h3>
<code><a href="../../../com/bigdata/btree/AbstractBTree.IBTreeCounters.html" title="interface in com.bigdata.btree">AbstractBTree.IBTreeCounters</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.btree.AbstractBTree">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></h3>
<code><a href="../../../com/bigdata/btree/AbstractBTree.html#branchingFactor">branchingFactor</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#debug">debug</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#DEBUG">DEBUG</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#dumpLog">dumpLog</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#error">error</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#ERROR_CLOSED">ERROR_CLOSED</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#ERROR_ERROR_STATE">ERROR_ERROR_STATE</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#ERROR_LESS_THAN_ZERO">ERROR_LESS_THAN_ZERO</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#ERROR_READ_ONLY">ERROR_READ_ONLY</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#ERROR_TOO_LARGE">ERROR_TOO_LARGE</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#ERROR_TRANSIENT">ERROR_TRANSIENT</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#INFO">INFO</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#log">log</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#metadata">metadata</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#ndistinctOnWriteRetentionQueue">ndistinctOnWriteRetentionQueue</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#nodeSer">nodeSer</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#readOnly">readOnly</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#root">root</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#store">store</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#storeCache">storeCache</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#writeRetentionQueue">writeRetentionQueue</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.btree.IRangeQuery">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/IRangeQuery.html" title="interface in com.bigdata.btree">IRangeQuery</a></h3>
<code><a href="../../../com/bigdata/btree/IRangeQuery.html#ALL">ALL</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html#CURSOR">CURSOR</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html#DEFAULT">DEFAULT</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html#DELETED">DELETED</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html#FIXED_LENGTH_SUCCESSOR">FIXED_LENGTH_SUCCESSOR</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html#KEYS">KEYS</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html#NONE">NONE</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html#PARALLEL">PARALLEL</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html#READONLY">READONLY</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html#REMOVEALL">REMOVEALL</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html#REVERSE">REVERSE</a>, <a href="../../../com/bigdata/btree/IRangeQuery.html#VALS">VALS</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#IndexSegment(com.bigdata.btree.IndexSegmentStore)">IndexSegment</a></strong>(<a href="../../../com/bigdata/btree/IndexSegmentStore.html" title="class in com.bigdata.btree">IndexSegmentStore</a>&nbsp;fileStore)</code>
<div class="block">Open a read-only index segment.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#_reopen()">_reopen</a></strong>()</code>
<div class="block">This method is responsible for setting up the root leaf (either new or
 read from the store), the bloom filter, etc.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#close()">close</a></strong>()</code>
<div class="block">Extended to also close the backing file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#finalize()">finalize</a></strong>()</code>
<div class="block">Extended to explicitly close the <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a> and the backing
 <a href="../../../com/bigdata/btree/IndexSegmentStore.html" title="class in com.bigdata.btree"><code>IndexSegmentStore</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IndexSegment.ImmutableNodeFactory.ImmutableLeaf.html" title="class in com.bigdata.btree">IndexSegment.ImmutableNodeFactory.ImmutableLeaf</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#findLeaf(byte[])">findLeaf</a></strong>(byte[]&nbsp;key)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#findLeafAddr(byte[])">findLeafAddr</a></strong>(byte[]&nbsp;key)</code>
<div class="block">Find the address of the leaf that would span the key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/BloomFilter.html" title="class in com.bigdata.btree">BloomFilter</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getBloomFilter()">getBloomFilter</a></strong>()</code>
<div class="block">Return the optional <a href="../../../com/bigdata/btree/IBloomFilter.html" title="interface in com.bigdata.btree"><code>IBloomFilter</code></a>, transparently
 <a href="../../../com/bigdata/btree/AbstractBTree.html#reopen()"><code>AbstractBTree.reopen()</code></a>ing the index if necessary.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree">ICheckpoint</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getCheckpoint()">getCheckpoint</a></strong>()</code>
<div class="block">Returns the most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ICounter.html" title="interface in com.bigdata.btree">ICounter</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getCounter()">getCounter</a></strong>()</code>
<div class="block">Operation is disallowed - the counter is only stored in the mutable
 <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getDirtyListener()">getDirtyListener</a></strong>()</code>
<div class="block">Return the <a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree"><code>IDirtyListener</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getEntryCount()">getEntryCount</a></strong>()</code>
<div class="block">The #of entries (aka tuples) in the <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree"><code>AbstractBTree</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getHeight()">getHeight</a></strong>()</code>
<div class="block">The height of the btree.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getLastCommitTime()">getLastCommitTime</a></strong>()</code>
<div class="block">The value of the <a href="../../../com/bigdata/btree/IndexSegmentCheckpoint.html#commitTime"><code>IndexSegmentCheckpoint.commitTime</code></a> field.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getLeafCount()">getLeafCount</a></strong>()</code>
<div class="block">The #of leaf nodes in the <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree"><code>AbstractBTree</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getMetadataAddr()">getMetadataAddr</a></strong>()</code>
<div class="block">The address at which the most recent <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> record was
 written.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getMutableBTree()">getMutableBTree</a></strong>()</code>
<div class="block">The <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> that is absorbing writes for the view.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getNodeCount()">getNodeCount</a></strong>()</code>
<div class="block">The #of non-leaf nodes in the <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree"><code>AbstractBTree</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getRecordVersion()">getRecordVersion</a></strong>()</code>
<div class="block">The value of the record version number that will be assigned to the next
 node or leaf written onto the backing store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getRevisionTimestamp()">getRevisionTimestamp</a></strong>()</code>
<div class="block">The timestamp associated with unisolated writes on this index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getRootAddr()">getRootAddr</a></strong>()</code>
<div class="block">The address of the last written root of the persistent data structure
 -or- <code>0L</code> if there is no root.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getSourceCount()">getSourceCount</a></strong>()</code>
<div class="block">The #of <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree"><code>AbstractBTree</code></a>s sources for the view.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getSources()">getSources</a></strong>()</code>
<div class="block">An array containing the ordered sources in the view.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IndexSegmentStore.html" title="class in com.bigdata.btree">IndexSegmentStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#getStore()">getStore</a></strong>()</code>
<div class="block">The backing store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#handleCommit(long)">handleCommit</a></strong>(long&nbsp;commitTime)</code>
<div class="block">Flush dirty state to the store in preparation for an atomic commit and
 return the address from which the persistence capable data structure may
 be reloaded.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IndexSegment.ImmutableLeafCursor.html" title="class in com.bigdata.btree">IndexSegment.ImmutableLeafCursor</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#newLeafCursor(byte[])">newLeafCursor</a></strong>(byte[]&nbsp;key)</code>
<div class="block">Return a cursor that may be used to efficiently locate and scan the
 leaves in the B+Tree.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IndexSegment.ImmutableLeafCursor.html" title="class in com.bigdata.btree">IndexSegment.ImmutableLeafCursor</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#newLeafCursor(com.bigdata.btree.SeekEnum)">newLeafCursor</a></strong>(<a href="../../../com/bigdata/btree/SeekEnum.html" title="enum in com.bigdata.btree">SeekEnum</a>&nbsp;where)</code>
<div class="block">Return a cursor that may be used to efficiently locate and scan the
 leaves in the B+Tree.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IndexSegment.ImmutableNodeFactory.ImmutableLeaf.html" title="class in com.bigdata.btree">IndexSegment.ImmutableNodeFactory.ImmutableLeaf</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#readLeaf(long)">readLeaf</a></strong>(long&nbsp;addr)</code>
<div class="block">Type-safe method reads the leaf from the backing file given the address
 of that leaf.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#readNodeOrLeaf(long)">readNodeOrLeaf</a></strong>(long&nbsp;addr)</code>
<div class="block">Extended to transparently re-open the backing <a href="../../../com/bigdata/btree/IndexSegmentStore.html" title="class in com.bigdata.btree"><code>IndexSegmentStore</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#removeAll()">removeAll</a></strong>()</code>
<div class="block">Remove all entries in the B+Tree.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#setDirtyListener(com.bigdata.btree.IDirtyListener)">setDirtyListener</a></strong>(<a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;listener)</code>
<div class="block">Set or clear the listener (there can be only one).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#setLastCommitTime(long)">setLastCommitTime</a></strong>(long&nbsp;lastCommitTime)</code>
<div class="block">Sets the lastCommitTime.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#toString()">toString</a></strong>()</code>
<div class="block">Fast summary information about the B+Tree.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#writeCheckpoint()">writeCheckpoint</a></strong>()</code>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/btree/IndexSegment.html#writeCheckpoint2()">writeCheckpoint2</a></strong>()</code>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.btree.AbstractBTree">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.btree.<a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></h3>
<code><a href="../../../com/bigdata/btree/AbstractBTree.html#assertNotReadOnly()">assertNotReadOnly</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#assertNotTransient()">assertNotTransient</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#contains(byte[])">contains</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#contains(java.lang.Object)">contains</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#decodeRecordAddr(byte[])">decodeRecordAddr</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#dump(org.apache.log4j.Level,%20java.io.PrintStream)">dump</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#dump(java.io.PrintStream)">dump</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#dumpPages(boolean,%20boolean)">dumpPages</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#encodeRecordAddr(com.bigdata.io.ByteArrayBuffer,%20long)">encodeRecordAddr</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getBranchingFactor()">getBranchingFactor</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getBtreeCounters()">getBtreeCounters</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getContainsTuple()">getContainsTuple</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getCounters()">getCounters</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getIndexMetadata()">getIndexMetadata</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getLookupTuple()">getLookupTuple</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getNodeSerializer()">getNodeSerializer</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getReadLockCount()">getReadLockCount</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getResourceMetadata()">getResourceMetadata</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getRightMostNode(boolean)">getRightMostNode</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getRoot()">getRoot</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getRootOrFinger(byte[])">getRootOrFinger</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getStatistics()">getStatistics</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getUtilization()">getUtilization</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#getWriteTuple()">getWriteTuple</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#indexOf(byte[])">indexOf</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#insert(byte[],%20byte[])">insert</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#insert(byte[],%20byte[],%20boolean,%20boolean,%20long,%20com.bigdata.btree.Tuple)">insert</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#insert(java.lang.Object,%20java.lang.Object)">insert</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#isBalanced()">isBalanced</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#isOpen()">isOpen</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#isReadOnly()">isReadOnly</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#isTransient()">isTransient</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#keyAt(long)">keyAt</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#lookup(byte[])">lookup</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#lookup(byte[],%20com.bigdata.btree.Tuple)">lookup</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#lookup(java.lang.Object)">lookup</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#putIfAbsent(byte[],%20byte[])">putIfAbsent</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeCheck(byte[],%20boolean)">rangeCheck</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeCopy(com.bigdata.btree.IIndex,%20byte[],%20byte[],%20boolean)">rangeCopy</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeCount()">rangeCount</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeCount(byte[],%20byte[])">rangeCount</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeCount(java.lang.Object,%20java.lang.Object)">rangeCount</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeCountExact(byte[],%20byte[])">rangeCountExact</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeCountExactWithDeleted(byte[],%20byte[])">rangeCountExactWithDeleted</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeIterator()">rangeIterator</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeIterator(byte[],%20byte[])">rangeIterator</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeIterator(byte[],%20byte[],%20int,%20int,%20cutthecrap.utils.striterators.IFilter)">rangeIterator</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeIterator(java.lang.Object,%20java.lang.Object)">rangeIterator</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#rangeIterator(java.lang.Object,%20java.lang.Object,%20int,%20int,%20cutthecrap.utils.striterators.IFilter)">rangeIterator</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#readLock()">readLock</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#recycle(long)">recycle</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#remove(byte[])">remove</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#remove(byte[],%20com.bigdata.btree.Tuple)">remove</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#remove(java.lang.Object)">remove</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#reopen()">reopen</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#scan()">scan</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#setBTreeCounters(com.bigdata.btree.BTreeCounters)">setBTreeCounters</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#submit(byte[],%20byte[],%20com.bigdata.btree.proc.IKeyRangeIndexProcedure,%20com.bigdata.btree.proc.IResultHandler)">submit</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#submit(byte[],%20com.bigdata.btree.proc.ISimpleIndexProcedure)">submit</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#submit(int,%20int,%20byte[][],%20byte[][],%20com.bigdata.btree.proc.AbstractKeyArrayIndexProcedureConstructor,%20com.bigdata.btree.proc.IResultHandler)">submit</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#touch(com.bigdata.btree.AbstractNode)">touch</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#valueAt(long)">valueAt</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#valueAt(long,%20com.bigdata.btree.Tuple)">valueAt</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#writeLock()">writeLock</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#writeNodeOrLeaf(com.bigdata.btree.AbstractNode)">writeNodeOrLeaf</a>, <a href="../../../com/bigdata/btree/AbstractBTree.html#writeNodeRecursive(com.bigdata.btree.AbstractNode)">writeNodeRecursive</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="IndexSegment(com.bigdata.btree.IndexSegmentStore)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IndexSegment</h4>
<pre>public&nbsp;IndexSegment(<a href="../../../com/bigdata/btree/IndexSegmentStore.html" title="class in com.bigdata.btree">IndexSegmentStore</a>&nbsp;fileStore)</pre>
<div class="block">Open a read-only index segment.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileStore</code> - The store containing the <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/IndexSegmentStore.html#loadIndexSegment()"><code>IndexSegmentStore.loadIndexSegment()</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getHeight()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeight</h4>
<pre>public final&nbsp;int&nbsp;getHeight()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/IBTreeStatistics.html#getHeight()">IBTreeStatistics</a></code></strong></div>
<div class="block">The height of the btree. The height is the #of levels minus one. A btree
 with only a root leaf has <code>height := 0</code>. A btree with a
 root node and one level of leaves under it has <code>height := 1</code>.
 Note that all leaves of a btree are at the same height (this is what is
 means for the btree to be "balanced"). Also note that the height only
 changes when we split or join the root node (a btree maintains balance by
 growing and shrinking in levels from the top rather than the leaves).</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/ISimpleTreeIndexAccess.html#isBalanced()"><code>ISimpleTreeIndexAccess.isBalanced()</code></a></dd></dl>
</li>
</ul>
<a name="getNodeCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNodeCount</h4>
<pre>public final&nbsp;long&nbsp;getNodeCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/IBTreeStatistics.html#getNodeCount()">IBTreeStatistics</a></code></strong></div>
<div class="block">The #of non-leaf nodes in the <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree"><code>AbstractBTree</code></a>. This is zero (0)
 for a new btree.</div>
</li>
</ul>
<a name="getLeafCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeafCount</h4>
<pre>public final&nbsp;long&nbsp;getLeafCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/IBTreeStatistics.html#getLeafCount()">IBTreeStatistics</a></code></strong></div>
<div class="block">The #of leaf nodes in the <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree"><code>AbstractBTree</code></a>. This is one (1) for a
 new btree.</div>
</li>
</ul>
<a name="getEntryCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEntryCount</h4>
<pre>public final&nbsp;long&nbsp;getEntryCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/IBTreeStatistics.html#getEntryCount()">IBTreeStatistics</a></code></strong></div>
<div class="block">The #of entries (aka tuples) in the <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree"><code>AbstractBTree</code></a>. This is zero
 (0) for a new B+Tree. When the B+Tree supports delete markers, this value
 also includes tuples which have been marked as deleted.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/IBTreeStatistics.html#getEntryCount()">getEntryCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/IBTreeStatistics.html" title="interface in com.bigdata.btree">IBTreeStatistics</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ISimpleTreeIndexAccess.html#getEntryCount()">getEntryCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleTreeIndexAccess.html" title="interface in com.bigdata.btree">ISimpleTreeIndexAccess</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractBTree.html#getEntryCount()">getEntryCount</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></code></dd>
</dl>
</li>
</ul>
<a name="getCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCheckpoint</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree">ICheckpoint</a>&nbsp;getCheckpoint()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getCheckpoint()">ICheckpointProtocol</a></code></strong></div>
<div class="block">Returns the most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record and never
         <code>null</code>.</dd></dl>
</li>
</ul>
<a name="getRecordVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordVersion</h4>
<pre>public&nbsp;long&nbsp;getRecordVersion()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getRecordVersion()">ICheckpointProtocol</a></code></strong></div>
<div class="block">The value of the record version number that will be assigned to the next
 node or leaf written onto the backing store. This number is incremented
 each time a node or leaf is written onto the backing store. The initial
 value is ZERO (0). The first value assigned to a node or leaf will be
 ZERO (0).
 
 TODO Nobody is actually incrementing this value right now.</div>
</li>
</ul>
<a name="getMetadataAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataAddr</h4>
<pre>public&nbsp;long&nbsp;getMetadataAddr()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getMetadataAddr()">ICheckpointProtocol</a></code></strong></div>
<div class="block">The address at which the most recent <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> record was
 written.</div>
</li>
</ul>
<a name="getRootAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootAddr</h4>
<pre>public&nbsp;long&nbsp;getRootAddr()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getRootAddr()">ICheckpointProtocol</a></code></strong></div>
<div class="block">The address of the last written root of the persistent data structure
 -or- <code>0L</code> if there is no root. A <code>0L</code> return may be
 an indication that an empty data structure will be created on demand.</div>
</li>
</ul>
<a name="setLastCommitTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastCommitTime</h4>
<pre>public&nbsp;void&nbsp;setLastCommitTime(long&nbsp;lastCommitTime)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setLastCommitTime(long)">ICheckpointProtocol</a></code></strong></div>
<div class="block">Sets the lastCommitTime.
 <p>
 Note: The lastCommitTime is set by a combination of the
 <a href="../../../com/bigdata/journal/AbstractJournal.html" title="class in com.bigdata.journal"><code>AbstractJournal</code></a> and <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> based on the actual
 commitTime of the commit during which an <a href="../../../com/bigdata/journal/Name2Addr.Entry.html" title="class in com.bigdata.journal"><code>Name2Addr.Entry</code></a> for that index was
 last committed. It is set for both historical index reads and unisolated
 index reads using <a href="../../../com/bigdata/journal/Name2Addr.Entry.html#commitTime"><code>Name2Addr.Entry.commitTime</code></a>. The lastCommitTime for an
 unisolated index will advance as commits are performed with that index.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>lastCommitTime</code> - The timestamp of the last committed state of this index.</dd></dl>
</li>
</ul>
<a name="writeCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCheckpoint</h4>
<pre>public&nbsp;long&nbsp;writeCheckpoint()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#writeCheckpoint()">ICheckpointProtocol</a></code></strong></div>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.
 <p>
 Note: A checkpoint by itself is NOT an atomic commit. The commit protocol
 is at the store level and uses <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>s to ensure that the
 state of the persistence capable data structure is current on the backing
 store.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The address at which the <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record for the
         persistence capable was written onto the store. The data
         structure can be reloaded from this <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd></dl>
</li>
</ul>
<a name="writeCheckpoint2()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCheckpoint2</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;writeCheckpoint2()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#writeCheckpoint2()">ICheckpointProtocol</a></code></strong></div>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.
 <p>
 Note: A checkpoint by itself is NOT an atomic commit. The commit protocol
 is at the store level and uses <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>s to ensure that the
 state of the persistence capable data structure is current on the backing
 store.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record for the persistent data structure
         which was written onto the store. The persistent data structure
         can be reloaded from this <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd></dl>
</li>
</ul>
<a name="getDirtyListener()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDirtyListener</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;getDirtyListener()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getDirtyListener()">ICheckpointProtocol</a></code></strong></div>
<div class="block">Return the <a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree"><code>IDirtyListener</code></a>.</div>
</li>
</ul>
<a name="setDirtyListener(com.bigdata.btree.IDirtyListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDirtyListener</h4>
<pre>public&nbsp;void&nbsp;setDirtyListener(<a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;listener)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setDirtyListener(com.bigdata.btree.IDirtyListener)">ICheckpointProtocol</a></code></strong></div>
<div class="block">Set or clear the listener (there can be only one).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The listener.</dd></dl>
</li>
</ul>
<a name="handleCommit(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleCommit</h4>
<pre>public&nbsp;long&nbsp;handleCommit(long&nbsp;commitTime)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/ICommitter.html#handleCommit(long)">ICommitter</a></code></strong></div>
<div class="block">Flush dirty state to the store in preparation for an atomic commit and
 return the address from which the persistence capable data structure may
 be reloaded.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>commitTime</code> - The timestamp assigned to the commit.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The address of the record from which the persistence capable data
         structure may be reloaded. If no changes have been made then the
         previous address should be returned as it is still valid.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<div class="block">Fast summary information about the B+Tree.
 <p>
 Overridden to be thread-safe without requiring any locks.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractBTree.html#toString()">toString</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></code></dd>
</dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Extended to also close the backing file.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractBTree.html#close()">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></code></dd>
</dl>
</li>
</ul>
<a name="getStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStore</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/IndexSegmentStore.html" title="class in com.bigdata.btree">IndexSegmentStore</a>&nbsp;getStore()</pre>
<div class="block">The backing store.
 <p>
 Overridden to a more constrained type.</div>
</li>
</ul>
<a name="finalize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre>protected&nbsp;void&nbsp;finalize()
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block">Extended to explicitly close the <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a> and the backing
 <a href="../../../com/bigdata/btree/IndexSegmentStore.html" title="class in com.bigdata.btree"><code>IndexSegmentStore</code></a>. A finalizer is necessary for this class
 because we maintain <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a>s in a weak value cache and do
 not explicitly close then before their reference is cleared. This leads
 to the <a href="../../../com/bigdata/btree/IndexSegmentStore.html" title="class in com.bigdata.btree"><code>IndexSegmentStore</code></a> being left open. The finalizer fixes
 that.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd></dl>
</li>
</ul>
<a name="_reopen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_reopen</h4>
<pre>protected&nbsp;void&nbsp;_reopen()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html#_reopen()">AbstractBTree</a></code></strong></div>
<div class="block">This method is responsible for setting up the root leaf (either new or
 read from the store), the bloom filter, etc. It is invoked by
 <a href="../../../com/bigdata/btree/AbstractBTree.html#reopen()"><code>AbstractBTree.reopen()</code></a> once <a href="../../../com/bigdata/btree/AbstractBTree.html#root"><code>AbstractBTree.root</code></a> has been show to be
 <code>null</code> with double-checked locking. When invoked in this
 context, the caller is guaranteed to hold a lock on <i>this</i>. This is
 done to ensure that at most one thread gets to re-open the index from the
 backing store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractBTree.html#_reopen()">_reopen</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></code></dd>
</dl>
</li>
</ul>
<a name="getBloomFilter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBloomFilter</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/BloomFilter.html" title="class in com.bigdata.btree">BloomFilter</a>&nbsp;getBloomFilter()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html#getBloomFilter()">AbstractBTree</a></code></strong></div>
<div class="block">Return the optional <a href="../../../com/bigdata/btree/IBloomFilter.html" title="interface in com.bigdata.btree"><code>IBloomFilter</code></a>, transparently
 <a href="../../../com/bigdata/btree/AbstractBTree.html#reopen()"><code>AbstractBTree.reopen()</code></a>ing the index if necessary.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ILocalBTreeView.html#getBloomFilter()">getBloomFilter</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ILocalBTreeView.html" title="interface in com.bigdata.btree">ILocalBTreeView</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractBTree.html#getBloomFilter()">getBloomFilter</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The bloom filter -or- <code>null</code> if there is no bloom
         filter (including the case where there is a bloom filter but it
         has been disabled since the <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> has grown too large and
         the expected error rate of the bloom filter would be too high).</dd></dl>
</li>
</ul>
<a name="getLastCommitTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastCommitTime</h4>
<pre>public final&nbsp;long&nbsp;getLastCommitTime()</pre>
<div class="block">The value of the <a href="../../../com/bigdata/btree/IndexSegmentCheckpoint.html#commitTime"><code>IndexSegmentCheckpoint.commitTime</code></a> field.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getLastCommitTime()">getLastCommitTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractBTree.html#getLastCommitTime()">getLastCommitTime</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getLastCommitTime()"><code>ICheckpointProtocol.getLastCommitTime()</code></a></dd></dl>
</li>
</ul>
<a name="getRevisionTimestamp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRevisionTimestamp</h4>
<pre>public final&nbsp;long&nbsp;getRevisionTimestamp()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html#getRevisionTimestamp()">AbstractBTree</a></code></strong></div>
<div class="block">The timestamp associated with unisolated writes on this index. This
 timestamp is designed to allow the interleaving of full transactions
 (whose revision timestamp is assigned by the transaction service) with
 unisolated operations on the same indices.
 <p>
 The revision timestamp assigned by this method is
 <code>lastCommitTime+1</code>. The reasoning is as follows. Revision
 timestamps are assigned by the transaction manager when the transaction
 is validated as part of its commit protocol. Therefore, revision
 timestamps are assigned after the transaction write set is complete.
 Further, the assigned revisionTimestamp will be strictly LT the
 commitTime for that transaction. By using <code>lastCommitTime+1</code>
 we are guaranteed that the revisionTimestamp for new writes (which will
 be part of some future commit point) will always be strictly GT the
 revisionTimestamp of historical writes (which were part of some prior
 commit point).
 <p>
 Note: Unisolated operations using this timestamp ARE NOT validated. The
 timestamp is simply applied to the tuple when it is inserted or updated
 and will become part of the restart safe state of the B+Tree once the
 unisolated operation participates in a commit.
 <p>
 Note: If an unisolated operation were to execute concurrent with a
 transaction commit for the same index then that could produce
 inconsistent results in the index and could trigger concurrent
 modification errors. In order to avoid such concurrent modification
 errors, unisolated operations which are to be mixed with full
 transactions MUST ensure that they have exclusive access to the
 unisolated index before proceeding. There are two ways to do this: (1)
 take the application off line for transactions; (2) submit your unisolated
 operations to the <a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal"><code>IConcurrencyManager</code></a> which will automatically
 impose the necessary constraints on concurrent access to the unisolated
 indices.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractBTree.html#getRevisionTimestamp()">getRevisionTimestamp</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The revision timestamp to be assigned to an unisolated write.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - always since the <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a> is read-only.</dd></dl>
</li>
</ul>
<a name="getCounter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCounter</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/ICounter.html" title="interface in com.bigdata.btree">ICounter</a>&nbsp;getCounter()</pre>
<div class="block">Operation is disallowed - the counter is only stored in the mutable
 <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>.</div>
</li>
</ul>
<a name="removeAll()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAll</h4>
<pre>public final&nbsp;void&nbsp;removeAll()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html#removeAll()">AbstractBTree</a></code></strong></div>
<div class="block">Remove all entries in the B+Tree.
 <p>
 Note: The <a href="../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal"><code>IIndexManager</code></a> defines methods for registering (adding)
 and dropping indices vs removing the entries in an individual
 <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree"><code>AbstractBTree</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#removeAll()">removeAll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractBTree.html#removeAll()">removeAll</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - always.</dd></dl>
</li>
</ul>
<a name="readLeaf(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLeaf</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/IndexSegment.ImmutableNodeFactory.ImmutableLeaf.html" title="class in com.bigdata.btree">IndexSegment.ImmutableNodeFactory.ImmutableLeaf</a>&nbsp;readLeaf(long&nbsp;addr)</pre>
<div class="block">Type-safe method reads the leaf from the backing file given the address
 of that leaf. This method is suitable for ad-hoc examination of the leaf
 or for a low-level iterator based on the prior/next leaf addresses.
 <p>
 Note: The parent is NOT set on the leaf but it MAY be defined if the leaf
 was read from cache.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The address of a leaf.</dd>
<dt><span class="strong">Returns:</span></dt><dd>That leaf.</dd></dl>
</li>
</ul>
<a name="readNodeOrLeaf(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readNodeOrLeaf</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/btree/AbstractNode.html" title="class in com.bigdata.btree">AbstractNode</a>&lt;?&gt;&nbsp;readNodeOrLeaf(long&nbsp;addr)</pre>
<div class="block">Extended to transparently re-open the backing <a href="../../../com/bigdata/btree/IndexSegmentStore.html" title="class in com.bigdata.btree"><code>IndexSegmentStore</code></a>.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractBTree.html#readNodeOrLeaf(long)">readNodeOrLeaf</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The address in the store.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The node or leaf.</dd></dl>
</li>
</ul>
<a name="findLeaf(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findLeaf</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/IndexSegment.ImmutableNodeFactory.ImmutableLeaf.html" title="class in com.bigdata.btree">IndexSegment.ImmutableNodeFactory.ImmutableLeaf</a>&nbsp;findLeaf(byte[]&nbsp;key)</pre>
</li>
</ul>
<a name="findLeafAddr(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findLeafAddr</h4>
<pre>public&nbsp;long&nbsp;findLeafAddr(byte[]&nbsp;key)</pre>
<div class="block">Find the address of the leaf that would span the key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key</dd>
<dt><span class="strong">Returns:</span></dt><dd>The address of the leaf which would span that key.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <i>key</i> is <code>null</code>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang">RuntimeException</a></code> - if the key does not lie within the optional key-range
             constraints for an index partition.</dd></dl>
</li>
</ul>
<a name="newLeafCursor(com.bigdata.btree.SeekEnum)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newLeafCursor</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/IndexSegment.ImmutableLeafCursor.html" title="class in com.bigdata.btree">IndexSegment.ImmutableLeafCursor</a>&nbsp;newLeafCursor(<a href="../../../com/bigdata/btree/SeekEnum.html" title="enum in com.bigdata.btree">SeekEnum</a>&nbsp;where)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html#newLeafCursor(com.bigdata.btree.SeekEnum)">AbstractBTree</a></code></strong></div>
<div class="block">Return a cursor that may be used to efficiently locate and scan the
 leaves in the B+Tree. The cursor will be initially positioned on the leaf
 identified by the symbolic constant.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractBTree.html#newLeafCursor(com.bigdata.btree.SeekEnum)">newLeafCursor</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></code></dd>
</dl>
</li>
</ul>
<a name="newLeafCursor(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newLeafCursor</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/IndexSegment.ImmutableLeafCursor.html" title="class in com.bigdata.btree">IndexSegment.ImmutableLeafCursor</a>&nbsp;newLeafCursor(byte[]&nbsp;key)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html#newLeafCursor(byte[])">AbstractBTree</a></code></strong></div>
<div class="block">Return a cursor that may be used to efficiently locate and scan the
 leaves in the B+Tree. The cursor will be initially positioned on the leaf
 that spans the given <i>key</i>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/AbstractBTree.html#newLeafCursor(byte[])">newLeafCursor</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key (required).</dd></dl>
</li>
</ul>
<a name="getMutableBTree()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMutableBTree</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a>&nbsp;getMutableBTree()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ILocalBTreeView.html#getMutableBTree()">ILocalBTreeView</a></code></strong></div>
<div class="block">The <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> that is absorbing writes for the view.</div>
</li>
</ul>
<a name="getSourceCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSourceCount</h4>
<pre>public&nbsp;int&nbsp;getSourceCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ILocalBTreeView.html#getSourceCount()">ILocalBTreeView</a></code></strong></div>
<div class="block">The #of <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree"><code>AbstractBTree</code></a>s sources for the view. This will be ONE (1)
 if the view is a <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>.</div>
</li>
</ul>
<a name="getSources()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getSources</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a>[]&nbsp;getSources()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ILocalBTreeView.html#getSources()">ILocalBTreeView</a></code></strong></div>
<div class="block">An array containing the ordered sources in the view. Changes to the array
 DO NOT affect the view. If the view is an <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree"><code>AbstractBTree</code></a> then the
 array will contain a single element which is that <a href="../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree"><code>AbstractBTree</code></a>.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IndexSegment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/btree/IndexMetadata.Options.html" title="interface in com.bigdata.btree"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/btree/IndexSegment.ImmutableLeafCursor.html" title="class in com.bigdata.btree"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/btree/IndexSegment.html" target="_top">Frames</a></li>
<li><a href="IndexSegment.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_com.bigdata.btree.AbstractBTree">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
