<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Thu Jan 21 00:33:38 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>StatementBuffer (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-21">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="StatementBuffer (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StatementBuffer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/rdf/rio/RioLoaderListener.html" title="interface in com.bigdata.rdf.rio"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.IWrittenSPOArray.html" title="interface in com.bigdata.rdf.rio"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/rdf/rio/StatementBuffer.html" target="_top">Frames</a></li>
<li><a href="StatementBuffer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.rdf.rio</div>
<h2 title="Class StatementBuffer" class="title">Class StatementBuffer&lt;S extends org.openrdf.model.Statement&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.rdf.rio.StatementBuffer&lt;S&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html" title="interface in com.bigdata.rdf.rio">IStatementBuffer</a>&lt;S&gt;, <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;S&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../com/bigdata/rdf/load/VerifyStatementBuffer.html" title="class in com.bigdata.rdf.load">VerifyStatementBuffer</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">StatementBuffer&lt;S extends org.openrdf.model.Statement&gt;</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html" title="interface in com.bigdata.rdf.rio">IStatementBuffer</a>&lt;S&gt;, <a href="../../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a></pre>
<div class="block">A write buffer for absorbing the output of the RIO parser or other
 <code>Statement</code> source and writing that output onto an
 <a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store"><code>AbstractTripleStore</code></a> using the batch API.
 <p>
 Note: there is a LOT of <code>Value</code> duplication in parsed RDF and we get a
 significant reward for reducing <code>Value</code>s to only the distinct
 <code>Value</code>s during processing. On the other hand, there is little
 <code>Statement</code> duplication. Hence we pay an unnecessary overhead if we try
 to make the statements distinct in the buffer.
 <p>
 Note: This also provides an explanation for why neither this class nor writes
 of SPOs do better when "distinct" statements is turned on - the "Value"
 objects in that case are only represented by long integers and duplication in
 their values does not impose a burden on either the heap or the index
 writers. In contrast, the duplication of <code>Value</code>s in the
 <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="class in com.bigdata.rdf.rio"><code>StatementBuffer</code></a> imposes a burden on both the heap and the index
 writers.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.IWrittenSPOArray.html" title="interface in com.bigdata.rdf.rio">StatementBuffer.IWrittenSPOArray</a></strong></code>
<div class="block">Note: The use of this interface is NOT encouraged.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#database">database</a></strong></code>
<div class="block">The database that will be used to resolve terms.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.IWrittenSPOArray.html" title="interface in com.bigdata.rdf.rio">StatementBuffer.IWrittenSPOArray</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#didWriteCallback">didWriteCallback</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#numBNodes">numBNodes</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#numLiterals">numLiterals</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#numSIDs">numSIDs</a></strong></code>
<div class="block">The #of blank nodes which appear in the context position and zero (0) if
 statement identifiers are not enabled.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#numStmts">numStmts</a></strong></code>
<div class="block">#of valid entries in <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#stmts"><code>stmts</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#numURIs">numURIs</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#numValues">numValues</a></strong></code>
<div class="block">#of valid entries in <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#values"><code>values</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/rdf/model/BigdataStatement.html" title="interface in com.bigdata.rdf.model">BigdataStatement</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#stmts">stmts</a></strong></code>
<div class="block">Buffer for parsed RDF <code>Statement</code>s.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/rdf/model/BigdataValueFactory.html" title="interface in com.bigdata.rdf.model">BigdataValueFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#valueFactory">valueFactory</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../com/bigdata/rdf/model/BigdataValue.html" title="interface in com.bigdata.rdf.model">BigdataValue</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#values">values</a></strong></code>
<div class="block">Buffer for parsed RDF <code>Value</code>s.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#StatementBuffer(com.bigdata.rdf.store.AbstractTripleStore,%20int)">StatementBuffer</a></strong>(<a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a>&nbsp;database,
               int&nbsp;capacity)</code>
<div class="block">Create a buffer that converts Sesame <code>Value</code> objects to <a href="../../../../com/bigdata/rdf/spo/SPO.html" title="class in com.bigdata.rdf.spo"><code>SPO</code></a>
 s and writes on the <i>database</i> when it is <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#flush()"><code>flush()</code></a>ed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#StatementBuffer(com.bigdata.rdf.store.AbstractTripleStore,%20int,%20int)">StatementBuffer</a></strong>(<a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a>&nbsp;database,
               int&nbsp;capacity,
               int&nbsp;queueCapacity)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#StatementBuffer(com.bigdata.rdf.store.TempTripleStore,%20com.bigdata.rdf.store.AbstractTripleStore,%20int,%20int)">StatementBuffer</a></strong>(<a href="../../../../com/bigdata/rdf/store/TempTripleStore.html" title="class in com.bigdata.rdf.store">TempTripleStore</a>&nbsp;statementStore,
               <a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a>&nbsp;database,
               int&nbsp;capacity,
               int&nbsp;queueCapacity)</code>
<div class="block">Create a buffer that writes on a <a href="../../../../com/bigdata/rdf/store/TempTripleStore.html" title="class in com.bigdata.rdf.store"><code>TempTripleStore</code></a> when it is
 <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#flush()"><code>flush()</code></a>ed.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#_clear()">_clear</a></strong>()</code>
<div class="block">Invoked by <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#incrementalWrite()"><code>incrementalWrite()</code></a> to clear terms and statements
 which have been written in preparation for buffering more writes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#add(org.openrdf.model.Resource,%20org.openrdf.model.URI,%20org.openrdf.model.Value)">add</a></strong>(org.openrdf.model.Resource&nbsp;s,
   org.openrdf.model.URI&nbsp;p,
   org.openrdf.model.Value&nbsp;o)</code>
<div class="block">Add an "explicit" statement to the buffer (flushes on overflow, no
 context).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#add(org.openrdf.model.Resource,%20org.openrdf.model.URI,%20org.openrdf.model.Value,%20org.openrdf.model.Resource)">add</a></strong>(org.openrdf.model.Resource&nbsp;s,
   org.openrdf.model.URI&nbsp;p,
   org.openrdf.model.Value&nbsp;o,
   org.openrdf.model.Resource&nbsp;c)</code>
<div class="block">Add an "explicit" statement to the buffer (flushes on overflow).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#add(org.openrdf.model.Resource,%20org.openrdf.model.URI,%20org.openrdf.model.Value,%20org.openrdf.model.Resource,%20com.bigdata.rdf.model.StatementEnum)">add</a></strong>(org.openrdf.model.Resource&nbsp;s,
   org.openrdf.model.URI&nbsp;p,
   org.openrdf.model.Value&nbsp;o,
   org.openrdf.model.Resource&nbsp;c,
   <a href="../../../../com/bigdata/rdf/model/StatementEnum.html" title="enum in com.bigdata.rdf.model">StatementEnum</a>&nbsp;type)</code>
<div class="block">Add a statement to the buffer (core impl, flushes on overflow).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#add(org.openrdf.model.Statement)">add</a></strong>(org.openrdf.model.Statement&nbsp;e)</code>
<div class="block">Add a statement to the buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#finalize()">finalize</a></strong>()</code>
<div class="block">Added to ensure that the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/FutureTask.html?is-external=true" title="class or interface in java.util.concurrent"><code>FutureTask</code></a> is cancelled in case the
 caller does not shutdown the <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="class in com.bigdata.rdf.rio"><code>StatementBuffer</code></a> normally.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#flush()">flush</a></strong>()</code>
<div class="block">Signals the end of a source and causes all buffered statements to be
 written.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#getCapacity()">getCapacity</a></strong>()</code>
<div class="block">The maximum #of Statements, URIs, Literals, or BNodes that the buffer can
 hold.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#getCounters()">getCounters</a></strong>()</code>
<div class="block">Return performance counters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#getDatabase()">getDatabase</a></strong>()</code>
<div class="block">The database that will be used to resolve terms.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#getQueueCapacity()">getQueueCapacity</a></strong>()</code>
<div class="block">The capacity of the optional queue used to overlap the parser with the
 index writer -or- ZERO (0) iff the queue is disabled and index writes
 will be synchronous and alternate with the parser (the historical
 behavior).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#getStatementStore()">getStatementStore</a></strong>()</code>
<div class="block">The optional store into which statements will be inserted when non-
 <code>null</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#handleStatement(org.openrdf.model.Resource,%20org.openrdf.model.URI,%20org.openrdf.model.Value,%20org.openrdf.model.Resource,%20com.bigdata.rdf.model.StatementEnum)">handleStatement</a></strong>(org.openrdf.model.Resource&nbsp;_s,
               org.openrdf.model.URI&nbsp;_p,
               org.openrdf.model.Value&nbsp;_o,
               org.openrdf.model.Resource&nbsp;_c,
               <a href="../../../../com/bigdata/rdf/model/StatementEnum.html" title="enum in com.bigdata.rdf.model">StatementEnum</a>&nbsp;type)</code>
<div class="block">Adds the values and the statement into the buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#incrementalWrite()">incrementalWrite</a></strong>()</code>
<div class="block">Batch insert buffered data (terms and statements) into the store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#isEmpty()">isEmpty</a></strong>()</code>
<div class="block">True iff there are no elements in the buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#nearCapacity()">nearCapacity</a></strong>()</code>
<div class="block">Returns true if the bufferQueue has less than three slots remaining for
 any of the value arrays (URIs, Literals, or BNodes) or if there are no
 slots remaining in the statements array.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#reset()">reset</a></strong>()</code>
<div class="block">Clears all buffered data, including the canonicalizing mapping for blank
 nodes and deferred provenance statements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#setBNodeMap(java.util.Map)">setBNodeMap</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../com/bigdata/rdf/model/BigdataBNode.html" title="interface in com.bigdata.rdf.model">BigdataBNode</a>&gt;&nbsp;bnodes)</code>
<div class="block">Set the canonicalizing map for blank nodes based on their ID.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#setChangeLog(com.bigdata.rdf.changesets.IChangeLog)">setChangeLog</a></strong>(<a href="../../../../com/bigdata/rdf/changesets/IChangeLog.html" title="interface in com.bigdata.rdf.changesets">IChangeLog</a>&nbsp;changeLog)</code>
<div class="block">Set an <a href="../../../../com/bigdata/rdf/changesets/IChangeLog.html" title="interface in com.bigdata.rdf.changesets"><code>IChangeLog</code></a> listener that will be notified about each
 statement actually written onto the backing store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#setReadOnly()">setReadOnly</a></strong>()</code>
<div class="block">When invoked, the <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="class in com.bigdata.rdf.rio"><code>StatementBuffer</code></a> will resolve terms against the
 lexicon, but not enter new terms into the lexicon.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#size()">size</a></strong>()</code>
<div class="block">The #of elements currently in the buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="values">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>values</h4>
<pre>protected final&nbsp;<a href="../../../../com/bigdata/rdf/model/BigdataValue.html" title="interface in com.bigdata.rdf.model">BigdataValue</a>[] values</pre>
<div class="block">Buffer for parsed RDF <code>Value</code>s.</div>
</li>
</ul>
<a name="stmts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stmts</h4>
<pre>protected final&nbsp;<a href="../../../../com/bigdata/rdf/model/BigdataStatement.html" title="interface in com.bigdata.rdf.model">BigdataStatement</a>[] stmts</pre>
<div class="block">Buffer for parsed RDF <code>Statement</code>s.</div>
</li>
</ul>
<a name="numValues">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numValues</h4>
<pre>protected&nbsp;int numValues</pre>
<div class="block">#of valid entries in <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#values"><code>values</code></a>.</div>
</li>
</ul>
<a name="numStmts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numStmts</h4>
<pre>protected&nbsp;int numStmts</pre>
<div class="block">#of valid entries in <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#stmts"><code>stmts</code></a>.</div>
</li>
</ul>
<a name="numURIs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numURIs</h4>
<pre>protected&nbsp;int numURIs</pre>
</li>
</ul>
<a name="numLiterals">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numLiterals</h4>
<pre>protected&nbsp;int numLiterals</pre>
</li>
</ul>
<a name="numBNodes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numBNodes</h4>
<pre>protected&nbsp;int numBNodes</pre>
</li>
</ul>
<a name="numSIDs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numSIDs</h4>
<pre>protected&nbsp;int numSIDs</pre>
<div class="block">The #of blank nodes which appear in the context position and zero (0) if
 statement identifiers are not enabled.</div>
</li>
</ul>
<a name="database">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>database</h4>
<pre>protected final&nbsp;<a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a> database</pre>
<div class="block">The database that will be used to resolve terms. When
 <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#statementStore"><code>statementStore</code></a> is <code>null</code>, statements will be written
 into this store as well.</div>
</li>
</ul>
<a name="valueFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>valueFactory</h4>
<pre>protected final&nbsp;<a href="../../../../com/bigdata/rdf/model/BigdataValueFactory.html" title="interface in com.bigdata.rdf.model">BigdataValueFactory</a> valueFactory</pre>
</li>
</ul>
<a name="didWriteCallback">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>didWriteCallback</h4>
<pre>protected&nbsp;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.IWrittenSPOArray.html" title="interface in com.bigdata.rdf.rio">StatementBuffer.IWrittenSPOArray</a> didWriteCallback</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StatementBuffer(com.bigdata.rdf.store.AbstractTripleStore, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StatementBuffer</h4>
<pre>public&nbsp;StatementBuffer(<a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a>&nbsp;database,
               int&nbsp;capacity)</pre>
<div class="block">Create a buffer that converts Sesame <code>Value</code> objects to <a href="../../../../com/bigdata/rdf/spo/SPO.html" title="class in com.bigdata.rdf.spo"><code>SPO</code></a>
 s and writes on the <i>database</i> when it is <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#flush()"><code>flush()</code></a>ed. This
 may be used to perform efficient batch write of Sesame <code>Value</code>s or
 <code>Statement</code>s onto the <i>database</i>. If you already have
 <a href="../../../../com/bigdata/rdf/spo/SPO.html" title="class in com.bigdata.rdf.spo"><code>SPO</code></a>s then use
 <a href="../../../../com/bigdata/rdf/store/IRawTripleStore.html#addStatements(com.bigdata.striterator.IChunkedOrderedIterator,%20com.bigdata.relation.accesspath.IElementFilter)"><code>IRawTripleStore.addStatements(IChunkedOrderedIterator, IElementFilter)</code></a>
 and friends.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>database</code> - The database into which the termS and statements will be
            inserted.</dd><dd><code>capacity</code> - The #of statements that the buffer can hold.</dd></dl>
</li>
</ul>
<a name="StatementBuffer(com.bigdata.rdf.store.AbstractTripleStore, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StatementBuffer</h4>
<pre>public&nbsp;StatementBuffer(<a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a>&nbsp;database,
               int&nbsp;capacity,
               int&nbsp;queueCapacity)</pre>
</li>
</ul>
<a name="StatementBuffer(com.bigdata.rdf.store.TempTripleStore, com.bigdata.rdf.store.AbstractTripleStore, int, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StatementBuffer</h4>
<pre>public&nbsp;StatementBuffer(<a href="../../../../com/bigdata/rdf/store/TempTripleStore.html" title="class in com.bigdata.rdf.store">TempTripleStore</a>&nbsp;statementStore,
               <a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a>&nbsp;database,
               int&nbsp;capacity,
               int&nbsp;queueCapacity)</pre>
<div class="block">Create a buffer that writes on a <a href="../../../../com/bigdata/rdf/store/TempTripleStore.html" title="class in com.bigdata.rdf.store"><code>TempTripleStore</code></a> when it is
 <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#flush()"><code>flush()</code></a>ed. This variant is used during truth maintenance since
 the terms are written on the database lexicon but the statements are
 asserted against the <a href="../../../../com/bigdata/rdf/store/TempTripleStore.html" title="class in com.bigdata.rdf.store"><code>TempTripleStore</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>statementStore</code> - The store into which the statements will be inserted
            (optional). When <code>null</code>, both statements and terms
            will be inserted into the <i>database</i>. This optional
            argument provides the ability to load statements into a
            temporary store while the terms are resolved against the main
            database. This facility is used during incremental load+close
            operations.</dd><dd><code>database</code> - The database. When <i>statementStore</i> is <code>null</code>,
            both terms and statements will be inserted into the
            <i>database</i>.</dd><dd><code>capacity</code> - The #of statements that the buffer can hold.</dd><dd><code>queueCapacity</code> - The capacity of blocking queue used by the
            <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="class in com.bigdata.rdf.rio"><code>StatementBuffer</code></a> -or- ZERO (0) to disable the blocking
            queue and perform synchronous writes (default is
             statements). The blocking
            queue holds parsed data pending writes onto the backing store
            and makes it possible for the parser to race ahead while
            writer is blocked writing onto the database indices.</dd><dt><span class="strong">See Also:</span></dt><dd><code>(added blocking queue)</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getStatementStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatementStore</h4>
<pre>public final&nbsp;<a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a>&nbsp;getStatementStore()</pre>
<div class="block">The optional store into which statements will be inserted when non-
 <code>null</code>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html#getStatementStore()">getStatementStore</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html" title="interface in com.bigdata.rdf.rio">IStatementBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
</dl>
</li>
</ul>
<a name="getDatabase()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatabase</h4>
<pre>public final&nbsp;<a href="../../../../com/bigdata/rdf/store/AbstractTripleStore.html" title="class in com.bigdata.rdf.store">AbstractTripleStore</a>&nbsp;getDatabase()</pre>
<div class="block">The database that will be used to resolve terms. When
 <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#getStatementStore()"><code>getStatementStore()</code></a> is <code>null</code>, statements will be
 written into this store as well.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html#getDatabase()">getDatabase</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html" title="interface in com.bigdata.rdf.rio">IStatementBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
</dl>
</li>
</ul>
<a name="getCapacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCapacity</h4>
<pre>public&nbsp;int&nbsp;getCapacity()</pre>
<div class="block">The maximum #of Statements, URIs, Literals, or BNodes that the buffer can
 hold. The minimum capacity is three (3) since that corresponds to a
 single triple where all terms are URIs.</div>
</li>
</ul>
<a name="getQueueCapacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueueCapacity</h4>
<pre>public&nbsp;int&nbsp;getQueueCapacity()</pre>
<div class="block">The capacity of the optional queue used to overlap the parser with the
 index writer -or- ZERO (0) iff the queue is disabled and index writes
 will be synchronous and alternate with the parser (the historical
 behavior).</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>BLZG-1552</code></dd></dl>
</li>
</ul>
<a name="isEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre>public&nbsp;boolean&nbsp;isEmpty()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#isEmpty()">IBuffer</a></code></strong></div>
<div class="block">True iff there are no elements in the buffer.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#isEmpty()">isEmpty</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
</dl>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int&nbsp;size()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#size()">IBuffer</a></code></strong></div>
<div class="block">The #of elements currently in the buffer.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#size()">size</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
</dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="getCounters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCounters</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a>&nbsp;getCounters()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/counters/ICounterSetAccess.html#getCounters()">ICounterSetAccess</a></code></strong></div>
<div class="block">Return performance counters.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/counters/ICounterSetAccess.html#getCounters()">getCounters</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a></code></dd>
</dl>
</li>
</ul>
<a name="setReadOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReadOnly</h4>
<pre>public&nbsp;void&nbsp;setReadOnly()</pre>
<div class="block">When invoked, the <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="class in com.bigdata.rdf.rio"><code>StatementBuffer</code></a> will resolve terms against the
 lexicon, but not enter new terms into the lexicon. This mode can be used
 to efficiently resolve terms to <a href="../../../../com/bigdata/rdf/spo/SPO.html" title="class in com.bigdata.rdf.spo"><code>SPO</code></a>s.</div>
</li>
</ul>
<a name="setChangeLog(com.bigdata.rdf.changesets.IChangeLog)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setChangeLog</h4>
<pre>public&nbsp;void&nbsp;setChangeLog(<a href="../../../../com/bigdata/rdf/changesets/IChangeLog.html" title="interface in com.bigdata.rdf.changesets">IChangeLog</a>&nbsp;changeLog)</pre>
<div class="block">Set an <a href="../../../../com/bigdata/rdf/changesets/IChangeLog.html" title="interface in com.bigdata.rdf.changesets"><code>IChangeLog</code></a> listener that will be notified about each
 statement actually written onto the backing store.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>changeLog</code> - The change log listener.</dd></dl>
</li>
</ul>
<a name="finalize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre>protected&nbsp;void&nbsp;finalize()
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block">Added to ensure that the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/FutureTask.html?is-external=true" title="class or interface in java.util.concurrent"><code>FutureTask</code></a> is cancelled in case the
 caller does not shutdown the <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="class in com.bigdata.rdf.rio"><code>StatementBuffer</code></a> normally.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd></dl>
</li>
</ul>
<a name="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public&nbsp;long&nbsp;flush()</pre>
<div class="block">Signals the end of a source and causes all buffered statements to be
 written.
 <p>
 Note: The source limits the scope within which blank nodes are
 co-referenced by their IDs. Calling this method will flush the buffer,
 cause any deferred statements to be written, and cause the canonicalizing
 mapping for blank nodes to be discarded.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#flush()">flush</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of elements written on the backing <a href="../../../../com/bigdata/relation/IRelation.html" title="interface in com.bigdata.relation"><code>IRelation</code></a>.
 
 See <a href="../../../../com/bigdata/relation/IMutableRelation.html" title="interface in com.bigdata.relation"><code>IMutableRelation</code></a></dd></dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block">Clears all buffered data, including the canonicalizing mapping for blank
 nodes and deferred provenance statements.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#reset()">reset</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
</dl>
</li>
</ul>
<a name="setBNodeMap(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBNodeMap</h4>
<pre>public&nbsp;void&nbsp;setBNodeMap(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../com/bigdata/rdf/model/BigdataBNode.html" title="interface in com.bigdata.rdf.model">BigdataBNode</a>&gt;&nbsp;bnodes)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html#setBNodeMap(java.util.Map)">IStatementBuffer</a></code></strong></div>
<div class="block">Set the canonicalizing map for blank nodes based on their ID. This allows
 you to reuse the same map across multiple <a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html" title="interface in com.bigdata.rdf.rio"><code>IStatementBuffer</code></a>
 instances. For example, the <code>BigdataSail</code> does this so that the
 same bnode map is used throughout the life of a <code>SailConnection</code>.
 While RIO provides blank node correlation within a given source, it does
 NOT provide blank node correlation across sources. You need to use this
 method to do that.
 <p>
 Note: It is reasonable to expect that the bnodes map is used by
 concurrent threads. For this reason, the map SHOULD be thread-safe. This
 can be accomplished either using <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html?is-external=true#synchronizedMap(java.util.Map)" title="class or interface in java.util"><code>Collections.synchronizedMap(Map)</code></a>
 or a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html?is-external=true" title="class or interface in java.util.concurrent"><code>ConcurrentHashMap</code></a>. However, implementations MUST still be
 synchronized on the map reference across operations which conditionally
 insert into the map in order to make that update atomic and thread-safe.
 Otherwise a race condition exists for the conditional insert and
 different threads could get incoherent answers.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html#setBNodeMap(java.util.Map)">setBNodeMap</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html" title="interface in com.bigdata.rdf.rio">IStatementBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>bnodes</code> - The blank nodes map.</dd></dl>
</li>
</ul>
<a name="_clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_clear</h4>
<pre>protected&nbsp;void&nbsp;_clear()</pre>
<div class="block">Invoked by <a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#incrementalWrite()"><code>incrementalWrite()</code></a> to clear terms and statements
 which have been written in preparation for buffering more writes. This
 does NOT discard either the canonicalizing mapping for blank nodes NOR
 any deferred statements.</div>
</li>
</ul>
<a name="incrementalWrite()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incrementalWrite</h4>
<pre>protected&nbsp;void&nbsp;incrementalWrite()</pre>
<div class="block">Batch insert buffered data (terms and statements) into the store.</div>
</li>
</ul>
<a name="add(org.openrdf.model.Resource, org.openrdf.model.URI, org.openrdf.model.Value)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(org.openrdf.model.Resource&nbsp;s,
       org.openrdf.model.URI&nbsp;p,
       org.openrdf.model.Value&nbsp;o)</pre>
<div class="block">Add an "explicit" statement to the buffer (flushes on overflow, no
 context).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html#add(org.openrdf.model.Resource,%20org.openrdf.model.URI,%20org.openrdf.model.Value)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html" title="interface in com.bigdata.rdf.rio">IStatementBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>s</code> - </dd><dd><code>p</code> - </dd><dd><code>o</code> - </dd></dl>
</li>
</ul>
<a name="add(org.openrdf.model.Resource, org.openrdf.model.URI, org.openrdf.model.Value, org.openrdf.model.Resource)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(org.openrdf.model.Resource&nbsp;s,
       org.openrdf.model.URI&nbsp;p,
       org.openrdf.model.Value&nbsp;o,
       org.openrdf.model.Resource&nbsp;c)</pre>
<div class="block">Add an "explicit" statement to the buffer (flushes on overflow).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html#add(org.openrdf.model.Resource,%20org.openrdf.model.URI,%20org.openrdf.model.Value,%20org.openrdf.model.Resource)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html" title="interface in com.bigdata.rdf.rio">IStatementBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>s</code> - </dd><dd><code>p</code> - </dd><dd><code>o</code> - </dd><dd><code>c</code> - </dd></dl>
</li>
</ul>
<a name="add(org.openrdf.model.Resource, org.openrdf.model.URI, org.openrdf.model.Value, org.openrdf.model.Resource, com.bigdata.rdf.model.StatementEnum)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(org.openrdf.model.Resource&nbsp;s,
       org.openrdf.model.URI&nbsp;p,
       org.openrdf.model.Value&nbsp;o,
       org.openrdf.model.Resource&nbsp;c,
       <a href="../../../../com/bigdata/rdf/model/StatementEnum.html" title="enum in com.bigdata.rdf.model">StatementEnum</a>&nbsp;type)</pre>
<div class="block">Add a statement to the buffer (core impl, flushes on overflow).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html#add(org.openrdf.model.Resource,%20org.openrdf.model.URI,%20org.openrdf.model.Value,%20org.openrdf.model.Resource,%20com.bigdata.rdf.model.StatementEnum)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html" title="interface in com.bigdata.rdf.rio">IStatementBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>s</code> - </dd><dd><code>p</code> - </dd><dd><code>o</code> - </dd><dd><code>type</code> - </dd><dd><code>c</code> - The context (optional).</dd></dl>
</li>
</ul>
<a name="add(org.openrdf.model.Statement)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(org.openrdf.model.Statement&nbsp;e)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html#add(F)">IStatementBuffer</a></code></strong></div>
<div class="block">Add a statement to the buffer.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html#add(F)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rdf/rio/IStatementBuffer.html" title="interface in com.bigdata.rdf.rio">IStatementBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#add(E)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html" title="type parameter in StatementBuffer">S</a> extends org.openrdf.model.Statement&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - The statement. If <i>stmt</i> implements
            <a href="../../../../com/bigdata/rdf/model/BigdataStatement.html" title="interface in com.bigdata.rdf.model"><code>BigdataStatement</code></a> then the <a href="../../../../com/bigdata/rdf/model/StatementEnum.html" title="enum in com.bigdata.rdf.model"><code>StatementEnum</code></a> will
            be used (this makes it possible to load axioms into the
            database as axioms) but the term identifiers on the <i>stmt</i>'s
            values will be ignored.</dd></dl>
</li>
</ul>
<a name="nearCapacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nearCapacity</h4>
<pre>public&nbsp;boolean&nbsp;nearCapacity()</pre>
<div class="block">Returns true if the bufferQueue has less than three slots remaining for
 any of the value arrays (URIs, Literals, or BNodes) or if there are no
 slots remaining in the statements array. Under those conditions adding
 another statement to the bufferQueue could cause an overflow.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if the bufferQueue might overflow if another statement were
         added.</dd></dl>
</li>
</ul>
<a name="handleStatement(org.openrdf.model.Resource, org.openrdf.model.URI, org.openrdf.model.Value, org.openrdf.model.Resource, com.bigdata.rdf.model.StatementEnum)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handleStatement</h4>
<pre>protected&nbsp;void&nbsp;handleStatement(org.openrdf.model.Resource&nbsp;_s,
                   org.openrdf.model.URI&nbsp;_p,
                   org.openrdf.model.Value&nbsp;_o,
                   org.openrdf.model.Resource&nbsp;_c,
                   <a href="../../../../com/bigdata/rdf/model/StatementEnum.html" title="enum in com.bigdata.rdf.model">StatementEnum</a>&nbsp;type)</pre>
<div class="block">Adds the values and the statement into the buffer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>_s</code> - The subject.</dd><dd><code>_p</code> - The predicate.</dd><dd><code>_o</code> - The object.</dd><dd><code>_c</code> - The context (may be null).</dd><dd><code>type</code> - The statement type.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang">IndexOutOfBoundsException</a></code> - if the buffer capacity is exceeded.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.html#nearCapacity()"><code>nearCapacity()</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StatementBuffer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/rdf/rio/RioLoaderListener.html" title="interface in com.bigdata.rdf.rio"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/rdf/rio/StatementBuffer.IWrittenSPOArray.html" title="interface in com.bigdata.rdf.rio"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/rdf/rio/StatementBuffer.html" target="_top">Frames</a></li>
<li><a href="StatementBuffer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
