<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Wed Jan 20 23:39:08 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>RemoteSparqlBuilderFactory (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-20">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RemoteSparqlBuilderFactory (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RemoteSparqlBuilderFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/service/RemoteSparql11QueryBuilder.html" title="class in com.bigdata.rdf.sparql.ast.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/service/ServiceCall.html" title="interface in com.bigdata.rdf.sparql.ast.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/bigdata/rdf/sparql/ast/service/RemoteSparqlBuilderFactory.html" target="_top">Frames</a></li>
<li><a href="RemoteSparqlBuilderFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.rdf.sparql.ast.service</div>
<h2 title="Class RemoteSparqlBuilderFactory" class="title">Class RemoteSparqlBuilderFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.rdf.sparql.ast.service.RemoteSparqlBuilderFactory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">RemoteSparqlBuilderFactory</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Factory encapsulates the logic required to decide on the manner in which
 solutions will be vectored into the remote service end point and in which the
 solutions flowing back from that service will be interpreted.
 <p>
 The matter of interpretation is staightforward when the BINDINGS clause is
 accepted by the remote end point and there are no variables which are
 correlated within a solution through shared blank nodes.
 <p>
 Query generation and solution interpretation is significantly more complex
 when any of those things is not true. There are several strategies which may
 be used in these cases, including:
 <ol>
 <li>Issue one remote query per solution, imposing a FILTER to enforce the
 variable corrlation since blank nodes can not be send via the BINDINGS
 clause. (CONS: Too many queries are issued.)</li>
 <li>Issue one remote query without specifying any BINDINGS. (CONS: The query
 could be very underconstrained, however we can not detect this case up front
 since (a) we do not know whether there will be correlated blank nodes until
 we are ready to generate the query; and (b) we can not know whether the end
 point supports BINDINGS until we try it at least once (but we could test for
 that capability and cache knowledge about whether the end point supports that
 or use the end points service description for this information.)</li>
 <li>Vector the remote query through a rewrite using a UNION with distinct
 variables for each presentation of the original graph pattern and values
 substituted for those variables via BIND() or the like. (CONS: You have to be
 careful to get the SPARQL correct when the original SERVICE graph pattern is
 not used exactly as given.)</li>
 </ol>
 In fact, we wind up using mixture of (1) and (3).
 <p>
 If there is only one source solution and it does not have any bindings, then
 we send the original SERVICE clause and DO NOT use the BINDINGS clause. This
 pattern works whether or not the the service end point supports bindings and
 covers the case where the service is run without vectoring in any solutions.
 <p>
 When there one or more non-empty solutions to be vectored and variable
 correlation is not present (or it is present but there is only one solution),
 and the service end point supports the BINDINGS clause, then we use the
 BINDINGS clause to vector the query against the remote SERVICE end point.
 <p>
 If there are multiple solutions and correlated variables -or- if the service
 does not support BINDINGS, then we use the UNION rewrite approach and BIND()
 the bindings within each alternative of the UNION (as a special case, no
 UNION is required if there is only one source solution (we can just BIND()
 the bindings) or if the source solution has no bound variables (we do not
 need to send any bindings).
 <p>
 Note: We do not need to use a rowId to correlate the source solutions and the
 service's solution. We will always do a hash join of the service solutions
 with the source solutions. The only time the hash join could be a problem is
 when there are blank nodes and multiple source solutions. However, we are
 already required to rewrite the SERVICE clause using a UNION pattern in this
 case so we can maintain the correlation of the blank nodes through the unique
 variable names in each alternative of the UNION.
 
 TODO ASK query optimization when there is a single triple pattern which is
 fully bound AND there is only one solution flowing into the service. (This is
 a pretty minor optimization and a very special case since we are more likely
 to have a vector of fully bound soltuions.)
 
 TODO If any of the source solutions is fully unbound, then the other source
 solutions could be eliminated since we will be running the service fully
 unbound anyway.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id: RemoteSparqlBuilderFactory.java 6068 2012-03-03 21:34:31Z
          thompsonbry $</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/service/RemoteSparqlBuilderFactory.html#RemoteSparqlBuilderFactory()">RemoteSparqlBuilderFactory</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../../com/bigdata/rdf/sparql/ast/service/IRemoteSparqlQueryBuilder.html" title="interface in com.bigdata.rdf.sparql.ast.service">IRemoteSparqlQueryBuilder</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/service/RemoteSparqlBuilderFactory.html#get(com.bigdata.rdf.sparql.ast.service.IServiceOptions,%20com.bigdata.rdf.sparql.ast.service.ServiceNode,%20org.openrdf.query.BindingSet[])">get</a></strong>(<a href="../../../../../../com/bigdata/rdf/sparql/ast/service/IServiceOptions.html" title="interface in com.bigdata.rdf.sparql.ast.service">IServiceOptions</a>&nbsp;serviceOptions,
   <a href="../../../../../../com/bigdata/rdf/sparql/ast/service/ServiceNode.html" title="class in com.bigdata.rdf.sparql.ast.service">ServiceNode</a>&nbsp;serviceNode,
   org.openrdf.query.BindingSet[]&nbsp;bindingSets)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RemoteSparqlBuilderFactory()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RemoteSparqlBuilderFactory</h4>
<pre>public&nbsp;RemoteSparqlBuilderFactory()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="get(com.bigdata.rdf.sparql.ast.service.IServiceOptions, com.bigdata.rdf.sparql.ast.service.ServiceNode, org.openrdf.query.BindingSet[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>get</h4>
<pre>public static&nbsp;<a href="../../../../../../com/bigdata/rdf/sparql/ast/service/IRemoteSparqlQueryBuilder.html" title="interface in com.bigdata.rdf.sparql.ast.service">IRemoteSparqlQueryBuilder</a>&nbsp;get(<a href="../../../../../../com/bigdata/rdf/sparql/ast/service/IServiceOptions.html" title="interface in com.bigdata.rdf.sparql.ast.service">IServiceOptions</a>&nbsp;serviceOptions,
                            <a href="../../../../../../com/bigdata/rdf/sparql/ast/service/ServiceNode.html" title="class in com.bigdata.rdf.sparql.ast.service">ServiceNode</a>&nbsp;serviceNode,
                            org.openrdf.query.BindingSet[]&nbsp;bindingSets)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serviceOptions</code> - The configuration options for the service.</dd><dd><code>serviceNode</code> - The SERVICE clause.</dd><dd><code>bindingSets</code> - The source solutions. These will be used to create a BINDINGS
            clause for the query.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RemoteSparqlBuilderFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/service/RemoteSparql11QueryBuilder.html" title="class in com.bigdata.rdf.sparql.ast.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/service/ServiceCall.html" title="interface in com.bigdata.rdf.sparql.ast.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/bigdata/rdf/sparql/ast/service/RemoteSparqlBuilderFactory.html" target="_top">Frames</a></li>
<li><a href="RemoteSparqlBuilderFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
