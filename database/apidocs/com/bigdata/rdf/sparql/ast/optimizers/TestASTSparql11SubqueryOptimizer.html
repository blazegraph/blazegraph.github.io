<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_51) on Thu Jan 21 00:31:09 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TestASTSparql11SubqueryOptimizer (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-21">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TestASTSparql11SubqueryOptimizer (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestASTSparql11SubqueryOptimizer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTSimpleOptionalOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTStaticBindingsOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/bigdata/rdf/sparql/ast/optimizers/TestASTSparql11SubqueryOptimizer.html" target="_top">Frames</a></li>
<li><a href="TestASTSparql11SubqueryOptimizer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.junit.framework.TestCase2">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.com.bigdata.rdf.sparql.ast.AbstractASTEvaluationTestCase">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.rdf.sparql.ast.optimizers</div>
<h2 title="Class TestASTSparql11SubqueryOptimizer" class="title">Class TestASTSparql11SubqueryOptimizer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>junit.framework.Assert</li>
<li>
<ul class="inheritance">
<li>junit.framework.TestCase</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../junit/framework/TestCase2.html" title="class in junit.framework">junit.framework.TestCase2</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html" title="class in com.bigdata.bop.engine">com.bigdata.bop.engine.AbstractQueryEngineTestCase</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html" title="class in com.bigdata.rdf.sparql.ast">com.bigdata.rdf.sparql.ast.AbstractASTEvaluationTestCase</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.rdf.sparql.ast.optimizers.TestASTSparql11SubqueryOptimizer</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>junit.framework.Test</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">TestASTSparql11SubqueryOptimizer</span>
extends <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html" title="class in com.bigdata.rdf.sparql.ast">AbstractASTEvaluationTestCase</a></pre>
<div class="block">Test suite for <a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/ASTSparql11SubqueryOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><code>ASTSparql11SubqueryOptimizer</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id$</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.junit.framework.TestCase2">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;junit.framework.<a href="../../../../../../junit/framework/TestCase2.html" title="class in junit.framework">TestCase2</a></h3>
<code><a href="../../../../../../junit/framework/TestCase2.MyProperties.html" title="class in junit.framework">TestCase2.MyProperties</a>, <a href="../../../../../../junit/framework/TestCase2.RandomType.html" title="class in junit.framework">TestCase2.RandomType</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.bigdata.rdf.sparql.ast.AbstractASTEvaluationTestCase">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.rdf.sparql.ast.<a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html" title="class in com.bigdata.rdf.sparql.ast">AbstractASTEvaluationTestCase</a></h3>
<code><a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#baseURI">baseURI</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#store">store</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#valueFactory">valueFactory</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.junit.framework.TestCase2">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;junit.framework.<a href="../../../../../../junit/framework/TestCase2.html" title="class in junit.framework">TestCase2</a></h3>
<code><a href="../../../../../../junit/framework/TestCase2.html#Z:Z_randomType">_randomType</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTSparql11SubqueryOptimizer.html#TestASTSparql11SubqueryOptimizer--">TestASTSparql11SubqueryOptimizer</a></span>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTSparql11SubqueryOptimizer.html#TestASTSparql11SubqueryOptimizer-java.lang.String-">TestASTSparql11SubqueryOptimizer</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTSparql11SubqueryOptimizer.html#test_subSelectNotLifted--">test_subSelectNotLifted</a></span>()</code>
<div class="block">Unit test verifies that a sub-select is not lifted when there is no
 reason to lift that sub-select.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTSparql11SubqueryOptimizer.html#test_subSelectWithAggregation--">test_subSelectWithAggregation</a></span>()</code>
<div class="block">Unit test verifies that a sub-select involving an aggregation is lifted
 into a named subquery.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTSparql11SubqueryOptimizer.html#test_subSelectWithLimitAndOrderBy--">test_subSelectWithLimitAndOrderBy</a></span>()</code>
<div class="block">
 PREFIX : <http://example.org/>
 SELECT * 
 WHERE {
      ?s :p ?o .</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTSparql11SubqueryOptimizer.html#test_subSelectWithNoJoinVars--">test_subSelectWithNoJoinVars</a></span>()</code>
<div class="block">Unit test verifies that we lift out a <a href="../../../../../../com/bigdata/rdf/sparql/ast/SubqueryRoot.html" title="class in com.bigdata.rdf.sparql.ast"><code>SubqueryRoot</code></a> which does not
 share any variables with the join group in which it appears.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTSparql11SubqueryOptimizer.html#test_subSelectWithRunOnceAnnotation--">test_subSelectWithRunOnceAnnotation</a></span>()</code>
<div class="block">Unit test verifies that we lift out a <a href="../../../../../../com/bigdata/rdf/sparql/ast/SubqueryRoot.html" title="class in com.bigdata.rdf.sparql.ast"><code>SubqueryRoot</code></a> which is
 marked by the <code>SubqueryRoot.Annotations#RUN_ONCE</code> annotation.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.bigdata.rdf.sparql.ast.AbstractASTEvaluationTestCase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.rdf.sparql.ast.<a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html" title="class in com.bigdata.rdf.sparql.ast">AbstractASTEvaluationTestCase</a></h3>
<code><a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#assertSameAST-com.bigdata.rdf.sparql.ast.IQueryNode-com.bigdata.rdf.sparql.ast.IQueryNode-">assertSameAST</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#asSet-com.bigdata.rdf.sparql.ast.FilterNode:A-">asSet</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#asSet-java.lang.Integer:A-">asSet</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#asSet-com.bigdata.bop.IVariable:A-">asSet</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#asSet-java.lang.String:A-">asSet</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#asSet-com.bigdata.rdf.sparql.ast.VarNode:A-">asSet</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#enableDeleteMarkersInIndes--">enableDeleteMarkersInIndes</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#getBOpContext--">getBOpContext</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#getProperties--">getProperties</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#getStore-java.util.Properties-">getStore</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#makeIV-org.openrdf.model.Value-">makeIV</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#setUp--">setUp</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#tearDown--">tearDown</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.bigdata.bop.engine.AbstractQueryEngineTestCase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.bop.engine.<a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html" title="class in com.bigdata.bop.engine">AbstractQueryEngineTestCase</a></h3>
<code><a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutions-com.bigdata.bop.IBindingSet:A-com.bigdata.relation.accesspath.IAsynchronousIterator-">assertSameSolutions</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutions-com.bigdata.bop.IBindingSet:A-cutthecrap.utils.striterators.ICloseableIterator-java.util.concurrent.Future-">assertSameSolutions</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutions-com.bigdata.bop.IBindingSet:A-com.bigdata.bop.engine.IRunningQuery-">assertSameSolutions</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder-com.bigdata.bop.IBindingSet:A-cutthecrap.utils.striterators.ICloseableIterator-java.util.concurrent.Future-">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder-com.bigdata.bop.IBindingSet:A-com.bigdata.bop.engine.IRunningQuery-">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder-java.lang.String-com.bigdata.bop.IBindingSet:A-cutthecrap.utils.striterators.ICloseableIterator-java.util.concurrent.Future-">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder-java.lang.String-com.bigdata.bop.IBindingSet:A-com.bigdata.bop.engine.IRunningQuery-">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder-java.lang.String-T:A-java.util.Iterator-">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder-T:A-java.util.Iterator-">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#compareGraphs-java.lang.String-java.util.Set-java.util.Set-">compareGraphs</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#compareTupleQueryResults-java.lang.String-java.lang.String-com.bigdata.rdf.store.AbstractTripleStore-com.bigdata.rdf.sparql.ast.ASTContainer-org.openrdf.query.TupleQueryResult-org.openrdf.query.TupleQueryResult-boolean-boolean-">compareTupleQueryResults</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#diff-com.bigdata.bop.BOp-com.bigdata.bop.BOp-">diff</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.junit.framework.TestCase2">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;junit.framework.<a href="../../../../../../junit/framework/TestCase2.html" title="class in junit.framework">TestCase2</a></h3>
<code><a href="../../../../../../junit/framework/TestCase2.html#assertEquals-boolean:A-boolean:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-byte:A-byte:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-char:A-char:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-double:A-double:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-double-double-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-float:A-float:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-float-float-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-int:A-int:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-long:A-long:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.Object:A-java.lang.Object:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-short:A-short:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.String-boolean:A-boolean:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.String-byte:A-byte:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.String-char:A-char:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.String-double:A-double:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.String-double-double-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.String-float:A-float:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.String-float-float-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.String-int:A-int:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.String-long:A-long:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.String-java.lang.Object:A-java.lang.Object:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals-java.lang.String-short:A-short:A-">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEqualsWithinUlps-java.lang.String-double-double-long-">assertEqualsWithinUlps</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameArray-java.lang.Object:A-java.lang.Object:A-">assertSameArray</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameArray-java.lang.String-java.lang.Object:A-java.lang.Object:A-">assertSameArray</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameBigDecimal-java.math.BigDecimal-java.math.BigDecimal-">assertSameBigDecimal</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameBigDecimal-java.lang.String-java.math.BigDecimal-java.math.BigDecimal-">assertSameBigDecimal</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameBigInteger-java.math.BigInteger-java.math.BigInteger-">assertSameBigInteger</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameBigInteger-java.lang.String-java.math.BigInteger-java.math.BigInteger-">assertSameBigInteger</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameIterator-java.lang.Object:A-java.util.Iterator-">assertSameIterator</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameIterator-java.lang.String-java.lang.Object:A-java.util.Iterator-">assertSameIterator</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameIteratorAnyOrder-java.lang.Object:A-java.util.Iterator-">assertSameIteratorAnyOrder</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameIteratorAnyOrder-java.lang.String-java.lang.Object:A-java.util.Iterator-">assertSameIteratorAnyOrder</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameValue-java.lang.Object-java.lang.Object-">assertSameValue</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameValue-java.lang.String-java.lang.Object-java.lang.Object-">assertSameValue</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertZeroUlps-double-double-">assertZeroUlps</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertZeroUlps-float-float-">assertZeroUlps</a>, <a href="../../../../../../junit/framework/TestCase2.html#fail-java.lang.String-java.lang.Throwable-">fail</a>, <a href="../../../../../../junit/framework/TestCase2.html#getInnerCause-java.lang.Throwable-java.lang.Class-">getInnerCause</a>, <a href="../../../../../../junit/framework/TestCase2.html#getNormalInt-int-">getNormalInt</a>, <a href="../../../../../../junit/framework/TestCase2.html#getProjectBuildPath--">getProjectBuildPath</a>, <a href="../../../../../../junit/framework/TestCase2.html#getRandomObject-boolean-">getRandomObject</a>, <a href="../../../../../../junit/framework/TestCase2.html#getRandomObject-java.util.Random-boolean-">getRandomObject</a>, <a href="../../../../../../junit/framework/TestCase2.html#getRandomOrder-int-">getRandomOrder</a>, <a href="../../../../../../junit/framework/TestCase2.html#getRandomString-int-int-">getRandomString</a>, <a href="../../../../../../junit/framework/TestCase2.html#getTestInputStream-java.lang.String-">getTestInputStream</a>, <a href="../../../../../../junit/framework/TestCase2.html#getTestResource-java.lang.String-">getTestResource</a>, <a href="../../../../../../junit/framework/TestCase2.html#getTestResource-java.lang.String-java.lang.String-">getTestResource</a>, <a href="../../../../../../junit/framework/TestCase2.html#getUlps-double-double-">getUlps</a>, <a href="../../../../../../junit/framework/TestCase2.html#getUlps-float-float-">getUlps</a>, <a href="../../../../../../junit/framework/TestCase2.html#isDEBUG--">isDEBUG</a>, <a href="../../../../../../junit/framework/TestCase2.html#isDEBUG-org.apache.log4j.Logger-">isDEBUG</a>, <a href="../../../../../../junit/framework/TestCase2.html#isINFO--">isINFO</a>, <a href="../../../../../../junit/framework/TestCase2.html#isINFO-org.apache.log4j.Logger-">isINFO</a>, <a href="../../../../../../junit/framework/TestCase2.html#isInnerCause-java.lang.Throwable-java.lang.Class-">isInnerCause</a>, <a href="../../../../../../junit/framework/TestCase2.html#logProperties-junit.framework.TestCase2.MyProperties-int-">logProperties</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.junit.framework.TestCase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;junit.framework.TestCase</h3>
<code>assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertFalse, assertFalse, assertNotNull, assertNotNull, assertNotSame, assertNotSame, assertNull, assertNull, assertSame, assertSame, assertTrue, assertTrue, countTestCases, createResult, fail, fail, failNotEquals, failNotSame, failSame, format, getName, run, run, runBare, runTest, setName, toString</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TestASTSparql11SubqueryOptimizer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TestASTSparql11SubqueryOptimizer</h4>
<pre>public&nbsp;TestASTSparql11SubqueryOptimizer()</pre>
</li>
</ul>
<a name="TestASTSparql11SubqueryOptimizer-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TestASTSparql11SubqueryOptimizer</h4>
<pre>public&nbsp;TestASTSparql11SubqueryOptimizer(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="test_subSelectWithLimitAndOrderBy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_subSelectWithLimitAndOrderBy</h4>
<pre>public&nbsp;void&nbsp;test_subSelectWithLimitAndOrderBy()</pre>
<div class="block"><pre>
 PREFIX : <http://example.org/>
 SELECT * 
 WHERE {
      ?s :p ?o .
      { 
         SELECT ?s { ?s a :ty } ORDER BY ?s LIMIT 3
      } 
 }
 </pre>
 
 mroycsi wrote: Based on sparql bottom up evaluation, the subquery will
 return s1,s2,s3 as the solutions for ?s. Joined with the ?s :p ?o, you
 should only get the statements where ?s is s1,s2,s3.
 <p>
 I haven't debugged bigdata so I don't know exactly what it is doing, but
 it seems that currently with the bigdata evaluation, for each solution
 produced from ?s :p ?o, the subquery is run, and it seems that the ?s
 binding in the subquery is getting constrained by the ?s from the inbound
 solution, so results of the subquery are not always s1,s2,s3, depending
 on the inbound solution.
 <p>
 thompsonbry wrote: Normally bottom up evaluation only differs when you
 are missing a shared variable such that the bindings for variables having
 the same name are actually not correlated.
 <P>
 This is a bit of an odd case with an interaction between the order/limit
 and the as-bound evaluation which leads to the "wrong" result. We
 probably do not want to always do bottom up evaluation for a subquery
 (e.g., by lifting it into a named subquery). Are you suggesting that
 there is this special case which needs to be recognized where the
 subquery MUST be evaluated first because the order by/limit combination
 means that the results of the outer query joined with the inner query
 could be different in this case?
 <p>
 mroycsi wrote: This is [a] pattern that is well known and commonly used
 with sparql 1.1 subqueries. It is definitely a case where the subquery
 needs to be evaluated first due to the limit clause. The order clause
 probably doesn't matter if there isn't a limit since all the results are
 just joined, so order doesn't matter till the solution gets to the order
 by operations.
 <p>
 thompsonbry wrote: Ok. ORDER BY by itself does not matter and neither
 does LIMIT by itself. But if you have both it matters and we need to run
 the subquery first.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../com/bigdata/rdf/sparql/ast/eval/TestSubQuery.html#test_sparql_subquery_limiting_resource_pattern--"><code>TestSubQuery.test_sparql_subquery_limiting_resource_pattern()</code></a></dd>
</dl>
</li>
</ul>
<a name="test_subSelectWithAggregation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_subSelectWithAggregation</h4>
<pre>public&nbsp;void&nbsp;test_subSelectWithAggregation()</pre>
<div class="block">Unit test verifies that a sub-select involving an aggregation is lifted
 into a named subquery. This typically provides more efficient evaluation
 than repeated as-bound evaluation of the sub-select. It also prevents
 inappropriate sharing of the internal state of the <a href="../../../../../../com/bigdata/bop/aggregate/IAggregate.html" title="interface in com.bigdata.bop.aggregate"><code>IAggregate</code></a>
 functions.
 
 <pre>
 PREFIX : <http://example.org/>
 SELECT * 
 WHERE {
      ?s :p ?o .
      { 
         SELECT s? (COUNT(?s) as ?x) { ?s a :ty } GROUP BY ?s
      } 
 }
 </pre></div>
</li>
</ul>
<a name="test_subSelectNotLifted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_subSelectNotLifted</h4>
<pre>public&nbsp;void&nbsp;test_subSelectNotLifted()</pre>
<div class="block">Unit test verifies that a sub-select is not lifted when there is no
 reason to lift that sub-select.
 <p>
 The following query is used:
 
 <pre>
 PREFIX : <http://example.org/>
 SELECT * 
 WHERE {
      ?s :p ?o .
      { 
         SELECT ?s { ?s a :ty }
      } 
 }
 </pre>
 
 Note: <code>?s</code> is both bound by the statement pattern and is
 projected by the sub-select so it will be a join variable.
 <p>
 Note: the sub-select does not meet any of the other criteria for being
 lifted (it does not use LIMIT + ORDER BY and it is not an aggregate).</div>
</li>
</ul>
<a name="test_subSelectWithRunOnceAnnotation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_subSelectWithRunOnceAnnotation</h4>
<pre>public&nbsp;void&nbsp;test_subSelectWithRunOnceAnnotation()</pre>
<div class="block">Unit test verifies that we lift out a <a href="../../../../../../com/bigdata/rdf/sparql/ast/SubqueryRoot.html" title="class in com.bigdata.rdf.sparql.ast"><code>SubqueryRoot</code></a> which is
 marked by the <code>SubqueryRoot.Annotations#RUN_ONCE</code> annotation. This
 uses the same query as the test above, but the RUN_ONCE annotation is
 explicitly set on the <a href="../../../../../../com/bigdata/rdf/sparql/ast/SubqueryRoot.html" title="class in com.bigdata.rdf.sparql.ast"><code>SubqueryRoot</code></a>.
 
 <pre>
 PREFIX : <http://example.org/>
 SELECT * 
 WHERE {
      ?s :p ?o .
      { 
         SELECT ?s { ?s a :ty }
      } 
 }
 </pre></div>
</li>
</ul>
<a name="test_subSelectWithNoJoinVars--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>test_subSelectWithNoJoinVars</h4>
<pre>public&nbsp;void&nbsp;test_subSelectWithNoJoinVars()</pre>
<div class="block">Unit test verifies that we lift out a <a href="../../../../../../com/bigdata/rdf/sparql/ast/SubqueryRoot.html" title="class in com.bigdata.rdf.sparql.ast"><code>SubqueryRoot</code></a> which does not
 share any variables with the join group in which it appears. Since there
 is nothing that will be projected into the sub-select, it needs to be
 lifted out (or run before the statement pattern join) or it will run
 as-bound for each source solution.
 
 <pre>
 PREFIX : <http://example.org/>
 SELECT * 
 WHERE {
      ?s :p ?o .
      { 
         SELECT ?s1 { ?s1 a :ty }
      } 
 }
 </pre></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestASTSparql11SubqueryOptimizer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTSimpleOptionalOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTStaticBindingsOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/bigdata/rdf/sparql/ast/optimizers/TestASTSparql11SubqueryOptimizer.html" target="_top">Frames</a></li>
<li><a href="TestASTSparql11SubqueryOptimizer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.junit.framework.TestCase2">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.com.bigdata.rdf.sparql.ast.AbstractASTEvaluationTestCase">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
