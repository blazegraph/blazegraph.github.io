<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Mon Aug 29 21:18:53 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TestASTBottomUpOptimizer (Blazegraph Database Platform 2.1.4 API)</title>
<meta name="date" content="2016-08-29">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TestASTBottomUpOptimizer (Blazegraph Database Platform 2.1.4 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestASTBottomUpOptimizer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBatchResolveTermsOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTComplexOptionalOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html" target="_top">Frames</a></li>
<li><a href="TestASTBottomUpOptimizer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_junit.framework.TestCase2">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_com.bigdata.rdf.sparql.ast.AbstractASTEvaluationTestCase">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.rdf.sparql.ast.optimizers</div>
<h2 title="Class TestASTBottomUpOptimizer" class="title">Class TestASTBottomUpOptimizer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>junit.framework.Assert</li>
<li>
<ul class="inheritance">
<li>junit.framework.TestCase</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../junit/framework/TestCase2.html" title="class in junit.framework">junit.framework.TestCase2</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html" title="class in com.bigdata.bop.engine">com.bigdata.bop.engine.AbstractQueryEngineTestCase</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html" title="class in com.bigdata.rdf.sparql.ast">com.bigdata.rdf.sparql.ast.AbstractASTEvaluationTestCase</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.rdf.sparql.ast.optimizers.TestASTBottomUpOptimizer</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>junit.framework.Test</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">TestASTBottomUpOptimizer</span>
extends <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html" title="class in com.bigdata.rdf.sparql.ast">AbstractASTEvaluationTestCase</a></pre>
<div class="block">Test suite for <a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/ASTBottomUpOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><code>ASTBottomUpOptimizer</code></a>.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id: TestASTBottomUpOptimizer.java 5197 2011-09-15 19:10:44Z
          thompsonbry $</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../com/bigdata/rdf/sparql/ast/TestStaticAnalysis.html" title="class in com.bigdata.rdf.sparql.ast"><code>TestStaticAnalysis</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_junit.framework.TestCase2">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;junit.framework.<a href="../../../../../../junit/framework/TestCase2.html" title="class in junit.framework">TestCase2</a></h3>
<code><a href="../../../../../../junit/framework/TestCase2.MyProperties.html" title="class in junit.framework">TestCase2.MyProperties</a>, <a href="../../../../../../junit/framework/TestCase2.RandomType.html" title="class in junit.framework">TestCase2.RandomType</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.rdf.sparql.ast.AbstractASTEvaluationTestCase">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.rdf.sparql.ast.<a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html" title="class in com.bigdata.rdf.sparql.ast">AbstractASTEvaluationTestCase</a></h3>
<code><a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#baseURI">baseURI</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#store">store</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#valueFactory">valueFactory</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_junit.framework.TestCase2">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;junit.framework.<a href="../../../../../../junit/framework/TestCase2.html" title="class in junit.framework">TestCase2</a></h3>
<code><a href="../../../../../../junit/framework/TestCase2.html#_randomType">_randomType</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#TestASTBottomUpOptimizer()">TestASTBottomUpOptimizer</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#TestASTBottomUpOptimizer(java.lang.String)">TestASTBottomUpOptimizer</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_bottomUpOptimizer_filter_nested_2_withBindings()">test_bottomUpOptimizer_filter_nested_2_withBindings</a></strong>()</code>
<div class="block">Test when <code>?v</code> is bound in the input <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>[].</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_bottomUpOptimizer_filter_nested_2()">test_bottomUpOptimizer_filter_nested_2</a></strong>()</code>
<div class="block">This test is be based on <code>Filter-nested - 2</code> (Filter on
 variable ?v which is not in scope).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_bottomUpOptimizer_filter_scope_1()">test_bottomUpOptimizer_filter_scope_1</a></strong>()</code>
<div class="block">Static analysis of TCK query:</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_bottomUpOptimizer_filter_unboundVar()">test_bottomUpOptimizer_filter_unboundVar</a></strong>()</code>
<div class="block">Unit test for filter with a variable which is never bound (this has
 nothing to do with the variable scoping).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_bottomUpOptimizer_join_scope_1()">test_bottomUpOptimizer_join_scope_1</a></strong>()</code>
<div class="block">Join-scope - 1 (aka var-scope-join-1).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_bottomUpOptimizer_nested_optionals_1_correctRejection()">test_bottomUpOptimizer_nested_optionals_1_correctRejection</a></strong>()</code>
<div class="block">A variant of <a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_bottomUpOptimizer_nested_optionals_1()"><code>test_bottomUpOptimizer_nested_optionals_1()</code></a> where
 there is a binding for <code>v</code> in each exogenous solutions.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_bottomUpOptimizer_nested_optionals_1()">test_bottomUpOptimizer_nested_optionals_1</a></strong>()</code>
<div class="block">Nested Optionals - 1 (Query is not well designed because there are no
 shared variables in the intermediate join group and there is an embedded
 OPTIONAL join group.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_illDesignedOptUnionCombo()">test_illDesignedOptUnionCombo</a></strong>()</code>
<div class="block">Tests ill-designed patterns with OPTIONAL nested UNION and
 non well designed variable being properly replaced through
 subquery.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_minus_noSharedVariables()">test_minus_noSharedVariables</a></strong>()</code>
<div class="block">For this case, there are no shared variables so the MINUS group can just
 be eliminated (it can not produce any solutions which would be removed
 from the parent group).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_minus_sharedVariables()">test_minus_sharedVariables</a></strong>()</code>
<div class="block">The MINUS operator evaluates both sides and then removes the solution
 sets on the right hand side from those on the left hand side.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_opt_filter_1()">test_opt_filter_1</a></strong>()</code>
<div class="block">Optional-filter - 1</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_wellDesigned01()">test_wellDesigned01</a></strong>()</code>
<div class="block">Variant on <a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_bottomUpOptimizer_join_scope_1()"><code>test_bottomUpOptimizer_join_scope_1()</code></a> where the query
 is well designed due to the presence of a shared variable <code>?X</code>
 in the intermediate join group.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_wellDesigned02()">test_wellDesigned02</a></strong>()</code>
<div class="block">Slight variation on the structure of the query in the test above which
 should not be recognized as a badly designed left join.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_wellDesigned03()">test_wellDesigned03</a></strong>()</code>
<div class="block">Slight variation on the structure of the query in the test above which
 should not be recognized as a badly designed left join.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.rdf.sparql.ast.AbstractASTEvaluationTestCase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.rdf.sparql.ast.<a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html" title="class in com.bigdata.rdf.sparql.ast">AbstractASTEvaluationTestCase</a></h3>
<code><a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#assertSameAST(com.bigdata.rdf.sparql.ast.IQueryNode,%20com.bigdata.rdf.sparql.ast.IQueryNode)">assertSameAST</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#asSet(com.bigdata.rdf.sparql.ast.FilterNode[])">asSet</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#asSet(java.lang.Integer[])">asSet</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#asSet(com.bigdata.bop.IVariable[])">asSet</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#asSet(java.lang.String[])">asSet</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#asSet(com.bigdata.rdf.sparql.ast.VarNode[])">asSet</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#enableDeleteMarkersInIndes()">enableDeleteMarkersInIndes</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#getBOpContext()">getBOpContext</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#getProperties()">getProperties</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#getStore(java.util.Properties)">getStore</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#makeIV(org.openrdf.model.Value)">makeIV</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#setUp()">setUp</a>, <a href="../../../../../../com/bigdata/rdf/sparql/ast/AbstractASTEvaluationTestCase.html#tearDown()">tearDown</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.bop.engine.AbstractQueryEngineTestCase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.bop.engine.<a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html" title="class in com.bigdata.bop.engine">AbstractQueryEngineTestCase</a></h3>
<code><a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutions(com.bigdata.bop.IBindingSet[],%20com.bigdata.relation.accesspath.IAsynchronousIterator)">assertSameSolutions</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutions(com.bigdata.bop.IBindingSet[],%20cutthecrap.utils.striterators.ICloseableIterator,%20java.util.concurrent.Future)">assertSameSolutions</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutions(com.bigdata.bop.IBindingSet[],%20com.bigdata.bop.engine.IRunningQuery)">assertSameSolutions</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder(com.bigdata.bop.IBindingSet[],%20cutthecrap.utils.striterators.ICloseableIterator,%20java.util.concurrent.Future)">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder(com.bigdata.bop.IBindingSet[],%20com.bigdata.bop.engine.IRunningQuery)">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder(java.lang.String,%20com.bigdata.bop.IBindingSet[],%20cutthecrap.utils.striterators.ICloseableIterator,%20java.util.concurrent.Future)">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder(java.lang.String,%20com.bigdata.bop.IBindingSet[],%20com.bigdata.bop.engine.IRunningQuery)">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder(java.lang.String,%20T[],%20java.util.Iterator)">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#assertSameSolutionsAnyOrder(T[],%20java.util.Iterator)">assertSameSolutionsAnyOrder</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#compareGraphs(java.lang.String,%20java.util.Set,%20java.util.Set)">compareGraphs</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#compareTupleQueryResults(java.lang.String,%20java.lang.String,%20com.bigdata.rdf.store.AbstractTripleStore,%20com.bigdata.rdf.sparql.ast.ASTContainer,%20org.openrdf.query.TupleQueryResult,%20org.openrdf.query.TupleQueryResult,%20boolean,%20boolean)">compareTupleQueryResults</a>, <a href="../../../../../../com/bigdata/bop/engine/AbstractQueryEngineTestCase.html#diff(com.bigdata.bop.BOp,%20com.bigdata.bop.BOp)">diff</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_junit.framework.TestCase2">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;junit.framework.<a href="../../../../../../junit/framework/TestCase2.html" title="class in junit.framework">TestCase2</a></h3>
<code><a href="../../../../../../junit/framework/TestCase2.html#assertEquals(boolean[],%20boolean[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(byte[],%20byte[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(char[],%20char[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(double[],%20double[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(double,%20double)">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(float[],%20float[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(float,%20float)">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(int[],%20int[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(long[],%20long[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.Object[],%20java.lang.Object[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(short[],%20short[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20boolean[],%20boolean[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20byte[],%20byte[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20char[],%20char[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20double[],%20double[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20double,%20double)">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20float[],%20float[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20float,%20float)">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20int[],%20int[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20long[],%20long[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20java.lang.Object[],%20java.lang.Object[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20short[],%20short[])">assertEquals</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertEqualsWithinUlps(java.lang.String,%20double,%20double,%20long)">assertEqualsWithinUlps</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameArray(java.lang.Object[],%20java.lang.Object[])">assertSameArray</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameArray(java.lang.String,%20java.lang.Object[],%20java.lang.Object[])">assertSameArray</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameBigDecimal(java.math.BigDecimal,%20java.math.BigDecimal)">assertSameBigDecimal</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameBigDecimal(java.lang.String,%20java.math.BigDecimal,%20java.math.BigDecimal)">assertSameBigDecimal</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameBigInteger(java.math.BigInteger,%20java.math.BigInteger)">assertSameBigInteger</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameBigInteger(java.lang.String,%20java.math.BigInteger,%20java.math.BigInteger)">assertSameBigInteger</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameIterator(java.lang.Object[],%20java.util.Iterator)">assertSameIterator</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameIterator(java.lang.String,%20java.lang.Object[],%20java.util.Iterator)">assertSameIterator</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameIteratorAnyOrder(java.lang.Object[],%20java.util.Iterator)">assertSameIteratorAnyOrder</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameIteratorAnyOrder(java.lang.String,%20java.lang.Object[],%20java.util.Iterator)">assertSameIteratorAnyOrder</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameValue(java.lang.Object,%20java.lang.Object)">assertSameValue</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertSameValue(java.lang.String,%20java.lang.Object,%20java.lang.Object)">assertSameValue</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertZeroUlps(double,%20double)">assertZeroUlps</a>, <a href="../../../../../../junit/framework/TestCase2.html#assertZeroUlps(float,%20float)">assertZeroUlps</a>, <a href="../../../../../../junit/framework/TestCase2.html#fail(java.lang.String,%20java.lang.Throwable)">fail</a>, <a href="../../../../../../junit/framework/TestCase2.html#getInnerCause(java.lang.Throwable,%20java.lang.Class)">getInnerCause</a>, <a href="../../../../../../junit/framework/TestCase2.html#getNormalInt(int)">getNormalInt</a>, <a href="../../../../../../junit/framework/TestCase2.html#getProjectBuildPath()">getProjectBuildPath</a>, <a href="../../../../../../junit/framework/TestCase2.html#getRandomObject(boolean)">getRandomObject</a>, <a href="../../../../../../junit/framework/TestCase2.html#getRandomObject(java.util.Random,%20boolean)">getRandomObject</a>, <a href="../../../../../../junit/framework/TestCase2.html#getRandomOrder(int)">getRandomOrder</a>, <a href="../../../../../../junit/framework/TestCase2.html#getRandomString(int,%20int)">getRandomString</a>, <a href="../../../../../../junit/framework/TestCase2.html#getTestInputStream(java.lang.String)">getTestInputStream</a>, <a href="../../../../../../junit/framework/TestCase2.html#getTestResource(java.lang.String)">getTestResource</a>, <a href="../../../../../../junit/framework/TestCase2.html#getTestResource(java.lang.String,%20java.lang.String)">getTestResource</a>, <a href="../../../../../../junit/framework/TestCase2.html#getUlps(double,%20double)">getUlps</a>, <a href="../../../../../../junit/framework/TestCase2.html#getUlps(float,%20float)">getUlps</a>, <a href="../../../../../../junit/framework/TestCase2.html#isDEBUG()">isDEBUG</a>, <a href="../../../../../../junit/framework/TestCase2.html#isDEBUG(org.apache.log4j.Logger)">isDEBUG</a>, <a href="../../../../../../junit/framework/TestCase2.html#isINFO()">isINFO</a>, <a href="../../../../../../junit/framework/TestCase2.html#isINFO(org.apache.log4j.Logger)">isINFO</a>, <a href="../../../../../../junit/framework/TestCase2.html#isInnerCause(java.lang.Throwable,%20java.lang.Class)">isInnerCause</a>, <a href="../../../../../../junit/framework/TestCase2.html#logProperties(junit.framework.TestCase2.MyProperties,%20int)">logProperties</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_junit.framework.TestCase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;junit.framework.TestCase</h3>
<code>assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertFalse, assertFalse, assertNotNull, assertNotNull, assertNotSame, assertNotSame, assertNull, assertNull, assertSame, assertSame, assertTrue, assertTrue, countTestCases, createResult, fail, fail, failNotEquals, failNotSame, failSame, format, getName, run, run, runBare, runTest, setName, toString</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TestASTBottomUpOptimizer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TestASTBottomUpOptimizer</h4>
<pre>public&nbsp;TestASTBottomUpOptimizer()</pre>
</li>
</ul>
<a name="TestASTBottomUpOptimizer(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TestASTBottomUpOptimizer</h4>
<pre>public&nbsp;TestASTBottomUpOptimizer(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="test_bottomUpOptimizer_nested_optionals_1()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_bottomUpOptimizer_nested_optionals_1</h4>
<pre>public&nbsp;void&nbsp;test_bottomUpOptimizer_nested_optionals_1()
                                               throws org.openrdf.query.MalformedQueryException</pre>
<div class="block">Nested Optionals - 1 (Query is not well designed because there are no
 shared variables in the intermediate join group and there is an embedded
 OPTIONAL join group. Since ?v is not present in the intermediate join
 group the (:x3 :q ?w . OPTIONAL { :x2 :p ?v }) solutions must be computed
 first and then joined against the (:x1 :p ?v) solutions.)
 
 <pre>
 PREFIX : <http://example/>
 
 SELECT *
 { 
     :x1 :p ?v .
     OPTIONAL
     {
       :x3 :q ?w .
       OPTIONAL { :x2 :p ?v }
     }
 }
 </pre></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.openrdf.query.MalformedQueryException</code></dd></dl>
</li>
</ul>
<a name="test_bottomUpOptimizer_nested_optionals_1_correctRejection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_bottomUpOptimizer_nested_optionals_1_correctRejection</h4>
<pre>public&nbsp;void&nbsp;test_bottomUpOptimizer_nested_optionals_1_correctRejection()
                                                                throws org.openrdf.query.MalformedQueryException</pre>
<div class="block">A variant of <a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_bottomUpOptimizer_nested_optionals_1()"><code>test_bottomUpOptimizer_nested_optionals_1()</code></a> where
 there is a binding for <code>v</code> in each exogenous solutions. This
 turns <code>v</code> into a "known" bound variable. At that point we no
 longer need to rewrite the query in order to have the correct evaluation
 semantics.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.openrdf.query.MalformedQueryException</code></dd></dl>
</li>
</ul>
<a name="test_bottomUpOptimizer_filter_scope_1()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_bottomUpOptimizer_filter_scope_1</h4>
<pre>public&nbsp;void&nbsp;test_bottomUpOptimizer_filter_scope_1()
                                           throws org.openrdf.query.MalformedQueryException</pre>
<div class="block">Static analysis of TCK query:
 
 <pre>
 PREFIX :    <http://example/>
 
 SELECT *
 { 
     :x :p ?v . 
     { :x :q ?w 
       OPTIONAL {  :x :p ?v2 FILTER(?v = 1) }
     }
 }
 </pre>
 
 <code>?v</code> is bound in the outer join group.
 <p>
 <code>?w</code> is bound in the child join group regardless of whether
 the embedded optional succeeds.
 <p>
 <code>?v</code> is not bound in the FILTER because it is evaluated with
 bottom up semantics and therefore the bindings from the outer parent
 group are not visible.
 <p>
 For reference, the AST for that SPARQL query is:
 
 <pre>
 PREFIX : <http://example/>
 QueryType: SELECT
 SELECT * 
   JoinGroupNode {
     StatementPatternNode(ConstantNode(TermId(0U)[http://example/x]), ConstantNode(TermId(0U)[http://example/p]), VarNode(v), DEFAULT_CONTEXTS)
     JoinGroupNode {
       StatementPatternNode(ConstantNode(TermId(0U)[http://example/x]), ConstantNode(TermId(0U)[http://example/q]), VarNode(w), DEFAULT_CONTEXTS)
       JoinGroupNode [optional] {
         StatementPatternNode(ConstantNode(TermId(0U)[http://example/x]), ConstantNode(TermId(0U)[http://example/p]), VarNode(v2), DEFAULT_CONTEXTS)
         FILTER( com.bigdata.rdf.sparql.ast.FunctionNode(VarNode(v),ConstantNode(XSDInteger(1)))[ com.bigdata.rdf.sparql.ast.FunctionNode.functionURI=http://www.w3.org/2005/xpath-functions#equal-to] )
       }
     }
   }
 </pre>
 
 This query includes both a badly designed left join pattern, which must
 be lifted out:
 
 <pre>
 { :x :q ?w OPTIONAL {  :x :p ?v2 FILTER(?v = 1) } }
 </pre>
 
 and a FILTER on a variable which is not in scope:
 
 <pre>
 FILTER(?v = 1)
 </pre></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.openrdf.query.MalformedQueryException</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/ASTBottomUpOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><code>ASTBottomUpOptimizer</code></a></dd></dl>
</li>
</ul>
<a name="test_bottomUpOptimizer_join_scope_1()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_bottomUpOptimizer_join_scope_1</h4>
<pre>public&nbsp;void&nbsp;test_bottomUpOptimizer_join_scope_1()
                                         throws org.openrdf.query.MalformedQueryException</pre>
<div class="block">Join-scope - 1 (aka var-scope-join-1).
 
 <pre>
 PREFIX : <http://example/>
 
 SELECT *
 { 
   ?X  :name "paul"
   {?Y :name "george" . OPTIONAL { ?X :email ?Z } }
 }
 </pre>
 <p>
 Note: For this query, the bindings of <code>?X</code> in the outer group
 are not visible when the inner groups are evaluated. Because of this,
 <code>?X</code> in the optional clause binds for values which differ from
 the values bound on <code>?X</code> in the outer group. This means that
 the solutions from the middle group with bindings for <code>?Y</code> and
 <code>?X</code> fail to join with the solutions in the outer group. Note
 that there is no email address for "paul" for the data set used to run
 this query. If there were, then the query would have a result.
 <p>
 These group expressions need to be evaluated independently because they
 are not sharing a binding for <code>?X</code> until we join them together
 on <code>?X</code>.
 <p>
 In order for us to run this query correctly we need to run
 
 <pre>
 {?Y :name "george" . OPTIONAL { ?X :email ?Z } }
 </pre>
 
 BEFORE
 
 <pre>
 ?X  :name "paul"
 </pre>
 
 This can be most easily achieved by lifting the former out into a named
 subquery.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.openrdf.query.MalformedQueryException</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/ASTBottomUpOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><code>ASTBottomUpOptimizer</code></a></dd></dl>
</li>
</ul>
<a name="test_wellDesigned01()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_wellDesigned01</h4>
<pre>public&nbsp;void&nbsp;test_wellDesigned01()
                         throws org.openrdf.query.MalformedQueryException</pre>
<div class="block">Variant on <a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html#test_bottomUpOptimizer_join_scope_1()"><code>test_bottomUpOptimizer_join_scope_1()</code></a> where the query
 is well designed due to the presence of a shared variable <code>?X</code>
 in the intermediate join group. This test verifies that we DO NOT rewrite
 the query.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.openrdf.query.MalformedQueryException</code></dd></dl>
</li>
</ul>
<a name="test_wellDesigned02()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_wellDesigned02</h4>
<pre>public&nbsp;void&nbsp;test_wellDesigned02()
                         throws org.openrdf.query.MalformedQueryException</pre>
<div class="block">Slight variation on the structure of the query in the test above which
 should not be recognized as a badly designed left join.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.openrdf.query.MalformedQueryException</code></dd></dl>
</li>
</ul>
<a name="test_wellDesigned03()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_wellDesigned03</h4>
<pre>public&nbsp;void&nbsp;test_wellDesigned03()
                         throws org.openrdf.query.MalformedQueryException</pre>
<div class="block">Slight variation on the structure of the query in the test above which
 should not be recognized as a badly designed left join.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.openrdf.query.MalformedQueryException</code></dd></dl>
</li>
</ul>
<a name="test_illDesignedOptUnionCombo()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_illDesignedOptUnionCombo</h4>
<pre>public&nbsp;void&nbsp;test_illDesignedOptUnionCombo()
                                   throws org.openrdf.query.MalformedQueryException</pre>
<div class="block">Tests ill-designed patterns with OPTIONAL nested UNION and
 non well designed variable being properly replaced through
 subquery. Test case motivated by ticket #1087 (query structurally
 equals the query in the test case). 
 
 Note that in the query below, variable ?o1 is bound in the outer
 join and in the innermost OPTIONAL, but not inside the UNION. This
 query is not well designed. Hence, the <a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/ASTBottomUpOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><code>ASTBottomUpOptimizer</code></a>
 replaces the inner OPTIONAL pattern through a named subquery (which 
 did not properly work for OPTIONAL clauses nested inside UNIONs,
 cf. ticket #1078). The test case checks for the presence of such
 a <a href="../../../../../../com/bigdata/rdf/sparql/ast/NamedSubqueryInclude.html" title="class in com.bigdata.rdf.sparql.ast"><code>NamedSubqueryInclude</code></a> in the rewritten query.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.openrdf.query.MalformedQueryException</code></dd></dl>
</li>
</ul>
<a name="test_bottomUpOptimizer_filter_nested_2()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_bottomUpOptimizer_filter_nested_2</h4>
<pre>public&nbsp;void&nbsp;test_bottomUpOptimizer_filter_nested_2()
                                            throws org.openrdf.query.MalformedQueryException</pre>
<div class="block">This test is be based on <code>Filter-nested - 2</code> (Filter on
 variable ?v which is not in scope).
 
 <pre>
 PREFIX : <http://example/> 
 
 SELECT ?v
 { :x :p ?v . { FILTER(?v = 1) } }
 </pre>
 
 This is one of the DAWG "bottom-up" evaluation semantics tests.
 <code>?v</code> is not bound in the FILTER because it is evaluated with
 bottom up semantics and therefore the bindings from the parent group are
 not visible.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.openrdf.query.MalformedQueryException</code></dd></dl>
</li>
</ul>
<a name="test_bottomUpOptimizer_filter_nested_2_withBindings()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_bottomUpOptimizer_filter_nested_2_withBindings</h4>
<pre>public&nbsp;void&nbsp;test_bottomUpOptimizer_filter_nested_2_withBindings()
                                                         throws org.openrdf.query.MalformedQueryException</pre>
<div class="block">Test when <code>?v</code> is bound in the input <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>[]. In
 this case we can not rewrite the filter.
 
 <pre>
 PREFIX : <http://example/>
 SELECT ?v
 { :x :p ?v . { FILTER(?v = "x") } }
 </pre></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.openrdf.query.MalformedQueryException</code></dd></dl>
</li>
</ul>
<a name="test_bottomUpOptimizer_filter_unboundVar()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_bottomUpOptimizer_filter_unboundVar</h4>
<pre>public&nbsp;void&nbsp;test_bottomUpOptimizer_filter_unboundVar()
                                              throws org.openrdf.query.MalformedQueryException</pre>
<div class="block">Unit test for filter with a variable which is never bound (this has
 nothing to do with the variable scoping).
 
 <pre>
 SELECT ?v
 { :x :p ?v . FILTER(?w = 1) }
 </pre></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.openrdf.query.MalformedQueryException</code></dd></dl>
</li>
</ul>
<a name="test_opt_filter_1()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_opt_filter_1</h4>
<pre>public&nbsp;void&nbsp;test_opt_filter_1()
                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Optional-filter - 1
 
 <pre>
 PREFIX :    <http://example/>
 
 SELECT *
 { 
   ?x :p ?v .
   OPTIONAL
   { 
     ?y :q ?w .
     FILTER(?v=2)
   }
 }
 </pre>
 
 Reading [1], it appears "SELECT *" is a special case:
 
 <pre>
 SELECT * { P } v is in-scope in P
 </pre>
 
 Thus, we need to handle v as if it were an exogenous variable for this
 query, which is to say that we would just execute it normally.
 <p>
 This case is a bit puzzling. As other TCK examples show, you can have a
 badly designed left join pattern with <code>SELECT *</code> so this only
 appear to affect the visibility of <code>?v</code> in the FILTER?
 
 [1] http://www.w3.org/TR/sparql11-query/#variableScope</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/ASTBottomUpOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><code>ASTBottomUpOptimizer</code></a></dd></dl>
</li>
</ul>
<a name="test_minus_sharedVariables()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_minus_sharedVariables</h4>
<pre>public&nbsp;void&nbsp;test_minus_sharedVariables()</pre>
<div class="block">The MINUS operator evaluates both sides and then removes the solution
 sets on the right hand side from those on the left hand side. When there
 are shared variables we can constrain the right hand side evaluation
 without violating bottom up evaluation semantics. (This example is from
 the Sesame TCK.)
 
 <pre>
 PREFIX : <http://example/>
 SELECT ?a ?n 
 WHERE {
     ?a :p ?n
     MINUS {
         ?a :q ?n .
     }
 }
 </pre>
 
 This query does not need to be rewritten for bottom up semantics, so the
 expected AST is the same as the given AST.</div>
</li>
</ul>
<a name="test_minus_noSharedVariables()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>test_minus_noSharedVariables</h4>
<pre>public&nbsp;void&nbsp;test_minus_noSharedVariables()</pre>
<div class="block">For this case, there are no shared variables so the MINUS group can just
 be eliminated (it can not produce any solutions which would be removed
 from the parent group).
 <p>
 This example is from the SPARQL 1.1 LCWD.
 
 <pre>
 PREFIX : <http://example/>
 SELECT ?s ?p ?o
 WHERE {
     ?s ?p ?o
     MINUS {
         ?x ?y ?z .
     }
 }
 </pre>
 
 This expected result is:
 
 <pre>
 PREFIX : <http://example/>
 SELECT ?s ?p ?o
 WHERE {
     ?s ?p ?o
 }
 </pre></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestASTBottomUpOptimizer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTBatchResolveTermsOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/bigdata/rdf/sparql/ast/optimizers/TestASTComplexOptionalOptimizer.html" title="class in com.bigdata.rdf.sparql.ast.optimizers"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/bigdata/rdf/sparql/ast/optimizers/TestASTBottomUpOptimizer.html" target="_top">Frames</a></li>
<li><a href="TestASTBottomUpOptimizer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_junit.framework.TestCase2">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_com.bigdata.rdf.sparql.ast.AbstractASTEvaluationTestCase">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
