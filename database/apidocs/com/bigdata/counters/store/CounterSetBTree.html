<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Thu Jun 09 18:53:02 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>CounterSetBTree (Blazegraph Database Platform 2.1.1 API)</title>
<meta name="date" content="2016-06-09">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CounterSetBTree (Blazegraph Database Platform 2.1.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CounterSetBTree.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../com/bigdata/counters/store/CounterSetBTree.CounterSetBTreeTupleSerializer.html" title="class in com.bigdata.counters.store"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/counters/store/CounterSetBTree.html" target="_top">Frames</a></li>
<li><a href="CounterSetBTree.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.counters.store</div>
<h2 title="Class CounterSetBTree" class="title">Class CounterSetBTree</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">com.bigdata.btree.AbstractBTree</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">com.bigdata.btree.BTree</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.counters.store.CounterSetBTree</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/bigdata/btree/IAutoboxBTree.html" title="interface in com.bigdata.btree">IAutoboxBTree</a>, <a href="../../../../com/bigdata/btree/IBTreeStatistics.html" title="interface in com.bigdata.btree">IBTreeStatistics</a>, <a href="../../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a>, <a href="../../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree">IIndex</a>, <a href="../../../../com/bigdata/btree/IIndexLocalCounter.html" title="interface in com.bigdata.btree">IIndexLocalCounter</a>, <a href="../../../../com/bigdata/btree/ILinearList.html" title="interface in com.bigdata.btree">ILinearList</a>, <a href="../../../../com/bigdata/btree/ILocalBTreeView.html" title="interface in com.bigdata.btree">ILocalBTreeView</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html" title="interface in com.bigdata.btree">IRangeQuery</a>, <a href="../../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a>, <a href="../../../../com/bigdata/btree/ISimpleBTree.html" title="interface in com.bigdata.btree">ISimpleBTree</a>, <a href="../../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a>, <a href="../../../../com/bigdata/btree/ISimpleTreeIndexAccess.html" title="interface in com.bigdata.btree">ISimpleTreeIndexAccess</a>, <a href="../../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="../../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">CounterSetBTree</span>
extends <a href="../../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a></pre>
<div class="block">An API encapsulating for writing and querying counter sets. The data are
 written onto an <a href="../../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a>. The <a href="../../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a> may be local or remote.
 <p>
 The multipart key is used. The first component is the milliseconds of the
 associated timestamp value rounded down to an even number of minutes and
 represented a long. The second component is the fully qualified path of the
 counter. The last component is the exact timestamp (in milliseconds) of the
 sampled counter value, represented as a long. These are formatted into an
 unsigned byte[] following the standard practice.
 <p>
 The value stored under the key is the counter value. Normally counter values
 are doubles or longs, but you can store any of the counter value types which
 are supported by the <a href="../../../../com/bigdata/sparse/SparseRowStore.html" title="class in com.bigdata.sparse"><code>SparseRowStore</code></a>.
 <p>
 Using this approach, writes of the same counter value with different
 timestamps will be recorded as different tuples in the <a href="../../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a> and you
 can store counter values sampled at rates of once per second while retaining
 good compression for the keys in the index.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$
 
 FIXME Reading through per-minute counters from a CounterSetBTree grows slow
 very quickly.
 
 <pre>
 There are 21750988 counter values covering Fri Apr 03 15:51:57 EDT 2009 to
 Sat Apr 04 08:45:05 EDT 2009. Took 60 seconds to record each hour of data on
 the disk.  1.2G of XML data expanded to 2.6G on the journal
 </pre>
 
 In order to improve performance, put the counter paths in a separate
 dictionary and apply the regex there. Once we have the set of matched paths
 we can scatter range queries against the BTree and drag back the data for
 those counters (this would also make Unicode counter names viable). If the
 key was then [pathId,timestamp] we could do ordered reads of just the
 necessary key range for each desired counter. Prefix compression would still
 be efficent for this representation. While the data arrive in history blocks,
 we would still need to buffer them for ordered writes since otherwise the
 writes would be scattered by the first key component (pathId).
 <p>
 I would have to encapsulate the counters as a counter for this to work, much
 like the RDF DB. There would be two relations: the dictionary and the
 timestamped values.
 <p>
 Space efficient encoding of the counter values would also help quite a bit -
 it is Java default serialization, but we only store Long, Double or String.
 All values for a given counter should have the same data type (it is required
 by how we allocate the History) so the data type can be part of the
 dictionary and that can be used to decode the value. (If values tend to be
 close then a delta encoding would help.)</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/counters/store/CounterSetBTree.CounterSetBTreeTupleSerializer.html" title="class in com.bigdata.counters.store">CounterSetBTree.CounterSetBTreeTupleSerializer</a></strong></code>
<div class="block">Encapsulates key and value formation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/counters/store/CounterSetBTree.Entry.html" title="class in com.bigdata.counters.store">CounterSetBTree.Entry</a></strong></code>
<div class="block">A representation of a timestamped performance counter value as stored in
 the <a href="../../../../com/bigdata/counters/store/CounterSetBTree.html" title="class in com.bigdata.counters.store"><code>CounterSetBTree</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_com.bigdata.btree.BTree">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.bigdata.btree.<a href="../../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a></h3>
<code><a href="../../../../com/bigdata/btree/BTree.Counter.html" title="class in com.bigdata.btree">BTree.Counter</a>, <a href="../../../../com/bigdata/btree/BTree.LeafCursor.html" title="class in com.bigdata.btree">BTree.LeafCursor</a>, <a href="../../../../com/bigdata/btree/BTree.NodeFactory.html" title="class in com.bigdata.btree">BTree.NodeFactory</a>, <a href="../../../../com/bigdata/btree/BTree.PartitionedCounter.html" title="class in com.bigdata.btree">BTree.PartitionedCounter</a>, <a href="../../../../com/bigdata/btree/BTree.Stack.html" title="class in com.bigdata.btree">BTree.Stack</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_com.bigdata.btree.AbstractBTree">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.bigdata.btree.<a href="../../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></h3>
<code><a href="../../../../com/bigdata/btree/AbstractBTree.IBTreeCounters.html" title="interface in com.bigdata.btree">AbstractBTree.IBTreeCounters</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/counters/store/CounterSetBTree.html#log">log</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.btree.BTree">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.btree.<a href="../../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a></h3>
<code><a href="../../../../com/bigdata/btree/BTree.html#counter">counter</a>, <a href="../../../../com/bigdata/btree/BTree.html#height">height</a>, <a href="../../../../com/bigdata/btree/BTree.html#nentries">nentries</a>, <a href="../../../../com/bigdata/btree/BTree.html#nleaves">nleaves</a>, <a href="../../../../com/bigdata/btree/BTree.html#nnodes">nnodes</a>, <a href="../../../../com/bigdata/btree/BTree.html#recordVersion">recordVersion</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.btree.AbstractBTree">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.btree.<a href="../../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></h3>
<code><a href="../../../../com/bigdata/btree/AbstractBTree.html#branchingFactor">branchingFactor</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#debug">debug</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#DEBUG">DEBUG</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#dumpLog">dumpLog</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#error">error</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#ERROR_CLOSED">ERROR_CLOSED</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#ERROR_ERROR_STATE">ERROR_ERROR_STATE</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#ERROR_LESS_THAN_ZERO">ERROR_LESS_THAN_ZERO</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#ERROR_READ_ONLY">ERROR_READ_ONLY</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#ERROR_TOO_LARGE">ERROR_TOO_LARGE</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#ERROR_TRANSIENT">ERROR_TRANSIENT</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#INFO">INFO</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#metadata">metadata</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#ndistinctOnWriteRetentionQueue">ndistinctOnWriteRetentionQueue</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#nodeSer">nodeSer</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#readOnly">readOnly</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#root">root</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#store">store</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#storeCache">storeCache</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#writeRetentionQueue">writeRetentionQueue</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.btree.IRangeQuery">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.bigdata.btree.<a href="../../../../com/bigdata/btree/IRangeQuery.html" title="interface in com.bigdata.btree">IRangeQuery</a></h3>
<code><a href="../../../../com/bigdata/btree/IRangeQuery.html#ALL">ALL</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html#CURSOR">CURSOR</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html#DEFAULT">DEFAULT</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html#DELETED">DELETED</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html#FIXED_LENGTH_SUCCESSOR">FIXED_LENGTH_SUCCESSOR</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html#KEYS">KEYS</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html#NONE">NONE</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html#PARALLEL">PARALLEL</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html#READONLY">READONLY</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html#REMOVEALL">REMOVEALL</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html#REVERSE">REVERSE</a>, <a href="../../../../com/bigdata/btree/IRangeQuery.html#VALS">VALS</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/bigdata/counters/store/CounterSetBTree.html#CounterSetBTree(com.bigdata.rawstore.IRawStore,%20com.bigdata.btree.Checkpoint,%20com.bigdata.btree.IndexMetadata,%20boolean)">CounterSetBTree</a></strong>(<a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
               <a href="../../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;checkpoint,
               <a href="../../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata,
               boolean&nbsp;readOnly)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../com/bigdata/counters/store/CounterSetBTree.html" title="class in com.bigdata.counters.store">CounterSetBTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/counters/store/CounterSetBTree.html#create(com.bigdata.rawstore.IRawStore)">create</a></strong>(<a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store)</code>
<div class="block">Create a new instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../com/bigdata/counters/store/CounterSetBTree.html" title="class in com.bigdata.counters.store">CounterSetBTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/counters/store/CounterSetBTree.html#createTransient()">createTransient</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/counters/store/CounterSetBTree.html#getFirstTimestamp()">getFirstTimestamp</a></strong>()</code>
<div class="block">Return the timestamp associated with the first performance counter value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/counters/store/CounterSetBTree.html#getLastTimestamp()">getLastTimestamp</a></strong>()</code>
<div class="block">Return the timestamp associated with the last performance counter value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/counters/store/CounterSetBTree.html#rangeIterator(long,%20long,%20java.util.concurrent.TimeUnit,%20java.util.regex.Pattern,%20int)">rangeIterator</a></strong>(long&nbsp;fromTime,
             long&nbsp;toTime,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a>&nbsp;filter,
             int&nbsp;depth)</code>
<div class="block"><strong>The toTime needs to be ONE (1) <i>unit</i> beyond the time of
 interest since the minutes come first in the key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/counters/store/CounterSetBTree.html#writeCurrent(java.util.Iterator)">writeCurrent</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../com/bigdata/counters/ICounter.html" title="interface in com.bigdata.counters">ICounter</a>&gt;&nbsp;src)</code>
<div class="block">Writes the <strong>current</strong> value of each visited
 <a href="../../../../com/bigdata/counters/ICounter.html" title="interface in com.bigdata.counters"><code>ICounter</code></a> on the store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/counters/store/CounterSetBTree.html#writeHistory(java.util.Iterator)">writeHistory</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../com/bigdata/counters/ICounter.html" title="interface in com.bigdata.counters">ICounter</a>&gt;&nbsp;src)</code>
<div class="block">Handles efficient writes of counters with <a href="../../../../com/bigdata/counters/History.html" title="class in com.bigdata.counters"><code>History</code></a> data.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.btree.BTree">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.btree.<a href="../../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a></h3>
<code><a href="../../../../com/bigdata/btree/BTree.html#_reopen()">_reopen</a>, <a href="../../../../com/bigdata/btree/BTree.html#asReadOnly()">asReadOnly</a>, <a href="../../../../com/bigdata/btree/BTree.html#create(com.bigdata.rawstore.IRawStore,%20com.bigdata.btree.IndexMetadata)">create</a>, <a href="../../../../com/bigdata/btree/BTree.html#createTransient(com.bigdata.btree.IndexMetadata)">createTransient</a>, <a href="../../../../com/bigdata/btree/BTree.html#createViewCheckpoint()">createViewCheckpoint</a>, <a href="../../../../com/bigdata/btree/BTree.html#fireDirtyEvent()">fireDirtyEvent</a>, <a href="../../../../com/bigdata/btree/BTree.html#getBloomFilter()">getBloomFilter</a>, <a href="../../../../com/bigdata/btree/BTree.html#getCheckpoint()">getCheckpoint</a>, <a href="../../../../com/bigdata/btree/BTree.html#getCounter()">getCounter</a>, <a href="../../../../com/bigdata/btree/BTree.html#getDirtyListener()">getDirtyListener</a>, <a href="../../../../com/bigdata/btree/BTree.html#getEntryCount()">getEntryCount</a>, <a href="../../../../com/bigdata/btree/BTree.html#getHeight()">getHeight</a>, <a href="../../../../com/bigdata/btree/BTree.html#getLastCommitTime()">getLastCommitTime</a>, <a href="../../../../com/bigdata/btree/BTree.html#getLeafCount()">getLeafCount</a>, <a href="../../../../com/bigdata/btree/BTree.html#getMetadataAddr()">getMetadataAddr</a>, <a href="../../../../com/bigdata/btree/BTree.html#getMutableBTree()">getMutableBTree</a>, <a href="../../../../com/bigdata/btree/BTree.html#getNodeCount()">getNodeCount</a>, <a href="../../../../com/bigdata/btree/BTree.html#getRecordVersion()">getRecordVersion</a>, <a href="../../../../com/bigdata/btree/BTree.html#getRevisionTimestamp()">getRevisionTimestamp</a>, <a href="../../../../com/bigdata/btree/BTree.html#getRootAddr()">getRootAddr</a>, <a href="../../../../com/bigdata/btree/BTree.html#getSourceCount()">getSourceCount</a>, <a href="../../../../com/bigdata/btree/BTree.html#getSources()">getSources</a>, <a href="../../../../com/bigdata/btree/BTree.html#getStore()">getStore</a>, <a href="../../../../com/bigdata/btree/BTree.html#handleCommit(long)">handleCommit</a>, <a href="../../../../com/bigdata/btree/BTree.html#load(com.bigdata.rawstore.IRawStore,%20long,%20boolean)">load</a>, <a href="../../../../com/bigdata/btree/BTree.html#needsCheckpoint()">needsCheckpoint</a>, <a href="../../../../com/bigdata/btree/BTree.html#newLeafCursor(byte[])">newLeafCursor</a>, <a href="../../../../com/bigdata/btree/BTree.html#newLeafCursor(com.bigdata.btree.SeekEnum)">newLeafCursor</a>, <a href="../../../../com/bigdata/btree/BTree.html#readBloomFilter()">readBloomFilter</a>, <a href="../../../../com/bigdata/btree/BTree.html#removeAll()">removeAll</a>, <a href="../../../../com/bigdata/btree/BTree.html#setDirtyListener(com.bigdata.btree.IDirtyListener)">setDirtyListener</a>, <a href="../../../../com/bigdata/btree/BTree.html#setIndexMetadata(com.bigdata.btree.IndexMetadata)">setIndexMetadata</a>, <a href="../../../../com/bigdata/btree/BTree.html#setLastCommitTime(long)">setLastCommitTime</a>, <a href="../../../../com/bigdata/btree/BTree.html#writeCheckpoint()">writeCheckpoint</a>, <a href="../../../../com/bigdata/btree/BTree.html#writeCheckpoint2()">writeCheckpoint2</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.btree.AbstractBTree">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.btree.<a href="../../../../com/bigdata/btree/AbstractBTree.html" title="class in com.bigdata.btree">AbstractBTree</a></h3>
<code><a href="../../../../com/bigdata/btree/AbstractBTree.html#assertNotReadOnly()">assertNotReadOnly</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#assertNotTransient()">assertNotTransient</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#close()">close</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#contains(byte[])">contains</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#contains(java.lang.Object)">contains</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#decodeRecordAddr(byte[])">decodeRecordAddr</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#dump(org.apache.log4j.Level,%20java.io.PrintStream)">dump</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#dump(java.io.PrintStream)">dump</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#dumpPages(boolean,%20boolean)">dumpPages</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#encodeRecordAddr(com.bigdata.io.ByteArrayBuffer,%20long)">encodeRecordAddr</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getBranchingFactor()">getBranchingFactor</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getBtreeCounters()">getBtreeCounters</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getContainsTuple()">getContainsTuple</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getCounters()">getCounters</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getIndexMetadata()">getIndexMetadata</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getLookupTuple()">getLookupTuple</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getNodeSerializer()">getNodeSerializer</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getReadLockCount()">getReadLockCount</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getResourceMetadata()">getResourceMetadata</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getRightMostNode(boolean)">getRightMostNode</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getRoot()">getRoot</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getRootOrFinger(byte[])">getRootOrFinger</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getStatistics()">getStatistics</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getUtilization()">getUtilization</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#getWriteTuple()">getWriteTuple</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#indexOf(byte[])">indexOf</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#insert(byte[],%20byte[])">insert</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#insert(byte[],%20byte[],%20boolean,%20boolean,%20long,%20com.bigdata.btree.Tuple)">insert</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#insert(java.lang.Object,%20java.lang.Object)">insert</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#isBalanced()">isBalanced</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#isOpen()">isOpen</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#isReadOnly()">isReadOnly</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#isTransient()">isTransient</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#keyAt(long)">keyAt</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#lookup(byte[])">lookup</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#lookup(byte[],%20com.bigdata.btree.Tuple)">lookup</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#lookup(java.lang.Object)">lookup</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#putIfAbsent(byte[],%20byte[])">putIfAbsent</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeCheck(byte[],%20boolean)">rangeCheck</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeCopy(com.bigdata.btree.IIndex,%20byte[],%20byte[],%20boolean)">rangeCopy</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeCount()">rangeCount</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeCount(byte[],%20byte[])">rangeCount</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeCount(java.lang.Object,%20java.lang.Object)">rangeCount</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeCountExact(byte[],%20byte[])">rangeCountExact</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeCountExactWithDeleted(byte[],%20byte[])">rangeCountExactWithDeleted</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeIterator()">rangeIterator</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeIterator(byte[],%20byte[])">rangeIterator</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeIterator(byte[],%20byte[],%20int,%20int,%20cutthecrap.utils.striterators.IFilter)">rangeIterator</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeIterator(java.lang.Object,%20java.lang.Object)">rangeIterator</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#rangeIterator(java.lang.Object,%20java.lang.Object,%20int,%20int,%20cutthecrap.utils.striterators.IFilter)">rangeIterator</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#readLock()">readLock</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#readNodeOrLeaf(long)">readNodeOrLeaf</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#recycle(long)">recycle</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#remove(byte[])">remove</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#remove(byte[],%20com.bigdata.btree.Tuple)">remove</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#remove(java.lang.Object)">remove</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#reopen()">reopen</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#scan()">scan</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#setBTreeCounters(com.bigdata.btree.BTreeCounters)">setBTreeCounters</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#submit(byte[],%20byte[],%20com.bigdata.btree.proc.IKeyRangeIndexProcedure,%20com.bigdata.btree.proc.IResultHandler)">submit</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#submit(byte[],%20com.bigdata.btree.proc.ISimpleIndexProcedure)">submit</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#submit(int,%20int,%20byte[][],%20byte[][],%20com.bigdata.btree.proc.AbstractKeyArrayIndexProcedureConstructor,%20com.bigdata.btree.proc.IResultHandler)">submit</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#toString()">toString</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#touch(com.bigdata.btree.AbstractNode)">touch</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#valueAt(long)">valueAt</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#valueAt(long,%20com.bigdata.btree.Tuple)">valueAt</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#writeLock()">writeLock</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#writeNodeOrLeaf(com.bigdata.btree.AbstractNode)">writeNodeOrLeaf</a>, <a href="../../../../com/bigdata/btree/AbstractBTree.html#writeNodeRecursive(com.bigdata.btree.AbstractNode)">writeNodeRecursive</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.btree.ICheckpointProtocol">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.btree.<a href="../../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></h3>
<code><a href="../../../../com/bigdata/btree/ICheckpointProtocol.html#close()">close</a>, <a href="../../../../com/bigdata/btree/ICheckpointProtocol.html#dumpPages(boolean,%20boolean)">dumpPages</a>, <a href="../../../../com/bigdata/btree/ICheckpointProtocol.html#getIndexMetadata()">getIndexMetadata</a>, <a href="../../../../com/bigdata/btree/ICheckpointProtocol.html#isOpen()">isOpen</a>, <a href="../../../../com/bigdata/btree/ICheckpointProtocol.html#reopen()">reopen</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.counters.ICounterSetAccess">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.counters.<a href="../../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a></h3>
<code><a href="../../../../com/bigdata/counters/ICounterSetAccess.html#getCounters()">getCounters</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.btree.ISimpleIndexAccess">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.btree.<a href="../../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a></h3>
<code><a href="../../../../com/bigdata/btree/ISimpleIndexAccess.html#rangeCount()">rangeCount</a>, <a href="../../../../com/bigdata/btree/ISimpleIndexAccess.html#scan()">scan</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.btree.IReadWriteLockManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.btree.<a href="../../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a></h3>
<code><a href="../../../../com/bigdata/btree/IReadWriteLockManager.html#getReadLockCount()">getReadLockCount</a>, <a href="../../../../com/bigdata/btree/IReadWriteLockManager.html#isReadOnly()">isReadOnly</a>, <a href="../../../../com/bigdata/btree/IReadWriteLockManager.html#readLock()">readLock</a>, <a href="../../../../com/bigdata/btree/IReadWriteLockManager.html#writeLock()">writeLock</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>log</h4>
<pre>protected static final transient&nbsp;org.apache.log4j.Logger log</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CounterSetBTree(com.bigdata.rawstore.IRawStore, com.bigdata.btree.Checkpoint, com.bigdata.btree.IndexMetadata, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CounterSetBTree</h4>
<pre>public&nbsp;CounterSetBTree(<a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
               <a href="../../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;checkpoint,
               <a href="../../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata,
               boolean&nbsp;readOnly)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>store</code> - </dd><dd><code>checkpoint</code> - </dd><dd><code>metadata</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="create(com.bigdata.rawstore.IRawStore)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;<a href="../../../../com/bigdata/counters/store/CounterSetBTree.html" title="class in com.bigdata.counters.store">CounterSetBTree</a>&nbsp;create(<a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store)</pre>
<div class="block">Create a new instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>store</code> - The backing store.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The new instance.</dd></dl>
</li>
</ul>
<a name="createTransient()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTransient</h4>
<pre>public static&nbsp;<a href="../../../../com/bigdata/counters/store/CounterSetBTree.html" title="class in com.bigdata.counters.store">CounterSetBTree</a>&nbsp;createTransient()</pre>
</li>
</ul>
<a name="writeHistory(java.util.Iterator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeHistory</h4>
<pre>public&nbsp;void&nbsp;writeHistory(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../com/bigdata/counters/ICounter.html" title="interface in com.bigdata.counters">ICounter</a>&gt;&nbsp;src)</pre>
<div class="block">Handles efficient writes of counters with <a href="../../../../com/bigdata/counters/History.html" title="class in com.bigdata.counters"><code>History</code></a> data. The shape
 of the data is changed so that the resulting writes on the BTree will be
 ordered. This is both faster and also results in a smaller size on the
 size (since leaves are not updated once they are written to the store).
 For a counter without history, the current value of the counter will be
 written on the BTree.</div>
</li>
</ul>
<a name="writeCurrent(java.util.Iterator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCurrent</h4>
<pre>public&nbsp;void&nbsp;writeCurrent(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../com/bigdata/counters/ICounter.html" title="interface in com.bigdata.counters">ICounter</a>&gt;&nbsp;src)</pre>
<div class="block">Writes the <strong>current</strong> value of each visited
 <a href="../../../../com/bigdata/counters/ICounter.html" title="interface in com.bigdata.counters"><code>ICounter</code></a> on the store.
 <p>
 Note: This presumes that the counters are associated with scalar values
 (rather than <a href="../../../../com/bigdata/counters/History.html" title="class in com.bigdata.counters"><code>History</code></a>s).
 <p>
 Note that the counter set iterator will normally be in alpha order
 already and all samples should be close to the same minute, so this is
 already efficient for local operations.</div>
</li>
</ul>
<a name="rangeIterator(long, long, java.util.concurrent.TimeUnit, java.util.regex.Pattern, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rangeIterator</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a>&nbsp;rangeIterator(long&nbsp;fromTime,
                       long&nbsp;toTime,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a>&nbsp;filter,
                       int&nbsp;depth)</pre>
<div class="block"><strong>The toTime needs to be ONE (1) <i>unit</i> beyond the time of
 interest since the minutes come first in the key. If you do not follow
 this rule then you can miss out on the last <i>unit</i> worth of data.</strong></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fromTime</code> - The first time whose counters will be visited (in
            milliseconds).</dd><dd><code>toTime</code> - The first time whose counters WILL NOT be visited (in
            milliseconds).</dd><dd><code>unit</code> - The unit of aggregation for the reported counters.</dd><dd><code>filter</code> - Only paths matched by the filter will be accepted (optional).</dd><dd><code>depth</code> - When non-zero, only counters whose depth is LTE to the
            specified <i>depth</i> will be returned.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A collection of the selected performance counters together with
         their ordered timestamped values for the specified time period.</dd></dl>
</li>
</ul>
<a name="getFirstTimestamp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstTimestamp</h4>
<pre>public&nbsp;long&nbsp;getFirstTimestamp()</pre>
<div class="block">Return the timestamp associated with the first performance counter value.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The timestamp -or- 0L if there are no performance counter values.</dd></dl>
</li>
</ul>
<a name="getLastTimestamp()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLastTimestamp</h4>
<pre>public&nbsp;long&nbsp;getLastTimestamp()</pre>
<div class="block">Return the timestamp associated with the last performance counter value.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The timestamp -or- 0L if there are no performance counter values.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CounterSetBTree.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../com/bigdata/counters/store/CounterSetBTree.CounterSetBTreeTupleSerializer.html" title="class in com.bigdata.counters.store"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/counters/store/CounterSetBTree.html" target="_top">Frames</a></li>
<li><a href="CounterSetBTree.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
