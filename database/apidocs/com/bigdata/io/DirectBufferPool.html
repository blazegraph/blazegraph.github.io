<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Wed Jan 20 23:38:49 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>DirectBufferPool (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DirectBufferPool (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DirectBufferPool.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/io/DataOutputBuffer.html" title="class in com.bigdata.io"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/io/DirectBufferPool.Options.html" title="interface in com.bigdata.io"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/io/DirectBufferPool.html" target="_top">Frames</a></li>
<li><a href="DirectBufferPool.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.io</div>
<h2 title="Class DirectBufferPool" class="title">Class DirectBufferPool</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.io.DirectBufferPool</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DirectBufferPool</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">An instance of this class manages a JVM-wide pool of direct (aka native)
 <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s. Methods are provided to acquire a <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>
 from the pool and to release a <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a> back to the pool.
 <p>
 Note: There is a bug in the release of large temporary direct
 <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s which motivates this class. For regular journals that
 overflow, the write cache is allocated once and handed off from journal to
 journal. However, there is no such opportunity for temporary stores.
 Unfortunately it is NOT an option to simply disable the write cache for
 temporary stores since NIO will allocate (and fail to release) an "temporary"
 direct buffer for the operation which transfers the data from the
 <a href="../../../com/bigdata/journal/TransientBufferStrategy.html" title="class in com.bigdata.journal"><code>TransientBufferStrategy</code></a> to disk. Therefore the data is copied into a
 temporary buffer allocated from this pool and then the buffer is either
 handed off to the <a href="../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal"><code>IBufferStrategy</code></a> for use as its write cache (in
 which case the <a href="../../../com/bigdata/journal/TemporaryRawStore.html" title="class in com.bigdata.journal"><code>TemporaryRawStore</code></a> holds a reference to the buffer and
 releases it back to those pool when it is finalized) or the buffer is
 immediately released back to this pool.
 <p>
 Note: Precisely because of the bug which motivates this class, we DO NOT
 release buffers back to the JVM. This means that the size of a
 <a href="../../../com/bigdata/io/DirectBufferPool.html" title="class in com.bigdata.io"><code>DirectBufferPool</code></a> can only increase, but at least you get to (re-)use
 the memory that you have allocated rather than leaking it to the native heap.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd>
<dt><span class="strong">See Also:</span></dt><dd><code>ab76d1d4479fffffffffa5abfb09c719a30?bug_id=6210541</code></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/io/DirectBufferPool.Options.html" title="interface in com.bigdata.io">DirectBufferPool.Options</a></strong></code>
<div class="block">Options for provisioning the <em>static</em> instance of the
 <a href="../../../com/bigdata/io/DirectBufferPool.html" title="class in com.bigdata.io"><code>DirectBufferPool</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/bigdata/io/DirectBufferPool.html" title="class in com.bigdata.io">DirectBufferPool</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/io/DirectBufferPool.html#INSTANCE">INSTANCE</a></strong></code>
<div class="block">A JVM-wide pool of direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s used for a variety of
 purposes with a default <a href="../../../com/bigdata/io/DirectBufferPool.Options.html#BUFFER_CAPACITY"><code>DirectBufferPool.Options.BUFFER_CAPACITY</code></a> of
 <code>1 MB</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/io/DirectBufferPool.html#DirectBufferPool(java.lang.String,%20int,%20int)">DirectBufferPool</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                int&nbsp;poolCapacity,
                int&nbsp;bufferCapacity)</code>
<div class="block">Create a direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a> pool.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/io/IBufferAccess.html" title="interface in com.bigdata.io">IBufferAccess</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/io/DirectBufferPool.html#acquire()">acquire</a></strong>()</code>
<div class="block">Return an <a href="../../../com/bigdata/io/IBufferAccess.html" title="interface in com.bigdata.io"><code>IBufferAccess</code></a> wrapping a direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/io/IBufferAccess.html" title="interface in com.bigdata.io">IBufferAccess</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/io/DirectBufferPool.html#acquire(long,%20java.util.concurrent.TimeUnit)">acquire</a></strong>(long&nbsp;timeout,
       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</code>
<div class="block">Return an <a href="../../../com/bigdata/io/IBufferAccess.html" title="interface in com.bigdata.io"><code>IBufferAccess</code></a> wrapping a direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/io/DirectBufferPool.html#getAcquiredBufferCount()">getAcquiredBufferCount</a></strong>()</code>
<div class="block">The #of <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s which are currently acquired.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/io/DirectBufferPool.html#getBufferCapacity()">getBufferCapacity</a></strong>()</code>
<div class="block">The capacity in bytes of the <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s managed by this pool as
 specified to the constructor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/io/DirectBufferPool.html#getCounters()">getCounters</a></strong>()</code>
<div class="block">Return the <a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters"><code>CounterSet</code></a> for the <a href="../../../com/bigdata/io/DirectBufferPool.html" title="class in com.bigdata.io"><code>DirectBufferPool</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/io/DirectBufferPool.html#getName()">getName</a></strong>()</code>
<div class="block">The name of this buffer pool instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/io/DirectBufferPool.html#getPoolCapacity()">getPoolCapacity</a></strong>()</code>
<div class="block">The maximum capacity in buffers of the <a href="../../../com/bigdata/io/DirectBufferPool.html" title="class in com.bigdata.io"><code>DirectBufferPool</code></a> as
 specified to the constructor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/io/DirectBufferPool.html#getPoolSize()">getPoolSize</a></strong>()</code>
<div class="block">The approximate #of <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s currently managed by this
 pool.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="INSTANCE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>INSTANCE</h4>
<pre>public static final&nbsp;<a href="../../../com/bigdata/io/DirectBufferPool.html" title="class in com.bigdata.io">DirectBufferPool</a> INSTANCE</pre>
<div class="block">A JVM-wide pool of direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s used for a variety of
 purposes with a default <a href="../../../com/bigdata/io/DirectBufferPool.Options.html#BUFFER_CAPACITY"><code>DirectBufferPool.Options.BUFFER_CAPACITY</code></a> of
 <code>1 MB</code>.
 <p>
 Note: <a href="../../../com/bigdata/io/DirectBufferPool.html#acquire()"><code>acquire()</code></a> requests will block once the pool capacity has
 been reached until a buffer is <a href="../../../com/bigdata/io/DirectBufferPool.html#release(java.nio.ByteBuffer)"><code>release(ByteBuffer)</code></a>ed.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DirectBufferPool(java.lang.String, int, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DirectBufferPool</h4>
<pre>protected&nbsp;DirectBufferPool(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                int&nbsp;poolCapacity,
                int&nbsp;bufferCapacity)</pre>
<div class="block">Create a direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a> pool.
 <p>
 Note: When the <i>poolSize</i> is bounded then <a href="../../../com/bigdata/io/DirectBufferPool.html#acquire()"><code>acquire()</code></a> MAY
 block. This can introduce deadlocks into the application. You can use a
 timeout to limit the sensitivity to deadlocks or you can use an unbounded
 pool and accept that <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html?is-external=true" title="class or interface in java.lang"><code>OutOfMemoryError</code></a>s will arise if there is
 too much concurrent demand for the buffers supplied by this pool.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>poolCapacity</code> - The maximum capacity of the pool. Use
            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true#MAX_VALUE" title="class or interface in java.lang"><code>Integer.MAX_VALUE</code></a> to have a pool with an unbounded
            number of buffers.</dd><dd><code>bufferCapacity</code> - The capacity of the <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s managed by this pool.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/io/DirectBufferPool.html#INSTANCE"><code>INSTANCE</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getName()</pre>
<div class="block">The name of this buffer pool instance.</div>
</li>
</ul>
<a name="getAcquiredBufferCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAcquiredBufferCount</h4>
<pre>public&nbsp;int&nbsp;getAcquiredBufferCount()</pre>
<div class="block">The #of <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s which are currently acquired. This counter is
 incremented when a buffer is acquired and decremented when a buffer is
 released.</div>
</li>
</ul>
<a name="getPoolCapacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPoolCapacity</h4>
<pre>public&nbsp;int&nbsp;getPoolCapacity()</pre>
<div class="block">The maximum capacity in buffers of the <a href="../../../com/bigdata/io/DirectBufferPool.html" title="class in com.bigdata.io"><code>DirectBufferPool</code></a> as
 specified to the constructor.</div>
</li>
</ul>
<a name="getPoolSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPoolSize</h4>
<pre>public&nbsp;int&nbsp;getPoolSize()</pre>
<div class="block">The approximate #of <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s currently managed by this
 pool.</div>
</li>
</ul>
<a name="getBufferCapacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBufferCapacity</h4>
<pre>public&nbsp;int&nbsp;getBufferCapacity()</pre>
<div class="block">The capacity in bytes of the <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s managed by this pool as
 specified to the constructor.</div>
</li>
</ul>
<a name="acquire()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/io/IBufferAccess.html" title="interface in com.bigdata.io">IBufferAccess</a>&nbsp;acquire()
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Return an <a href="../../../com/bigdata/io/IBufferAccess.html" title="interface in com.bigdata.io"><code>IBufferAccess</code></a> wrapping a direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>. The
 capacity of the buffer is determined by the configuration of this pool.
 The position will be equal to zero, the limit will be equal to the
 capacity, and the mark will not be set.
 <p>
 Note: This method will block if there are no free buffers in the pool and
 the pool was configured with a maximum capacity. It WILL log an error if
 it blocks. While blocking is not very safe, using a heap (vs direct)
 <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a> is not very safe either since Java NIO will allocate a
 temporary direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a> for IOs and that can both run out of
 memory and leak memory.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the caller's <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang"><code>Thread</code></a> is interrupted awaiting a
             buffer.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html?is-external=true" title="class or interface in java.lang">OutOfMemoryError</a></code> - if there is not enough free memory to fulfill the request.</dd></dl>
</li>
</ul>
<a name="acquire(long, java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/io/IBufferAccess.html" title="interface in com.bigdata.io">IBufferAccess</a>&nbsp;acquire(long&nbsp;timeout,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                             <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="class or interface in java.util.concurrent">TimeoutException</a></pre>
<div class="block">Return an <a href="../../../com/bigdata/io/IBufferAccess.html" title="interface in com.bigdata.io"><code>IBufferAccess</code></a> wrapping a direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>. The
 capacity of the buffer is determined by the configuration of this pool.
 The position will be equal to zero, the limit will be equal to the
 capacity, and the mark will not be set.
 <p>
 Note: This method will block if there are no free buffers in the pool and
 the pool was configured with a maximum capacity. In addition it MAY block
 if there is not enough free memory to fulfill the request. It WILL log an
 error if it blocks. While blocking is not very safe, using a heap (vs
 direct) <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a> is not very safe either since Java NIO will
 allocate a temporary direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a> for IOs and that can both
 run out of memory and leak memory.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - The timeout.</dd><dd><code>unit</code> - The units for that timeout.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the caller's <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang"><code>Thread</code></a> is interrupted awaiting a
             buffer.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="class or interface in java.util.concurrent">TimeoutException</a></code></dd></dl>
</li>
</ul>
<a name="getCounters()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCounters</h4>
<pre>public static&nbsp;<a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a>&nbsp;getCounters()</pre>
<div class="block">Return the <a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters"><code>CounterSet</code></a> for the <a href="../../../com/bigdata/io/DirectBufferPool.html" title="class in com.bigdata.io"><code>DirectBufferPool</code></a>.
 <dl>
 <dt>poolSize</dt>
 <dd>The approximate number of direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s currently
 managed by the pool.</dd>
 <dt>poolCapacity</dt>
 <dd>The maximum number of direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s that may be
 allocated by the pool.</dd>
 <dt>bufferCapacity</dt>
 <dd>The capacity in bytes of each direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a> associated
 with a given pool.</dd>
 <dt>acquired</dt>
 <dd>The number of direct <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>s currently acquired by the
 application.</dd>
 <dt>bytesUsed</dt>
 <dd>The number of bytes managed by the pool.</dd>
 </dl></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The counters.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DirectBufferPool.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/io/DataOutputBuffer.html" title="class in com.bigdata.io"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/io/DirectBufferPool.Options.html" title="interface in com.bigdata.io"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/io/DirectBufferPool.html" target="_top">Frames</a></li>
<li><a href="DirectBufferPool.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
