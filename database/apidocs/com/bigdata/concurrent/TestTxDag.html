<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Tue Jan 26 02:02:22 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TestTxDag (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)</title>
<meta name="date" content="2016-01-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TestTxDag (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestTxDag.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/concurrent/TestNonBlockingLockManagerWithNewDesign.Wait10ResourceTask.html" title="class in com.bigdata.concurrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/concurrent/TimeoutException.html" title="class in com.bigdata.concurrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/concurrent/TestTxDag.html" target="_top">Frames</a></li>
<li><a href="TestTxDag.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.concurrent</div>
<h2 title="Class TestTxDag" class="title">Class TestTxDag</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>junit.framework.Assert</li>
<li>
<ul class="inheritance">
<li>junit.framework.TestCase</li>
<li>
<ul class="inheritance">
<li>com.bigdata.concurrent.TestTxDag</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>junit.framework.Test</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">TestTxDag</span>
extends junit.framework.TestCase</pre>
<div class="block">Test suite for online transaction deadlock algorithm.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#log">log</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#TestTxDag()">TestTxDag</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#TestTxDag(java.lang.String)">TestTxDag</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#assertSameEdges(com.bigdata.concurrent.TxDag.Edge[],%20com.bigdata.concurrent.TxDag.Edge[])">assertSameEdges</a></strong>(<a href="../../../com/bigdata/concurrent/TxDag.Edge.html" title="class in com.bigdata.concurrent">TxDag.Edge</a>[]&nbsp;expected,
               <a href="../../../com/bigdata/concurrent/TxDag.Edge.html" title="class in com.bigdata.concurrent">TxDag.Edge</a>[]&nbsp;actual)</code>
<div class="block">Compares two Edge[]s and verifies that the same edges are defined without
 regard to order.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#assertSamePathCounts(int[][],%20int[][])">assertSamePathCounts</a></strong>(int[][]&nbsp;expected,
                    int[][]&nbsp;actual)</code>
<div class="block">Compares two path count matrices for equality.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#assertSameValues(int[],%20int[])">assertSameValues</a></strong>(int[]&nbsp;expected,
                int[]&nbsp;actual)</code>
<div class="block">Verifies that <i>actual </i> contains all of the same values as
 <i>expected </i> in the same order.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#assertSameValuesAnyOrder(int[],%20int[])">assertSameValuesAnyOrder</a></strong>(int[]&nbsp;expected,
                        int[]&nbsp;actual)</code>
<div class="block">Verifies that <i>actual </i> contains all of the same values as
 <i>expected </i> without regard to order.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#doSymmetricOperationsTest(java.util.Random,%20com.bigdata.concurrent.TxDag)">doSymmetricOperationsTest</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Random.html?is-external=true" title="class or interface in java.util">Random</a>&nbsp;r,
                         <a href="../../../com/bigdata/concurrent/TxDag.html" title="class in com.bigdata.concurrent">TxDag</a>&nbsp;dag)</code>
<div class="block">Implements the performance test for <a href="../../../com/bigdata/concurrent/TestTxDag.html#testSymmetricOperations()"><code>testSymmetricOperations()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_addEdge_001()">test_addEdge_001</a></strong>()</code>
<div class="block">Simple tests of <a href="../../../com/bigdata/concurrent/TxDag.html#addEdge(java.lang.Object,%20java.lang.Object)"><code>TxDag.addEdge(Object, Object)</code></a>,
 <a href="../../../com/bigdata/concurrent/TxDag.html#hasEdge(java.lang.Object,%20java.lang.Object)"><code>TxDag.hasEdge(Object, Object)</code></a>and friends.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_addEdge_correctRejection_001()">test_addEdge_correctRejection_001</a></strong>()</code>
<div class="block">Test for correct rejection of addEdge() when edge already exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_addEdge_correctRejection_002()">test_addEdge_correctRejection_002</a></strong>()</code>
<div class="block">Test for correct rejection of addEdge() when either parameter is
 null or when both parameters are the same.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_addEdges_correctRejection_001()">test_addEdges_correctRejection_001</a></strong>()</code>
<div class="block">Test for correct rejection of addEdges() when an edge already exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_addEdges_correctRejection_002()">test_addEdges_correctRejection_002</a></strong>()</code>
<div class="block">Test for correct rejection of addEdge() when either parameter is
 null, when one of the targets is null, or when one of the targets
 is given more than once.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_capacity_001()">test_capacity_001</a></strong>()</code>
<div class="block">Test capacity limits.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_ctor()">test_ctor</a></strong>()</code>
<div class="block">Constructor tests.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_deadlock_001()">test_deadlock_001</a></strong>()</code>
<div class="block">The first in a series of simple tests which verify that the DAG is
 correctly detecting updates when a set of new edges would result in a
 cycle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_deadlock_002()">test_deadlock_002</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_deadlock_003()">test_deadlock_003</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_deadlock_batch_001()">test_deadlock_batch_001</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_getOrder_001()">test_getOrder_001</a></strong>()</code>
<div class="block">Verify that <a href="../../../com/bigdata/concurrent/TxDag.html#lookup(java.lang.Object,%20boolean)"><code>TxDag.lookup(Object, boolean)</code></a> does not cause
 <a href="../../../com/bigdata/concurrent/TxDag.html#getOrder()"><code>TxDag.getOrder()</code></a> to include the new vertex until an edge has been
 asserted for that vertex.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_lookup_001()">test_lookup_001</a></strong>()</code>
<div class="block">Test ability to generate unique transaction identifier used by
 <a href="../../../com/bigdata/concurrent/TxDag.html" title="class in com.bigdata.concurrent"><code>TxDag</code></a>to index into its internal arrays.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_lookup_002()">test_lookup_002</a></strong>()</code>
<div class="block">Correct rejection test when transaction object is <code>null</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_noCycles__batch_001()">test_noCycles__batch_001</a></strong>()</code>
<div class="block">Verify that the DAG state is correctly updated when adding a variety of
 WAITS_FOR relationships that do NOT form cycles (using the batch
 operation to add edges).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_noCycles_001()">test_noCycles_001</a></strong>()</code>
<div class="block">Verify that the DAG state is correctly updated when adding a variety of
 WAITS_FOR relationships that do NOT form cycles.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_recyclingIndices()">test_recyclingIndices</a></strong>()</code>
<div class="block">Verify that we can recycle the internal transaction identifiers when a
 transaction is removed from the DAG (either through abort or commit
 actions).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_updateClosure_001()">test_updateClosure_001</a></strong>()</code>
<div class="block">Tests of the update to the internal matrix M[u,v].</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#test_updateClosure_002()">test_updateClosure_002</a></strong>()</code>
<div class="block">A sequence of tests of the internal state of the <a href="../../../com/bigdata/concurrent/TxDag.html" title="class in com.bigdata.concurrent"><code>TxDag</code></a> with a
 capacity of <code>4</code> after adding an edge.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#testAssertSameEdges()">testAssertSameEdges</a></strong>()</code>
<div class="block">Some tests to verify <code>#assertSameEdges(Edge[], Edge[])</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/concurrent/TestTxDag.html#testSymmetricOperations()">testSymmetricOperations</a></strong>()</code>
<div class="block">
 Test adds N random edges to the graph and then removes them and verifies
 that removal correctly reproduces each intermediate state following an
 edge addition.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_junit.framework.TestCase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;junit.framework.TestCase</h3>
<code>assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertFalse, assertFalse, assertNotNull, assertNotNull, assertNotSame, assertNotSame, assertNull, assertNull, assertSame, assertSame, assertTrue, assertTrue, countTestCases, createResult, fail, fail, failNotEquals, failNotSame, failSame, format, getName, run, run, runBare, runTest, setName, setUp, tearDown, toString</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>log</h4>
<pre>public static final&nbsp;org.apache.log4j.Logger log</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TestTxDag()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TestTxDag</h4>
<pre>public&nbsp;TestTxDag()</pre>
</li>
</ul>
<a name="TestTxDag(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TestTxDag</h4>
<pre>public&nbsp;TestTxDag(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="test_ctor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_ctor</h4>
<pre>public&nbsp;void&nbsp;test_ctor()</pre>
<div class="block">Constructor tests.</div>
</li>
</ul>
<a name="test_lookup_001()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_lookup_001</h4>
<pre>public&nbsp;void&nbsp;test_lookup_001()</pre>
<div class="block">Test ability to generate unique transaction identifier used by
 <a href="../../../com/bigdata/concurrent/TxDag.html" title="class in com.bigdata.concurrent"><code>TxDag</code></a>to index into its internal arrays. This test verifies that
 insert is conditional, that lookup fails if tx was not registered, and
 that we can insert and then lookup a transaction in the DAG. The test
 also verifies that the <a href="../../../com/bigdata/concurrent/TxDag.html#size()"><code>TxDag.size()</code></a>updates as vertices are added
 to the graph and does not update when the vertex already exists in the
 graph.</div>
</li>
</ul>
<a name="test_lookup_002()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_lookup_002</h4>
<pre>public&nbsp;void&nbsp;test_lookup_002()</pre>
<div class="block">Correct rejection test when transaction object is <code>null</code>.</div>
</li>
</ul>
<a name="test_capacity_001()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_capacity_001</h4>
<pre>public&nbsp;void&nbsp;test_capacity_001()</pre>
<div class="block">Test capacity limits. This test verifies that insert fails if capacity
 the graph (the maximum #of vertices) would be exceeded.</div>
</li>
</ul>
<a name="test_addEdge_001()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_addEdge_001</h4>
<pre>public&nbsp;void&nbsp;test_addEdge_001()</pre>
<div class="block">Simple tests of <a href="../../../com/bigdata/concurrent/TxDag.html#addEdge(java.lang.Object,%20java.lang.Object)"><code>TxDag.addEdge(Object, Object)</code></a>,
 <a href="../../../com/bigdata/concurrent/TxDag.html#hasEdge(java.lang.Object,%20java.lang.Object)"><code>TxDag.hasEdge(Object, Object)</code></a>and friends.</div>
</li>
</ul>
<a name="test_addEdge_correctRejection_001()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_addEdge_correctRejection_001</h4>
<pre>public&nbsp;void&nbsp;test_addEdge_correctRejection_001()</pre>
<div class="block">Test for correct rejection of addEdge() when edge already exists.</div>
</li>
</ul>
<a name="test_addEdge_correctRejection_002()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_addEdge_correctRejection_002</h4>
<pre>public&nbsp;void&nbsp;test_addEdge_correctRejection_002()</pre>
<div class="block">Test for correct rejection of addEdge() when either parameter is
 null or when both parameters are the same.</div>
</li>
</ul>
<a name="test_addEdges_correctRejection_001()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_addEdges_correctRejection_001</h4>
<pre>public&nbsp;void&nbsp;test_addEdges_correctRejection_001()</pre>
<div class="block">Test for correct rejection of addEdges() when an edge already exists.</div>
</li>
</ul>
<a name="test_addEdges_correctRejection_002()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_addEdges_correctRejection_002</h4>
<pre>public&nbsp;void&nbsp;test_addEdges_correctRejection_002()</pre>
<div class="block">Test for correct rejection of addEdge() when either parameter is
 null, when one of the targets is null, or when one of the targets
 is given more than once.</div>
</li>
</ul>
<a name="test_getOrder_001()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_getOrder_001</h4>
<pre>public&nbsp;void&nbsp;test_getOrder_001()</pre>
<div class="block">Verify that <a href="../../../com/bigdata/concurrent/TxDag.html#lookup(java.lang.Object,%20boolean)"><code>TxDag.lookup(Object, boolean)</code></a> does not cause
 <a href="../../../com/bigdata/concurrent/TxDag.html#getOrder()"><code>TxDag.getOrder()</code></a> to include the new vertex until an edge has been
 asserted for that vertex.
 <p>
 This also tests <a href="../../../com/bigdata/concurrent/TxDag.html#getOrder(int,%20int)"><code>TxDag.getOrder(int t, int u)</code></a>, which is similar
 to <a href="../../../com/bigdata/concurrent/TxDag.html#getOrder()"><code>TxDag.getOrder()</code></a> but it always includes the specified vertices
 in the returned int[].</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/concurrent/TxDag.html#lookup(java.lang.Object,%20boolean)"><code>TxDag.lookup(Object, boolean)</code></a>, 
<a href="../../../com/bigdata/concurrent/TxDag.html#getOrder()"><code>TxDag.getOrder()</code></a></dd></dl>
</li>
</ul>
<a name="assertSameValues(int[], int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertSameValues</h4>
<pre>public&nbsp;void&nbsp;assertSameValues(int[]&nbsp;expected,
                    int[]&nbsp;actual)</pre>
<div class="block">Verifies that <i>actual </i> contains all of the same values as
 <i>expected </i> in the same order.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>expected</code> - An integer array.</dd><dd><code>actual</code> - Another integer array.</dd></dl>
</li>
</ul>
<a name="assertSameValuesAnyOrder(int[], int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertSameValuesAnyOrder</h4>
<pre>public&nbsp;void&nbsp;assertSameValuesAnyOrder(int[]&nbsp;expected,
                            int[]&nbsp;actual)</pre>
<div class="block">Verifies that <i>actual </i> contains all of the same values as
 <i>expected </i> without regard to order.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>expected</code> - An integer array.</dd><dd><code>actual</code> - Another integer array.</dd></dl>
</li>
</ul>
<a name="test_updateClosure_001()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_updateClosure_001</h4>
<pre>public&nbsp;void&nbsp;test_updateClosure_001()</pre>
<div class="block">Tests of the update to the internal matrix M[u,v]. This matrix maintains
 the #of distinct paths from u to v based on the edges in the directed
 graph, W.
 <p>
 Note: These tests are written directly using the
 <a href="../../../com/bigdata/concurrent/TxDag.html#updateClosure(int,%20int,%20boolean)"><code>TxDag.updateClosure(int, int, boolean)</code></a> method, so the matrix W is
 not actually updated.</div>
</li>
</ul>
<a name="test_updateClosure_002()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_updateClosure_002</h4>
<pre>public&nbsp;void&nbsp;test_updateClosure_002()</pre>
<div class="block">A sequence of tests of the internal state of the <a href="../../../com/bigdata/concurrent/TxDag.html" title="class in com.bigdata.concurrent"><code>TxDag</code></a> with a
 capacity of <code>4</code> after adding an edge.</div>
</li>
</ul>
<a name="doSymmetricOperationsTest(java.util.Random, com.bigdata.concurrent.TxDag)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSymmetricOperationsTest</h4>
<pre>public&nbsp;void&nbsp;doSymmetricOperationsTest(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Random.html?is-external=true" title="class or interface in java.util">Random</a>&nbsp;r,
                             <a href="../../../com/bigdata/concurrent/TxDag.html" title="class in com.bigdata.concurrent">TxDag</a>&nbsp;dag)</pre>
<div class="block">Implements the performance test for <a href="../../../com/bigdata/concurrent/TestTxDag.html#testSymmetricOperations()"><code>testSymmetricOperations()</code></a>.
 <p>
 Performs random additive operations on the DAG until a deadlock results.
 The initial state and the state after each additive operation is stored.
 Once a deadlock is reached, verifies that the last stored state is still
 valid (deadlock should not update the state of the DAG) and then performs
 the inverse of each of the addition operations in the reverse order in
 which they were applied. After each inverse operation, verifies that the
 state of the DAG corresponds to the state before the corresponding
 additive operation.
 <p>
 The additive operations and their inverses are:
 <ul>
 <li>insert/remove vertex</li>
 <li>insert/remove edge</li>
 </ul>
 A vertex corresponds to a transaction. Creating a vertex therefore
 corresponds to the action of starting a new transaction. Likewise
 removing a vertex corresponds to the action of terminating a transaction
 (either by aborting the transaction or committing the transaction).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>r</code> - A random number generator.</dd><dd><code>dag</code> - A dag with a maximum capacity.</dd></dl>
</li>
</ul>
<a name="assertSamePathCounts(int[][], int[][])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertSamePathCounts</h4>
<pre>public&nbsp;void&nbsp;assertSamePathCounts(int[][]&nbsp;expected,
                        int[][]&nbsp;actual)</pre>
<div class="block">Compares two path count matrices for equality.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>expected</code> - An int[][] matrix with at least two rows and two columns.</dd><dd><code>actual</code> - Another int[][] matrix with the same dimensions.</dd></dl>
</li>
</ul>
<a name="assertSameEdges(com.bigdata.concurrent.TxDag.Edge[], com.bigdata.concurrent.TxDag.Edge[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertSameEdges</h4>
<pre>public&nbsp;void&nbsp;assertSameEdges(<a href="../../../com/bigdata/concurrent/TxDag.Edge.html" title="class in com.bigdata.concurrent">TxDag.Edge</a>[]&nbsp;expected,
                   <a href="../../../com/bigdata/concurrent/TxDag.Edge.html" title="class in com.bigdata.concurrent">TxDag.Edge</a>[]&nbsp;actual)</pre>
<div class="block">Compares two Edge[]s and verifies that the same edges are defined without
 regard to order.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>expected</code> - The expected Edge[].</dd><dd><code>actual</code> - The actual Edge[].</dd></dl>
</li>
</ul>
<a name="testAssertSameEdges()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testAssertSameEdges</h4>
<pre>public&nbsp;void&nbsp;testAssertSameEdges()</pre>
<div class="block">Some tests to verify <code>#assertSameEdges(Edge[], Edge[])</code>.</div>
</li>
</ul>
<a name="test_recyclingIndices()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_recyclingIndices</h4>
<pre>public&nbsp;void&nbsp;test_recyclingIndices()</pre>
<div class="block">Verify that we can recycle the internal transaction identifiers when a
 transaction is removed from the DAG (either through abort or commit
 actions).
 <p>
 Transaction objects are application defined. They are mapped into indices
 for the internal arrays by <a href="../../../com/bigdata/concurrent/TxDag.html#lookup(java.lang.Object,%20boolean)"><code>TxDag.lookup(Object, boolean)</code></a>. Those
 indices must be released for reuse by <a href="../../../com/bigdata/concurrent/TxDag.html#releaseVertex(java.lang.Object)"><code>TxDag.releaseVertex(Object)</code></a>
 of the capacity of the graph will be exhausted. This test verifies that
 they are.
 <p>
 The test creates and removes vertices repeatedly and verifies that we can
 create more vertices than would be allowed for by the capacity (therefore
 suggesting that vertices are being recycled correctly).</div>
</li>
</ul>
<a name="test_noCycles_001()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_noCycles_001</h4>
<pre>public&nbsp;void&nbsp;test_noCycles_001()</pre>
<div class="block">Verify that the DAG state is correctly updated when adding a variety of
 WAITS_FOR relationships that do NOT form cycles.</div>
</li>
</ul>
<a name="test_noCycles__batch_001()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_noCycles__batch_001</h4>
<pre>public&nbsp;void&nbsp;test_noCycles__batch_001()</pre>
<div class="block">Verify that the DAG state is correctly updated when adding a variety of
 WAITS_FOR relationships that do NOT form cycles (using the batch
 operation to add edges).</div>
</li>
</ul>
<a name="test_deadlock_001()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_deadlock_001</h4>
<pre>public&nbsp;void&nbsp;test_deadlock_001()</pre>
<div class="block">The first in a series of simple tests which verify that the DAG is
 correctly detecting updates when a set of new edges would result in a
 cycle.</div>
</li>
</ul>
<a name="test_deadlock_002()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_deadlock_002</h4>
<pre>public&nbsp;void&nbsp;test_deadlock_002()</pre>
</li>
</ul>
<a name="test_deadlock_003()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_deadlock_003</h4>
<pre>public&nbsp;void&nbsp;test_deadlock_003()</pre>
</li>
</ul>
<a name="test_deadlock_batch_001()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_deadlock_batch_001</h4>
<pre>public&nbsp;void&nbsp;test_deadlock_batch_001()</pre>
</li>
</ul>
<a name="testSymmetricOperations()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>testSymmetricOperations</h4>
<pre>public&nbsp;void&nbsp;testSymmetricOperations()</pre>
<div class="block"><p>
 Test adds N random edges to the graph and then removes them and verifies
 that removal correctly reproduces each intermediate state following an
 edge addition. Edges are added until a deadlock results. We verify that
 the deadlock did not update the internal matrix M and then backup state
 by state removing each edge in the reverse order and verifying that the
 correct state is reproduced as the edge is removed.
 </p>
 <p>
 Note: This test uses "small" matrices (20 vertices) to keep the memory
 footprint down since it makes a copy of the state of the DAG after each
 action.  As the capacity of the graph goes up, this test will begin to
 stress the garbage collector so more trials and moderate capacity makes
 more sense.
 </p></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/concurrent/TestTxDag.html#doSymmetricOperationsTest(java.util.Random,%20com.bigdata.concurrent.TxDag)"><code>doSymmetricOperationsTest(Random, TxDag)</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestTxDag.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/concurrent/TestNonBlockingLockManagerWithNewDesign.Wait10ResourceTask.html" title="class in com.bigdata.concurrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/concurrent/TimeoutException.html" title="class in com.bigdata.concurrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/concurrent/TestTxDag.html" target="_top">Frames</a></li>
<li><a href="TestTxDag.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
