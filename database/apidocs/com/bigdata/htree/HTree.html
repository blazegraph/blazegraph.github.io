<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Mon Aug 29 21:18:26 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>HTree (Blazegraph Database Platform 2.1.4 API)</title>
<meta name="date" content="2016-08-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HTree (Blazegraph Database Platform 2.1.4 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HTree.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/htree/DefaultEvictionListener.html" title="class in com.bigdata.htree"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/htree/HTreePageStats.html" title="class in com.bigdata.htree"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/htree/HTree.html" target="_top">Frames</a></li>
<li><a href="HTree.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_com.bigdata.htree.AbstractHTree">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.htree</div>
<h2 title="Class HTree" class="title">Class HTree</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">com.bigdata.htree.AbstractHTree</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.htree.HTree</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a>, <a href="../../../com/bigdata/btree/IIndexLocalCounter.html" title="interface in com.bigdata.btree">IIndexLocalCounter</a>, <a href="../../../com/bigdata/btree/IReadWriteLockManager.html" title="interface in com.bigdata.btree">IReadWriteLockManager</a>, <a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a>, <a href="../../../com/bigdata/btree/ISimpleTreeIndexAccess.html" title="interface in com.bigdata.btree">ISimpleTreeIndexAccess</a>, <a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">HTree</span>
extends <a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">AbstractHTree</a>
implements <a href="../../../com/bigdata/btree/IIndexLocalCounter.html" title="interface in com.bigdata.btree">IIndexLocalCounter</a></pre>
<div class="block">An mutable persistence capable extensible hash tree.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd>
<dt><span class="strong">See Also:</span></dt><dd><a
      href="A robust scheme for multilevel extendible hashing (2003)">
      A Robust Scheme for Multilevel Extendible Hashing </a> by Sven Helmer,
      Thomas Neumann, Guido Moerkotte. ISCIS 2003: 220-227.
 
      TODO It should be possible to define an native int32 hash table in
      parallel to the unsigned byte[] hash table simply by having an
      alternative descent passing an int32 key all the way down and using the
      variant of getBits() method which operates on the int32 values. We could
      also optimize the storage and retrieval of the int32 keys, perhaps with
      a custom mutable bucket page and mutable bucket data implementation for
      int32 keys. This optimization is likely to be quite worth while as the
      majority of use cases for the hash tree use int32 keys.
 
      TODO It is quite possible to define a range query interface for the hash
      tree. You have to use an order preserving hash function, which is
      external to the HTree implementation. Internally, the HTree must either
      double-link the pages or crawl the directory structure.
 
      TODO The keys should be declared as a computed key based on the data
      fields in the record. The {@link HTree} supports arbitrary bit length
      keys, but can be optimized for int32 keys easily enough.
 
      TODO Instrument performance counters for structural modifications,
      insert, remove, etc. per {@link BTreeCounters}.</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_com.bigdata.htree.AbstractHTree">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.bigdata.htree.<a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">AbstractHTree</a></h3>
<code><a href="../../../com/bigdata/htree/AbstractHTree.HTreePageStateException.html" title="class in com.bigdata.htree">AbstractHTree.HTreePageStateException</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicLong.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicLong</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#counter">counter</a></strong></code>
<div class="block">The mutable counter exposed by #getCounter()}.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#nentries">nentries</a></strong></code>
<div class="block">The #of entries in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#nleaves">nleaves</a></strong></code>
<div class="block">The #of <code>BucketPage</code>s in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#nnodes">nnodes</a></strong></code>
<div class="block">The #of <code>DirectoryPage</code> in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#recordVersion">recordVersion</a></strong></code>
<div class="block">The value of the record version number that will be assigned to the next
 node or leaf written onto the backing store.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.htree.AbstractHTree">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.htree.<a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">AbstractHTree</a></h3>
<code><a href="../../../com/bigdata/htree/AbstractHTree.html#addressBits">addressBits</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#bucketSlots">bucketSlots</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#DEBUG">DEBUG</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#dumpLog">dumpLog</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#error">error</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#ERROR_CLOSED">ERROR_CLOSED</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#ERROR_ERROR_STATE">ERROR_ERROR_STATE</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#ERROR_LESS_THAN_ZERO">ERROR_LESS_THAN_ZERO</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#ERROR_READ_ONLY">ERROR_READ_ONLY</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#ERROR_TOO_LARGE">ERROR_TOO_LARGE</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#ERROR_TOO_SMALL">ERROR_TOO_SMALL</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#ERROR_TRANSIENT">ERROR_TRANSIENT</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#INFO">INFO</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#log">log</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#MAX_ADDRESS_BITS">MAX_ADDRESS_BITS</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#metadata">metadata</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#MIN_ADDRESS_BITS">MIN_ADDRESS_BITS</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#ndistinctOnWriteRetentionQueue">ndistinctOnWriteRetentionQueue</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#nodeSer">nodeSer</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#readOnly">readOnly</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#root">root</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#store">store</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#writeRetentionQueue">writeRetentionQueue</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/htree/HTree.html#HTree(com.bigdata.rawstore.IRawStore,%20com.bigdata.btree.Checkpoint,%20com.bigdata.btree.IndexMetadata,%20boolean)">HTree</a></strong>(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
     <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;checkpoint,
     <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata,
     boolean&nbsp;readOnly)</code>
<div class="block">Required constructor form for <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> and any derived subclasses.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#_reopen()">_reopen</a></strong>()</code>
<div class="block">This method is responsible for setting up the root leaf (either new or
 read from the store), the bloom filter, etc.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#asReadOnly()">asReadOnly</a></strong>()</code>
<div class="block">Returns an immutable view of this <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#contains(byte[])">contains</a></strong>(byte[]&nbsp;key)</code>
<div class="block">Return <code>true</code> iff there is at least one tuple in the hash tree
 having the specified <i>key</i>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#contains(int)">contains</a></strong>(int&nbsp;key)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#contains(java.lang.Object)">contains</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;obj)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#create(com.bigdata.rawstore.IRawStore,%20com.bigdata.btree.HTreeIndexMetadata)">create</a></strong>(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
      <a href="../../../com/bigdata/btree/HTreeIndexMetadata.html" title="class in com.bigdata.btree">HTreeIndexMetadata</a>&nbsp;metadata)</code>
<div class="block">Create a new <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#createTransient(com.bigdata.btree.HTreeIndexMetadata)">createTransient</a></strong>(<a href="../../../com/bigdata/btree/HTreeIndexMetadata.html" title="class in com.bigdata.btree">HTreeIndexMetadata</a>&nbsp;metadata)</code>
<div class="block">Create a new <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class that is fully transient (NO
 backing <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a>).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/BaseIndexStats.html" title="class in com.bigdata.btree">BaseIndexStats</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#dumpPages(boolean,%20boolean)">dumpPages</a></strong>(boolean&nbsp;recursive,
         boolean&nbsp;visitLeaves)</code>
<div class="block">Reports statistics for the index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#fireDirtyEvent()">fireDirtyEvent</a></strong>()</code>
<div class="block">Fire an event to the listener (iff set).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#flush()">flush</a></strong>()</code>
<div class="block">Flush the nodes of the <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> to the backing store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#getCheckpoint()">getCheckpoint</a></strong>()</code>
<div class="block">Returns the most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ICounter.html" title="interface in com.bigdata.btree">ICounter</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#getCounter()">getCounter</a></strong>()</code>
<div class="block">Returns an <a href="../../../com/bigdata/btree/ICounter.html" title="interface in com.bigdata.btree"><code>ICounter</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#getDirtyListener()">getDirtyListener</a></strong>()</code>
<div class="block">Return the <a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree"><code>IDirtyListener</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#getEntryCount()">getEntryCount</a></strong>()</code>
<div class="block">The #of tuples in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#getLastCommitTime()">getLastCommitTime</a></strong>()</code>
<div class="block">The timestamp associated with the last <a href="../../../com/bigdata/journal/IAtomicStore.html#commit()"><code>IAtomicStore.commit()</code></a> in
 which writes buffered by this index were made restart-safe on the backing
 store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#getLeafCount()">getLeafCount</a></strong>()</code>
<div class="block">The #of <code>BucketPage</code>s in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> (not buddy hash buckets,
 but the pages on which they appear).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#getMetadataAddr()">getMetadataAddr</a></strong>()</code>
<div class="block">The address at which the most recent <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> record was
 written.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#getNodeCount()">getNodeCount</a></strong>()</code>
<div class="block">The #of <code>DirectoryPage</code>s in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> (not buddy hash
 tables, but the pages on which they appear).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#getRecordVersion()">getRecordVersion</a></strong>()</code>
<div class="block">The value of the record version number that will be assigned to the next
 node or leaf written onto the backing store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#getRevisionTimestamp()">getRevisionTimestamp</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#getRootAddr()">getRootAddr</a></strong>()</code>
<div class="block">The address of the last written root of the persistent data structure
 -or- <code>0L</code> if there is no root.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#handleCommit(long)">handleCommit</a></strong>(long&nbsp;commitTime)</code>
<div class="block">Flush dirty state to the store in preparation for an atomic commit and
 return the address from which the persistence capable data structure may
 be reloaded.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#insert(byte[],%20byte[])">insert</a></strong>(byte[]&nbsp;key,
      byte[]&nbsp;value)</code>
<div class="block">Insert a tuple into the hash tree.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#insert(int,%20byte[])">insert</a></strong>(int&nbsp;key,
      byte[]&nbsp;val)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#insert(java.lang.Object)">insert</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;obj)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#insertRawTuple(com.bigdata.htree.BucketPage,%20int)">insertRawTuple</a></strong>(com.bigdata.htree.BucketPage&nbsp;src,
              int&nbsp;slot)</code>
<div class="block">Insert a tuple into the hash tree.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#invalidate(java.lang.Throwable)">invalidate</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">Mark an <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal"><code>ICommitter</code></a> as invalid.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#load(com.bigdata.rawstore.IRawStore,%20long,%20boolean)">load</a></strong>(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
    long&nbsp;addrCheckpoint,
    boolean&nbsp;readOnly)</code>
<div class="block">Load an instance of a <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class from the store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.bigdata.htree.AbstractPage</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#locatePageForKey(byte[])">locatePageForKey</a></strong>(byte[]&nbsp;key)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ITupleIterator.html" title="interface in com.bigdata.btree">ITupleIterator</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#lookupAll(byte[])">lookupAll</a></strong>(byte[]&nbsp;key)</code>
<div class="block">Return an iterator which will visit each tuple in the index having the
 specified key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ITupleIterator.html" title="interface in com.bigdata.btree">ITupleIterator</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#lookupAll(int)">lookupAll</a></strong>(int&nbsp;key)</code>
<div class="block">Return an iterator which will visit each tuple in the index having the
 specified key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#lookupFirst(byte[])">lookupFirst</a></strong>(byte[]&nbsp;key)</code>
<div class="block">Return the first value for the key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#lookupFirst(int)">lookupFirst</a></strong>(int&nbsp;key)</code>
<div class="block">Return the first value for the key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#needsCheckpoint()">needsCheckpoint</a></strong>()</code>
<div class="block">Return true iff changes would be lost unless the B+Tree is flushed to the
 backing store using <a href="../../../com/bigdata/htree/HTree.html#writeCheckpoint()"><code>writeCheckpoint()</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#rangeCount()">rangeCount</a></strong>()</code>
<div class="block">The #of index entries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#recycle(long)">recycle</a></strong>(long&nbsp;addr)</code>
<div class="block">Recycle (aka delete) the allocation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#remove(byte[])">remove</a></strong>(byte[]&nbsp;key)</code>
<div class="block">Removes a single entry matching the key supplied.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#removeAll()">removeAll</a></strong>()</code>
<div class="block">Remove all entries in the index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#removeAll(byte[])">removeAll</a></strong>(byte[]&nbsp;key)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#setCheckpoint(com.bigdata.btree.Checkpoint)">setCheckpoint</a></strong>(<a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;checkpoint)</code>
<div class="block">Sets the <a href="../../../com/bigdata/htree/HTree.html#checkpoint"><code>checkpoint</code></a> and initializes the mutable fields from the
 checkpoint record.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#setDirtyListener(com.bigdata.btree.IDirtyListener)">setDirtyListener</a></strong>(<a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;listener)</code>
<div class="block">Set or clear the listener (there can be only one).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#setIndexMetadata(com.bigdata.btree.HTreeIndexMetadata)">setIndexMetadata</a></strong>(<a href="../../../com/bigdata/btree/HTreeIndexMetadata.html" title="class in com.bigdata.btree">HTreeIndexMetadata</a>&nbsp;indexMetadata)</code>
<div class="block">Method updates the index metadata associated with this <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#setLastCommitTime(long)">setLastCommitTime</a></strong>(long&nbsp;lastCommitTime)</code>
<div class="block">Sets the lastCommitTime.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#writeCheckpoint()">writeCheckpoint</a></strong>()</code>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/htree/HTree.html#writeCheckpoint2()">writeCheckpoint2</a></strong>()</code>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.htree.AbstractHTree">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.htree.<a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">AbstractHTree</a></h3>
<code><a href="../../../com/bigdata/htree/AbstractHTree.html#assertNotReadOnly()">assertNotReadOnly</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#assertNotTransient()">assertNotTransient</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#checkConsistency(com.bigdata.htree.AbstractPage,%20boolean)">checkConsistency</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#checkConsistency(boolean)">checkConsistency</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#close()">close</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#decodeRecordAddr(byte[])">decodeRecordAddr</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#dump(org.apache.log4j.Level,%20java.io.PrintStream,%20boolean)">dump</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#dump(java.io.PrintStream)">dump</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#encodeRecordAddr(com.bigdata.io.ByteArrayBuffer,%20long)">encodeRecordAddr</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#getAddressBits()">getAddressBits</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#getBtreeCounters()">getBtreeCounters</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#getCounters()">getCounters</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#getHeight()">getHeight</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#getIndexMetadata()">getIndexMetadata</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#getNodeSerializer()">getNodeSerializer</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#getReadLockCount()">getReadLockCount</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#getRoot()">getRoot</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#getStore()">getStore</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#isBalanced()">isBalanced</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#isOpen()">isOpen</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#isReadOnly()">isReadOnly</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#isTransient()">isTransient</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#rangeIterator()">rangeIterator</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#readLock()">readLock</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#readNodeOrLeaf(long)">readNodeOrLeaf</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#reopen()">reopen</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#scan()">scan</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#setBTreeCounters(com.bigdata.btree.BTreeCounters)">setBTreeCounters</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#toString()">toString</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#touch(com.bigdata.htree.AbstractPage)">touch</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#values()">values</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#writeLock()">writeLock</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#writeNodeOrLeaf(com.bigdata.htree.AbstractPage)">writeNodeOrLeaf</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#writeNodeRecursive(com.bigdata.htree.AbstractPage)">writeNodeRecursive</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#writeNodeRecursiveCallersThread(com.bigdata.htree.AbstractPage)">writeNodeRecursiveCallersThread</a>, <a href="../../../com/bigdata/htree/AbstractHTree.html#writeNodeRecursiveConcurrent(com.bigdata.htree.AbstractPage)">writeNodeRecursiveConcurrent</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="nnodes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nnodes</h4>
<pre>protected&nbsp;long nnodes</pre>
<div class="block">The #of <code>DirectoryPage</code> in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>. This is ONE (1) for a
 new <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</div>
</li>
</ul>
<a name="nleaves">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nleaves</h4>
<pre>protected&nbsp;long nleaves</pre>
<div class="block">The #of <code>BucketPage</code>s in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>. This is one (1) for a
 new <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> (one directory page and one bucket page).</div>
</li>
</ul>
<a name="nentries">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nentries</h4>
<pre>protected&nbsp;long nentries</pre>
<div class="block">The #of entries in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>. This is ZERO (0) for a new
 <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</div>
</li>
</ul>
<a name="recordVersion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordVersion</h4>
<pre>protected&nbsp;long recordVersion</pre>
<div class="block">The value of the record version number that will be assigned to the next
 node or leaf written onto the backing store. This number is incremented
 each time a node or leaf is written onto the backing store. The initial
 value is ZERO (0). The first value assigned to a node or leaf will be
 ZERO (0).</div>
</li>
</ul>
<a name="counter">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>counter</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicLong.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicLong</a> counter</pre>
<div class="block">The mutable counter exposed by #getCounter()}.
 <p>
 Note: This is <code>protected</code> so that it will be visible to
 <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> which needs to write the actual value store in this
 counter into its serialized record (without the partition identifier).</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="HTree(com.bigdata.rawstore.IRawStore, com.bigdata.btree.Checkpoint, com.bigdata.btree.IndexMetadata, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HTree</h4>
<pre>public&nbsp;HTree(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
     <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;checkpoint,
     <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata,
     boolean&nbsp;readOnly)</pre>
<div class="block">Required constructor form for <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> and any derived subclasses.
 This constructor is used both to create a new <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>, and to load
 a <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> from the store using a <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>store</code> - The store.</dd><dd><code>checkpoint</code> - A <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record for that <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</dd><dd><code>metadata</code> - The metadata record for that <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</dd><dd><code>readOnly</code> - When <code>true</code> the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> will be immutable.</dd><dt><span class="strong">See Also:</span></dt><dd><code>HTree#create(IRawStore, IndexMetadata)</code>, 
<a href="../../../com/bigdata/htree/HTree.html#load(com.bigdata.rawstore.IRawStore,%20long,%20boolean)"><code>load(IRawStore, long, boolean)</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getNodeCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNodeCount</h4>
<pre>public final&nbsp;long&nbsp;getNodeCount()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html#getNodeCount()">AbstractHTree</a></code></strong></div>
<div class="block">The #of <code>DirectoryPage</code>s in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> (not buddy hash
 tables, but the pages on which they appear).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ISimpleTreeIndexAccess.html#getNodeCount()">getNodeCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleTreeIndexAccess.html" title="interface in com.bigdata.btree">ISimpleTreeIndexAccess</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/htree/AbstractHTree.html#getNodeCount()">getNodeCount</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">AbstractHTree</a></code></dd>
</dl>
</li>
</ul>
<a name="getLeafCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeafCount</h4>
<pre>public final&nbsp;long&nbsp;getLeafCount()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html#getLeafCount()">AbstractHTree</a></code></strong></div>
<div class="block">The #of <code>BucketPage</code>s in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> (not buddy hash buckets,
 but the pages on which they appear).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ISimpleTreeIndexAccess.html#getLeafCount()">getLeafCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleTreeIndexAccess.html" title="interface in com.bigdata.btree">ISimpleTreeIndexAccess</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/htree/AbstractHTree.html#getLeafCount()">getLeafCount</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">AbstractHTree</a></code></dd>
</dl>
</li>
</ul>
<a name="getEntryCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEntryCount</h4>
<pre>public final&nbsp;long&nbsp;getEntryCount()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html#getEntryCount()">AbstractHTree</a></code></strong></div>
<div class="block">The #of tuples in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ISimpleTreeIndexAccess.html#getEntryCount()">getEntryCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleTreeIndexAccess.html" title="interface in com.bigdata.btree">ISimpleTreeIndexAccess</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/htree/AbstractHTree.html#getEntryCount()">getEntryCount</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">AbstractHTree</a></code></dd>
</dl>
</li>
</ul>
<a name="getCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCheckpoint</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;getCheckpoint()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getCheckpoint()">ICheckpointProtocol</a></code></strong></div>
<div class="block">Returns the most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getCheckpoint()">getCheckpoint</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The most recent <a href="../../../com/bigdata/btree/ICheckpoint.html" title="interface in com.bigdata.btree"><code>ICheckpoint</code></a> record and never
         <code>null</code>.</dd></dl>
</li>
</ul>
<a name="getRecordVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordVersion</h4>
<pre>public final&nbsp;long&nbsp;getRecordVersion()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getRecordVersion()">ICheckpointProtocol</a></code></strong></div>
<div class="block">The value of the record version number that will be assigned to the next
 node or leaf written onto the backing store. This number is incremented
 each time a node or leaf is written onto the backing store. The initial
 value is ZERO (0). The first value assigned to a node or leaf will be
 ZERO (0).
 
 TODO Nobody is actually incrementing this value right now.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getRecordVersion()">getRecordVersion</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
</dl>
</li>
</ul>
<a name="getMetadataAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataAddr</h4>
<pre>public final&nbsp;long&nbsp;getMetadataAddr()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getMetadataAddr()">ICheckpointProtocol</a></code></strong></div>
<div class="block">The address at which the most recent <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> record was
 written.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getMetadataAddr()">getMetadataAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
</dl>
</li>
</ul>
<a name="getRootAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootAddr</h4>
<pre>public final&nbsp;long&nbsp;getRootAddr()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getRootAddr()">ICheckpointProtocol</a></code></strong></div>
<div class="block">The address of the last written root of the persistent data structure
 -or- <code>0L</code> if there is no root. A <code>0L</code> return may be
 an indication that an empty data structure will be created on demand.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getRootAddr()">getRootAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
</dl>
</li>
</ul>
<a name="needsCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>needsCheckpoint</h4>
<pre>public&nbsp;boolean&nbsp;needsCheckpoint()</pre>
<div class="block">Return true iff changes would be lost unless the B+Tree is flushed to the
 backing store using <a href="../../../com/bigdata/htree/HTree.html#writeCheckpoint()"><code>writeCheckpoint()</code></a>.
 <p>
 Note: In order to avoid needless checkpoints this method will return
 <code>false</code> if:
 <ul>
 <li> the metadata record is persistent -AND-
 <ul>
 <li> EITHER the root is <code>null</code>, indicating that the index
 is closed (in which case there are no buffered writes);</li>
 <li> OR the root of the btree is NOT dirty, the persistent address of the
 root of the btree agrees with <a href="../../../com/bigdata/btree/Checkpoint.html#getRootAddr()"><code>Checkpoint.getRootAddr()</code></a>, and the
 <a href="../../../com/bigdata/htree/HTree.html#counter"><code>counter</code></a> value agrees <a href="../../../com/bigdata/btree/Checkpoint.html#getCounter()"><code>Checkpoint.getCounter()</code></a>.</li>
 </ul>
 </li>
 </ul></div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> true iff changes would be lost unless the
         B+Tree was flushed to the backing store using
         <a href="../../../com/bigdata/htree/HTree.html#writeCheckpoint()"><code>writeCheckpoint()</code></a>.</dd></dl>
</li>
</ul>
<a name="setIndexMetadata(com.bigdata.btree.HTreeIndexMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIndexMetadata</h4>
<pre>public final&nbsp;void&nbsp;setIndexMetadata(<a href="../../../com/bigdata/btree/HTreeIndexMetadata.html" title="class in com.bigdata.btree">HTreeIndexMetadata</a>&nbsp;indexMetadata)</pre>
<div class="block">Method updates the index metadata associated with this <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>.
 The new metadata record will be written out as part of the next index
 <a href="../../../com/bigdata/htree/HTree.html#writeCheckpoint()"><code>writeCheckpoint()</code></a>.
 <p>
 Note: this method should be used with caution.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>indexMetadata</code> - The new metadata description for the <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the new value is <code>null</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the new <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> record has already been
             written on the store - see
             <a href="../../../com/bigdata/btree/IndexMetadata.html#getMetadataAddr()"><code>IndexMetadata.getMetadataAddr()</code></a></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if the index is read-only.</dd></dl>
</li>
</ul>
<a name="handleCommit(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleCommit</h4>
<pre>public&nbsp;long&nbsp;handleCommit(long&nbsp;commitTime)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/ICommitter.html#handleCommit(long)">ICommitter</a></code></strong></div>
<div class="block">Flush dirty state to the store in preparation for an atomic commit and
 return the address from which the persistence capable data structure may
 be reloaded.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/ICommitter.html#handleCommit(long)">handleCommit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>commitTime</code> - The timestamp assigned to the commit.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The address of the record from which the persistence capable data
         structure may be reloaded. If no changes have been made then the
         previous address should be returned as it is still valid.</dd></dl>
</li>
</ul>
<a name="invalidate(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidate</h4>
<pre>public&nbsp;void&nbsp;invalidate(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/ICommitter.html#invalidate(java.lang.Throwable)">ICommitter</a></code></strong></div>
<div class="block">Mark an <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal"><code>ICommitter</code></a> as invalid. This will prevent it from allowing
 any writes through to the backing store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/ICommitter.html#invalidate(java.lang.Throwable)">invalidate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>t</code> - A cause (required).</dd><dt><span class="strong">See Also:</span></dt><dd><code>https://jira.blazegraph.com/browse/BLZG-1953</code></dd></dl>
</li>
</ul>
<a name="getCounter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCounter</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/ICounter.html" title="interface in com.bigdata.btree">ICounter</a>&nbsp;getCounter()</pre>
<div class="block">Returns an <a href="../../../com/bigdata/btree/ICounter.html" title="interface in com.bigdata.btree"><code>ICounter</code></a>. The <a href="../../../com/bigdata/btree/ICounter.html" title="interface in com.bigdata.btree"><code>ICounter</code></a> is mutable iff the
 <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> is mutable. All <a href="../../../com/bigdata/btree/ICounter.html" title="interface in com.bigdata.btree"><code>ICounter</code></a>s returned by this method
 report and increment the same underlying counter.
 <p>
 Note: When the <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> is part of a scale-out index then the
 counter will assign values within a namespace defined by the partition
 identifier.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/IIndexLocalCounter.html#getCounter()">getCounter</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/IIndexLocalCounter.html" title="interface in com.bigdata.btree">IIndexLocalCounter</a></code></dd>
</dl>
</li>
</ul>
<a name="setCheckpoint(com.bigdata.btree.Checkpoint)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCheckpoint</h4>
<pre>protected&nbsp;void&nbsp;setCheckpoint(<a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;checkpoint)</pre>
<div class="block">Sets the <a href="../../../com/bigdata/htree/HTree.html#checkpoint"><code>checkpoint</code></a> and initializes the mutable fields from the
 checkpoint record. In order for this operation to be atomic, the caller
 must be synchronized on the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or otherwise guaranteed to have
 exclusive access, e.g., during the ctor or when the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> is
 mutable and access is therefore required to be single-threaded.</div>
</li>
</ul>
<a name="_reopen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_reopen</h4>
<pre>protected&nbsp;void&nbsp;_reopen()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html#_reopen()">AbstractHTree</a></code></strong></div>
<div class="block">This method is responsible for setting up the root leaf (either new or
 read from the store), the bloom filter, etc. It is invoked by
 <a href="../../../com/bigdata/htree/AbstractHTree.html#reopen()"><code>AbstractHTree.reopen()</code></a> once <a href="../../../com/bigdata/htree/AbstractHTree.html#root"><code>AbstractHTree.root</code></a> has been show to be
 <code>null</code> with double-checked locking. When invoked in this
 context, the caller is guaranteed to hold a lock on <i>this</i>. This is
 done to ensure that at most one thread gets to re-open the index from the
 backing store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/htree/AbstractHTree.html#_reopen()">_reopen</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">AbstractHTree</a></code></dd>
</dl>
</li>
</ul>
<a name="getLastCommitTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastCommitTime</h4>
<pre>public final&nbsp;long&nbsp;getLastCommitTime()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html#getLastCommitTime()">AbstractHTree</a></code></strong></div>
<div class="block">The timestamp associated with the last <a href="../../../com/bigdata/journal/IAtomicStore.html#commit()"><code>IAtomicStore.commit()</code></a> in
 which writes buffered by this index were made restart-safe on the backing
 store. The lastCommitTime is set when the index is loaded from the
 backing store and updated after each commit. It is ZERO (0L) when
 <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> is first created and will remain ZERO (0L) until the
 <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> is committed.  If the backing store does not support atomic
 commits, then this value will always be ZERO (0L).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getLastCommitTime()">getLastCommitTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/htree/AbstractHTree.html#getLastCommitTime()">getLastCommitTime</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">AbstractHTree</a></code></dd>
</dl>
</li>
</ul>
<a name="getRevisionTimestamp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRevisionTimestamp</h4>
<pre>public final&nbsp;long&nbsp;getRevisionTimestamp()</pre>
</li>
</ul>
<a name="setLastCommitTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastCommitTime</h4>
<pre>public final&nbsp;void&nbsp;setLastCommitTime(long&nbsp;lastCommitTime)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setLastCommitTime(long)">ICheckpointProtocol</a></code></strong></div>
<div class="block">Sets the lastCommitTime.
 <p>
 Note: The lastCommitTime is set by a combination of the
 <a href="../../../com/bigdata/journal/AbstractJournal.html" title="class in com.bigdata.journal"><code>AbstractJournal</code></a> and <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> based on the actual
 commitTime of the commit during which an <a href="../../../com/bigdata/journal/Name2Addr.Entry.html" title="class in com.bigdata.journal"><code>Name2Addr.Entry</code></a> for that index was
 last committed. It is set for both historical index reads and unisolated
 index reads using <a href="../../../com/bigdata/journal/Name2Addr.Entry.html#commitTime"><code>Name2Addr.Entry.commitTime</code></a>. The lastCommitTime for an
 unisolated index will advance as commits are performed with that index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setLastCommitTime(long)">setLastCommitTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>lastCommitTime</code> - The timestamp of the last committed state of this index.</dd></dl>
</li>
</ul>
<a name="getDirtyListener()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDirtyListener</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;getDirtyListener()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getDirtyListener()">ICheckpointProtocol</a></code></strong></div>
<div class="block">Return the <a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree"><code>IDirtyListener</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#getDirtyListener()">getDirtyListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
</dl>
</li>
</ul>
<a name="setDirtyListener(com.bigdata.btree.IDirtyListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDirtyListener</h4>
<pre>public final&nbsp;void&nbsp;setDirtyListener(<a href="../../../com/bigdata/btree/IDirtyListener.html" title="interface in com.bigdata.btree">IDirtyListener</a>&nbsp;listener)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setDirtyListener(com.bigdata.btree.IDirtyListener)">ICheckpointProtocol</a></code></strong></div>
<div class="block">Set or clear the listener (there can be only one).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#setDirtyListener(com.bigdata.btree.IDirtyListener)">setDirtyListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The listener.</dd></dl>
</li>
</ul>
<a name="fireDirtyEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fireDirtyEvent</h4>
<pre>protected final&nbsp;void&nbsp;fireDirtyEvent()</pre>
<div class="block">Fire an event to the listener (iff set).</div>
</li>
</ul>
<a name="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public final&nbsp;boolean&nbsp;flush()</pre>
<div class="block">Flush the nodes of the <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> to the backing store. After invoking
 this method the root of the <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> will be clean.
 <p>
 Note: This does NOT flush all persistent state. See
 <a href="../../../com/bigdata/htree/HTree.html#writeCheckpoint()"><code>writeCheckpoint()</code></a> which also handles the optional bloom filter,
 the <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a>, and the <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record itself.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if anything was written.</dd></dl>
</li>
</ul>
<a name="asReadOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asReadOnly</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a>&nbsp;asReadOnly()</pre>
<div class="block">Returns an immutable view of this <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>. If <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> is
 already read-only, then <i>this</i> instance is returned. Otherwise, a
 read-only <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> is loaded from the last checkpoint and returned.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If the <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> is dirty.</dd></dl>
</li>
</ul>
<a name="writeCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCheckpoint</h4>
<pre>public final&nbsp;long&nbsp;writeCheckpoint()</pre>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.
 <p>
 Note: A checkpoint by itself is NOT an atomic commit. The commit protocol
 is at the store level and uses <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>s to ensure that the
 state of the persistence capable data structure is current on the backing
 store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#writeCheckpoint()">writeCheckpoint</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The address at which the <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record for the
         persistence capable was written onto the store. The data
         structure can be reloaded from this <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd><dt><span class="strong">See Also:</span></dt><dd><code>#load(IRawStore, long)</code></dd></dl>
</li>
</ul>
<a name="writeCheckpoint2()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCheckpoint2</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree">Checkpoint</a>&nbsp;writeCheckpoint2()</pre>
<div class="block">Checkpoint operation must <code>#flush()</code> dirty nodes, dirty persistent
 data structures, etc, write a new <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record on the
 backing store, save a reference to the current <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>, and
 return the address of that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.
 <p>
 Note: A checkpoint by itself is NOT an atomic commit. The commit protocol
 is at the store level and uses <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>s to ensure that the
 state of the persistence capable data structure is current on the backing
 store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#writeCheckpoint2()">writeCheckpoint2</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record for the persistent data structure
         which was written onto the store. The persistent data structure
         can be reloaded from this <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd><dt><span class="strong">See Also:</span></dt><dd><code>#load(IRawStore, long)</code></dd></dl>
</li>
</ul>
<a name="contains(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contains</h4>
<pre>public&nbsp;boolean&nbsp;contains(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;obj)</pre>
</li>
</ul>
<a name="contains(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contains</h4>
<pre>public&nbsp;boolean&nbsp;contains(int&nbsp;key)</pre>
</li>
</ul>
<a name="contains(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contains</h4>
<pre>public&nbsp;boolean&nbsp;contains(byte[]&nbsp;key)</pre>
<div class="block">Return <code>true</code> iff there is at least one tuple in the hash tree
 having the specified <i>key</i>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> iff the hash tree contains at least one tuple
         with that <i>key</i>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <i>key</i> is <code>null</code>.
 
             TODO Parallel to insert(), consider a contains() signature
             which permits testing for a specific value as well. Maybe
             in a wrapper class?</dd></dl>
</li>
</ul>
<a name="lookupFirst(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lookupFirst</h4>
<pre>public&nbsp;byte[]&nbsp;lookupFirst(int&nbsp;key)</pre>
<div class="block">Return the first value for the key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The first value for the key -or- <code>null</code> if there are
         no tuples in the index having that key. Note that the return
         value is not diagnostic if the application allows
         <code>null</code> values into the index.</dd></dl>
</li>
</ul>
<a name="lookupFirst(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lookupFirst</h4>
<pre>public&nbsp;byte[]&nbsp;lookupFirst(byte[]&nbsp;key)</pre>
<div class="block">Return the first value for the key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The first value for the key -or- <code>null</code> if there are
         no tuples in the index having that key. Note that the return
         value is not diagnostic if the application allows
         <code>null</code> values into the index.</dd></dl>
</li>
</ul>
<a name="lookupAll(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lookupAll</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/ITupleIterator.html" title="interface in com.bigdata.btree">ITupleIterator</a>&nbsp;lookupAll(int&nbsp;key)</pre>
<div class="block">Return an iterator which will visit each tuple in the index having the
 specified key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The iterator and never <code>null</code>.</dd></dl>
</li>
</ul>
<a name="lookupAll(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lookupAll</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/ITupleIterator.html" title="interface in com.bigdata.btree">ITupleIterator</a>&nbsp;lookupAll(byte[]&nbsp;key)</pre>
<div class="block">Return an iterator which will visit each tuple in the index having the
 specified key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The iterator and never <code>null</code>.</dd></dl>
</li>
</ul>
<a name="insert(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public&nbsp;void&nbsp;insert(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;obj)</pre>
</li>
</ul>
<a name="insert(int, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public&nbsp;void&nbsp;insert(int&nbsp;key,
          byte[]&nbsp;val)</pre>
</li>
</ul>
<a name="insert(byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public&nbsp;byte[]&nbsp;insert(byte[]&nbsp;key,
            byte[]&nbsp;value)</pre>
<div class="block">Insert a tuple into the hash tree. Tuples with duplicate keys and even
 tuples with duplicate keys and values are allowed and will result in
 multiple tuples.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key.</dd><dd><code>value</code> - The value.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>null</code> (always).
 
         TODO If the application wants to restrict the hash tree to such
         that it does not contain duplicate tuples then it must first
         search in the tree for an exact match (key and value). It is
         easier to do that from within the insert logic so expand the
         method signature to pass an insert enum {ALLDUPS,DUPKEYS,NODUPS}.</dd></dl>
</li>
</ul>
<a name="insertRawTuple(com.bigdata.htree.BucketPage, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertRawTuple</h4>
<pre>protected&nbsp;void&nbsp;insertRawTuple(com.bigdata.htree.BucketPage&nbsp;src,
                  int&nbsp;slot)</pre>
<div class="block">Insert a tuple into the hash tree. Tuples with duplicate keys and even
 tuples with duplicate keys and values are allowed and will result in
 multiple tuples.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>src</code> - The source <code>BucketPage</code> src</dd><dd><code>slot</code> - The slot in the source <code>BucketPage</code> whose tuple will be
            inserted (really copied).</dd></dl>
</li>
</ul>
<a name="remove(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;byte[]&nbsp;remove(byte[]&nbsp;key)</pre>
<div class="block">Removes a single entry matching the key supplied.
 The HTree provides no guarantee that the order in which a value
 with a duplicate key is added will be the order in which it
 would be removed - FIFO.  It is more likely to be in LIFO</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>the value removed or null if none found</dd></dl>
</li>
</ul>
<a name="removeAll(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAll</h4>
<pre>public&nbsp;int&nbsp;removeAll(byte[]&nbsp;key)</pre>
</li>
</ul>
<a name="locatePageForKey(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locatePageForKey</h4>
<pre>protected&nbsp;com.bigdata.htree.AbstractPage&nbsp;locatePageForKey(byte[]&nbsp;key)</pre>
</li>
</ul>
<a name="removeAll()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAll</h4>
<pre>public&nbsp;void&nbsp;removeAll()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#removeAll()">ISimpleIndexAccess</a></code></strong></div>
<div class="block">Remove all entries in the index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#removeAll()">removeAll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a></code></dd>
</dl>
</li>
</ul>
<a name="rangeCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rangeCount</h4>
<pre>public&nbsp;long&nbsp;rangeCount()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html#rangeCount()">AbstractHTree</a></code></strong></div>
<div class="block">The #of index entries.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html#rangeCount()">rangeCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ISimpleIndexAccess.html" title="interface in com.bigdata.btree">ISimpleIndexAccess</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/htree/AbstractHTree.html#rangeCount()">rangeCount</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/htree/AbstractHTree.html" title="class in com.bigdata.htree">AbstractHTree</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of tuples in the index.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/IRangeQuery.html#rangeCount()"><code>IRangeQuery.rangeCount()</code></a></dd></dl>
</li>
</ul>
<a name="dumpPages(boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dumpPages</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/BaseIndexStats.html" title="class in com.bigdata.btree">BaseIndexStats</a>&nbsp;dumpPages(boolean&nbsp;recursive,
                       boolean&nbsp;visitLeaves)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#dumpPages(boolean,%20boolean)">ICheckpointProtocol</a></code></strong></div>
<div class="block">Reports statistics for the index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html#dumpPages(boolean,%20boolean)">dumpPages</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>recursive</code> - When <code>true</code>, also collects statistics on the pages
           (nodes and leaves) using a low-level approach.</dd><dd><code>visitLeaves</code> - When <code>true</code> and <code>recursive:=true</code> then the
           leaves of the index are also visited.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Some interesting statistics about the index (and optionally the
         pages in that index) which the caller can print out.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="http://trac.bigdata.com/ticket/1050" > pre-heat the journal
      on startup </a></dd></dl>
</li>
</ul>
<a name="create(com.bigdata.rawstore.IRawStore, com.bigdata.btree.HTreeIndexMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;<a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a>&nbsp;create(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
           <a href="../../../com/bigdata/btree/HTreeIndexMetadata.html" title="class in com.bigdata.btree">HTreeIndexMetadata</a>&nbsp;metadata)</pre>
<div class="block">Create a new <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class. This method works by writing
 the <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> record on the store and then loading the
 <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> from the <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> record.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>store</code> - The store.</dd><dd><code>metadata</code> - The metadata record.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The newly created <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If you attempt to create two <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> objects from the
             same metadata record since the metadata address will have
             already been noted on the <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> object. You
             can use <a href="../../../com/bigdata/btree/IndexMetadata.html#clone()"><code>IndexMetadata.clone()</code></a> to obtain a new copy of
             the metadata object with the metadata address set to
             <code>0L</code>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the <a href="../../../com/bigdata/btree/IndexTypeEnum.html" title="enum in com.bigdata.btree"><code>IndexTypeEnum</code></a> in the supplied
                <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> object is not
                <a href="../../../com/bigdata/btree/IndexTypeEnum.html#BTree"><code>IndexTypeEnum.BTree</code></a>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/htree/HTree.html#load(com.bigdata.rawstore.IRawStore,%20long,%20boolean)"><code>load(IRawStore, long, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="createTransient(com.bigdata.btree.HTreeIndexMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTransient</h4>
<pre>public static&nbsp;<a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a>&nbsp;createTransient(<a href="../../../com/bigdata/btree/HTreeIndexMetadata.html" title="class in com.bigdata.btree">HTreeIndexMetadata</a>&nbsp;metadata)</pre>
<div class="block">Create a new <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class that is fully transient (NO
 backing <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a>).
 <p>
 Fully transient <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>s provide the functionality of a <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>
 without a backing persistence store. Internally, reachable nodes and
 leaves of the transient <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> use hard references to ensure that
 remain strongly reachable. Deleted nodes and leaves simply clear their
 references and will be swept by the garbage collector shortly thereafter.
 <p>
 Operations which attempt to write on the backing store will fail.
 <p>
 While nodes and leaves are never persisted, the keys and values of the
 transient <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> are unsigned byte[]s. This means that application
 keys and values are always converted into unsigned byte[]s before being
 stored in the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>. Hence if an object that is inserted into
 the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> and then looked up using the <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> API, you
 WILL NOT get back the same object reference.
 <p>
 Note: CLOSING A TRANSIENT INDEX WILL DISCARD ALL DATA!</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>metadata</code> - The metadata record.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The transient <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a>.</dd></dl>
</li>
</ul>
<a name="load(com.bigdata.rawstore.IRawStore, long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>public static&nbsp;<a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a>&nbsp;load(<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;store,
         long&nbsp;addrCheckpoint,
         boolean&nbsp;readOnly)</pre>
<div class="block">Load an instance of a <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class from the store. The
 <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class MUST declare a constructor with the
 following signature: <code>
 
 <i>className</i>(IRawStore store, Checkpoint checkpoint, IndexMetadata metadata, boolean readOnly)
 
 </code></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>store</code> - The store.</dd><dd><code>addrCheckpoint</code> - The address of a <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record for the index.</dd><dd><code>readOnly</code> - When <code>true</code> the <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> will be marked as
            read-only. Marking has some advantages relating to the locking
            scheme used by <a href="../../../com/bigdata/btree/Node.html#getChild(int)"><code>Node.getChild(int)</code></a> since the root node
            is known to be read-only at the time that it is allocated as
            per-child locking is therefore in place for all nodes in the
            read-only <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>. It also results in much higher
            concurrency for <a href="../../../com/bigdata/btree/AbstractBTree.html#touch(com.bigdata.btree.AbstractNode)"><code>AbstractBTree.touch(AbstractNode)</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree"><code>HTree</code></a> or derived class loaded from that
         <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if store is <code>null</code>.</dd></dl>
</li>
</ul>
<a name="recycle(long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>recycle</h4>
<pre>protected&nbsp;int&nbsp;recycle(long&nbsp;addr)</pre>
<div class="block">Recycle (aka delete) the allocation. This method also adjusts the #of
 bytes released in the <a href="../../../com/bigdata/btree/BTreeCounters.html" title="class in com.bigdata.btree"><code>BTreeCounters</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The address to be recycled.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of bytes which were recycled and ZERO (0) if the address is
         <a href="../../../com/bigdata/rawstore/IAddressManager.html#NULL"><code>IAddressManager.NULL</code></a>.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HTree.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/htree/DefaultEvictionListener.html" title="class in com.bigdata.htree"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/htree/HTreePageStats.html" title="class in com.bigdata.htree"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/htree/HTree.html" target="_top">Frames</a></li>
<li><a href="HTree.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_com.bigdata.htree.AbstractHTree">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
