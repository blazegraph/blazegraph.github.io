<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Sat Jun 18 19:37:36 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>HardReferenceQueue (Blazegraph Database Platform 2.1.2 API)</title>
<meta name="date" content="2016-06-18">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HardReferenceQueue (Blazegraph Database Platform 2.1.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HardReferenceQueue.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/cache/ConcurrentWeakValueCacheWithTimeout.html" title="class in com.bigdata.cache"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/cache/HardReferenceQueue.html" target="_top">Frames</a></li>
<li><a href="HardReferenceQueue.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.cache</div>
<h2 title="Class HardReferenceQueue" class="title">Class HardReferenceQueue&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/cache/RingBuffer.html" title="class in com.bigdata.cache">com.bigdata.cache.RingBuffer</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li>com.bigdata.cache.HardReferenceQueue&lt;T&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - The reference type stored in the cache.</dd></dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;T&gt;, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;T&gt;, <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;T&gt;, <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;T&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../com/bigdata/btree/MyHardReferenceQueue.html" title="class in com.bigdata.btree">MyHardReferenceQueue</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">HardReferenceQueue&lt;T&gt;</span>
extends <a href="../../../com/bigdata/cache/RingBuffer.html" title="class in com.bigdata.cache">RingBuffer</a>&lt;T&gt;
implements <a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;T&gt;</pre>
<div class="block"><p>
 A cache for hard references using an LRU policy. References are simply
 cached, but objects are not recoverable from their reference. In order to
 make an object recoverable, this cache must be wrapped by a weak reference
 cache that implements a hash map for discovery of objects using their
 persistent identifier. The <a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="class in com.bigdata.cache"><code>HardReferenceQueue</code></a> has a capacity that
 determines the #of hard references that may be cached before an object is
 evicted from the cache. Objects may be stored multiple times on the cache but
 the nscan most recent references are always tested before appending a
 reference to the cache in order to minimize cache churn when an object is
 touched repeatedly in close succession. Likewise, eviction does not mean that
 the object is no longer on the hard reference cache, nor does eviction mean
 that no hard references to the object exist within the VM. However, eviction
 is nevertheless used to drive persistence of the object. Since an object may
 be evicted multiple times without being updated in between evictions, this
 requires the object to implement a protocol for determining whether or not it
 is dirty. Eviction is then contingent on that protocol and the dirty state of
 the object is reset when it is serialized for eviction. In combination with
 the object's dirty protocol, the hard reference cache can substitute for a
 commit list.
 </p>
 <p>
 Note: This implementation is NOT synchronized.
 </p></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueue.html#nscan">nscan</a></strong></code>
<div class="block">The #of references to scan backwards from the LRU position when testing
 for whether or not a reference is already in the cache.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.cache.RingBuffer">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.cache.<a href="../../../com/bigdata/cache/RingBuffer.html" title="class in com.bigdata.cache">RingBuffer</a></h3>
<code><a href="../../../com/bigdata/cache/RingBuffer.html#capacity">capacity</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#size">size</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.cache.IHardReferenceQueue">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.bigdata.cache.<a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a></h3>
<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#DEFAULT_NSCAN">DEFAULT_NSCAN</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueue.html#HardReferenceQueue(com.bigdata.cache.HardReferenceQueueEvictionListener,%20int)">HardReferenceQueue</a></strong>(<a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache">HardReferenceQueueEvictionListener</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;&nbsp;listener,
                  int&nbsp;capacity)</code>
<div class="block">Uses the default #of references to scan on append requests.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueue.html#HardReferenceQueue(com.bigdata.cache.HardReferenceQueueEvictionListener,%20int,%20int)">HardReferenceQueue</a></strong>(<a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache">HardReferenceQueueEvictionListener</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;&nbsp;listener,
                  int&nbsp;capacity,
                  int&nbsp;nscan)</code>
<div class="block">Fully specified ctor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueue.html#add(T)">add</a></strong>(<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&nbsp;ref)</code>
<div class="block">Add a reference to the cache.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueue.html#beforeOffer(T)">beforeOffer</a></strong>(<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&nbsp;ref)</code>
<div class="block">Extended to evict the element at the tail of the buffer iff the buffer is
 full.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueue.html#evict()">evict</a></strong>()</code>
<div class="block">Evict the LRU reference.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueue.html#evictAll(boolean)">evictAll</a></strong>(boolean&nbsp;clearRefs)</code>
<div class="block">Evict all references, starting with the LRU reference and proceeding to
 the MRU reference.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache">HardReferenceQueueEvictionListener</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueue.html#getListener()">getListener</a></strong>()</code>
<div class="block">The  listener specified to the constructor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueue.html#nscan()">nscan</a></strong>()</code>
<div class="block">The #of references that are tested on append requests.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.cache.RingBuffer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.cache.<a href="../../../com/bigdata/cache/RingBuffer.html" title="class in com.bigdata.cache">RingBuffer</a></h3>
<code><a href="../../../com/bigdata/cache/RingBuffer.html#_get(int)">_get</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#addAll(java.util.Collection)">addAll</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#capacity()">capacity</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#clear()">clear</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#clear(boolean)">clear</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#contains(java.lang.Object)">contains</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#containsAll(java.util.Collection)">containsAll</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#element()">element</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#get(int)">get</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#isEmpty()">isEmpty</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#isFull()">isFull</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#iterator()">iterator</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#offer(T)">offer</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#peek()">peek</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#poll()">poll</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#remove()">remove</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#remove(java.lang.Object)">remove</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#removeAll(java.util.Collection)">removeAll</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#retainAll(java.util.Collection)">retainAll</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#scanHead(int,%20T)">scanHead</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#scanTail(int,%20T)">scanTail</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#size()">size</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#toArray()">toArray</a>, <a href="../../../com/bigdata/cache/RingBuffer.html#toArray(TX[])">toArray</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.cache.IHardReferenceQueue">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.cache.<a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a></h3>
<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#capacity()">capacity</a>, <a href="../../../com/bigdata/cache/IHardReferenceQueue.html#clear(boolean)">clear</a>, <a href="../../../com/bigdata/cache/IHardReferenceQueue.html#isEmpty()">isEmpty</a>, <a href="../../../com/bigdata/cache/IHardReferenceQueue.html#isFull()">isFull</a>, <a href="../../../com/bigdata/cache/IHardReferenceQueue.html#peek()">peek</a>, <a href="../../../com/bigdata/cache/IHardReferenceQueue.html#size()">size</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.util.Collection">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.util.<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.util">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true#hashCode()" title="class or interface in java.util">hashCode</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="nscan">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>nscan</h4>
<pre>protected final&nbsp;int nscan</pre>
<div class="block">The #of references to scan backwards from the LRU position when testing
 for whether or not a reference is already in the cache.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="HardReferenceQueue(com.bigdata.cache.HardReferenceQueueEvictionListener, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HardReferenceQueue</h4>
<pre>public&nbsp;HardReferenceQueue(<a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache">HardReferenceQueueEvictionListener</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;&nbsp;listener,
                  int&nbsp;capacity)</pre>
<div class="block">Uses the default #of references to scan on append requests.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The listener on which cache evictions are reported.</dd><dd><code>capacity</code> - The maximum #of references that can be stored on the cache.
            There is no guarantee that all stored references are distinct.</dd></dl>
</li>
</ul>
<a name="HardReferenceQueue(com.bigdata.cache.HardReferenceQueueEvictionListener, int, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HardReferenceQueue</h4>
<pre>public&nbsp;HardReferenceQueue(<a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache">HardReferenceQueueEvictionListener</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;&nbsp;listener,
                  int&nbsp;capacity,
                  int&nbsp;nscan)</pre>
<div class="block">Fully specified ctor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The listener on which cache evictions are reported (optional).</dd><dd><code>capacity</code> - The maximum #of references that can be stored on the cache.
            There is no guarantee that all stored references are distinct.</dd><dd><code>nscan</code> - The #of references to scan from the MRU position before
            appended a reference to the cache. Scanning is used to reduce
            the chance that references that are touched several times in
            near succession from entering the cache more than once. The
            #of reference tests trades off against the latency of adding a
            reference to the cache.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getListener()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getListener</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache">HardReferenceQueueEvictionListener</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;&nbsp;getListener()</pre>
<div class="block">The  listener specified to the constructor.</div>
</li>
</ul>
<a name="nscan()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nscan</h4>
<pre>public final&nbsp;int&nbsp;nscan()</pre>
<div class="block">The #of references that are tested on append requests.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#nscan()">nscan</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="add(java.lang.Object)">
<!--   -->
</a><a name="add(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;boolean&nbsp;add(<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&nbsp;ref)</pre>
<div class="block">Add a reference to the cache. If the reference was recently added to the
 cache then this is a NOP. Otherwise the reference is appended to the
 cache. If a reference is appended to the cache and then cache is at
 capacity, then the LRU reference is first evicted from the cache.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#add(T)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;</code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true#add(E)" title="class or interface in java.util">add</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;</code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true#add(E)" title="class or interface in java.util">add</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/RingBuffer.html#add(T)">add</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/cache/RingBuffer.html" title="class in com.bigdata.cache">RingBuffer</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>ref</code> - The reference to be added.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True iff the reference was added to the cache and false iff the
         reference was found in a scan of the nscan MRU cache entries.</dd></dl>
</li>
</ul>
<a name="beforeOffer(java.lang.Object)">
<!--   -->
</a><a name="beforeOffer(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeOffer</h4>
<pre>protected&nbsp;void&nbsp;beforeOffer(<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&nbsp;ref)</pre>
<div class="block">Extended to evict the element at the tail of the buffer iff the buffer is
 full.
 <p>
 Note: This hook is further extended to realize the stale reference
 protocol in <a href="../../../com/bigdata/cache/SynchronizedHardReferenceQueueWithTimeout.html" title="class in com.bigdata.cache"><code>SynchronizedHardReferenceQueueWithTimeout</code></a>.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/RingBuffer.html#beforeOffer(T)">beforeOffer</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/cache/RingBuffer.html" title="class in com.bigdata.cache">RingBuffer</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="evict()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evict</h4>
<pre>public final&nbsp;boolean&nbsp;evict()</pre>
<div class="block">Evict the LRU reference. This is a NOP iff the cache is empty.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#evict()">evict</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>true iff a reference was evicted.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache"><code>HardReferenceQueueEvictionListener</code></a></dd></dl>
</li>
</ul>
<a name="evictAll(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>evictAll</h4>
<pre>public final&nbsp;void&nbsp;evictAll(boolean&nbsp;clearRefs)</pre>
<div class="block">Evict all references, starting with the LRU reference and proceeding to
 the MRU reference.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#evictAll(boolean)">evictAll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueue.html" title="type parameter in HardReferenceQueue">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>clearRefs</code> - When true, the reference are actually cleared from the cache.
            This may be false to force persistence of the references in
            the cache without actually clearing the cache.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HardReferenceQueue.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/cache/ConcurrentWeakValueCacheWithTimeout.html" title="class in com.bigdata.cache"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/cache/HardReferenceQueue.html" target="_top">Frames</a></li>
<li><a href="HardReferenceQueue.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
