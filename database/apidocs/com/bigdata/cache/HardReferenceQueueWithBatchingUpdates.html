<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Sat Jun 18 19:37:36 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>HardReferenceQueueWithBatchingUpdates (Blazegraph Database Platform 2.1.2 API)</title>
<meta name="date" content="2016-06-18">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HardReferenceQueueWithBatchingUpdates (Blazegraph Database Platform 2.1.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HardReferenceQueueWithBatchingUpdates.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/cache/ICacheEntry.html" title="interface in com.bigdata.cache"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" target="_top">Frames</a></li>
<li><a href="HardReferenceQueueWithBatchingUpdates.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.cache</div>
<h2 title="Class HardReferenceQueueWithBatchingUpdates" class="title">Class HardReferenceQueueWithBatchingUpdates&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.cache.HardReferenceQueueWithBatchingUpdates&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;T&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">HardReferenceQueueWithBatchingUpdates&lt;T&gt;</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;T&gt;</pre>
<div class="block">A variant relying on thread-local <a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache"><code>IHardReferenceQueue</code></a>s to batch
 updates and thus minimize thread contention for the lock required to
 synchronize calls to <a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#add(T)"><code>add(Object)</code></a>.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.cache.IHardReferenceQueue">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.bigdata.cache.<a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a></h3>
<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#DEFAULT_NSCAN">DEFAULT_NSCAN</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#HardReferenceQueueWithBatchingUpdates(boolean,%20int,%20com.bigdata.cache.IHardReferenceQueue,%20int,%20int,%20int,%20com.bigdata.cache.IBatchedUpdateListener)">HardReferenceQueueWithBatchingUpdates</a></strong>(boolean&nbsp;threadLocalBuffers,
                                     int&nbsp;concurrencyLevel,
                                     <a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;&nbsp;sharedQueue,
                                     int&nbsp;threadLocalQueueNScan,
                                     int&nbsp;threadLocalQueueCapacity,
                                     int&nbsp;threadLocalTryLockSize,
                                     com.bigdata.cache.IBatchedUpdateListener&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;&nbsp;batchedUpdateListener)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#HardReferenceQueueWithBatchingUpdates(com.bigdata.cache.IHardReferenceQueue,%20int,%20int,%20int,%20com.bigdata.cache.IBatchedUpdateListener)">HardReferenceQueueWithBatchingUpdates</a></strong>(<a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;&nbsp;sharedQueue,
                                     int&nbsp;threadLocalQueueNScan,
                                     int&nbsp;threadLocalQueueCapacity,
                                     int&nbsp;threadLocalTryLockSize,
                                     com.bigdata.cache.IBatchedUpdateListener&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;&nbsp;batchedUpdateListener)</code>
<div class="block">Designated constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#add(T)">add</a></strong>(<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&nbsp;ref)</code>
<div class="block">Adds the reference to the thread-local queue, returning <code>true</code>
 iff the queue was modified as a result.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#capacity()">capacity</a></strong>()</code>
<div class="block">The capacity of the shared queue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#clear(boolean)">clear</a></strong>(boolean&nbsp;clearRefs)</code>
<div class="block">Discards the thread-local buffers and clears the backing ring buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#contains(java.lang.Object)">contains</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;ref)</code>
<div class="block">Not supported.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#evict()">evict</a></strong>()</code>
<div class="block">Not supported.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#evictAll(boolean)">evictAll</a></strong>(boolean&nbsp;clearRefs)</code>
<div class="block">Not supported.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#isEmpty()">isEmpty</a></strong>()</code>
<div class="block">Not supported.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#isFull()">isFull</a></strong>()</code>
<div class="block">Not supported.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#nscan()">nscan</a></strong>()</code>
<div class="block">The nscan value of the shared queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#offer(T)">offer</a></strong>(<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&nbsp;ref)</code>
<div class="block">Offers the reference to the thread-local queue, returning
 <code>true</code> iff the queue was modified as a result.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#peek()">peek</a></strong>()</code>
<div class="block">Not supported.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html#size()">size</a></strong>()</code>
<div class="block">The size of the shared queue (approximate).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="HardReferenceQueueWithBatchingUpdates(com.bigdata.cache.IHardReferenceQueue, int, int, int, com.bigdata.cache.IBatchedUpdateListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HardReferenceQueueWithBatchingUpdates</h4>
<pre>public&nbsp;HardReferenceQueueWithBatchingUpdates(<a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;&nbsp;sharedQueue,
                                     int&nbsp;threadLocalQueueNScan,
                                     int&nbsp;threadLocalQueueCapacity,
                                     int&nbsp;threadLocalTryLockSize,
                                     com.bigdata.cache.IBatchedUpdateListener&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;&nbsp;batchedUpdateListener)</pre>
<div class="block">Designated constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sharedQueue</code> - The backing <a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache"><code>IHardReferenceQueue</code></a>.</dd><dd><code>threadLocalQueueNScan</code> - The #of references to scan on the thread-local queue.</dd><dd><code>threadLocalQueueCapacity</code> - The capacity of the thread-local queues in which the updates
            are gathered before they are batched into the shared queue.
            This must be at least</dd><dd><code>threadLocalTryLockSize</code> - Once the thread-local queue is this full an attempt will be
            made to barge in on the lock and batch the updates to the
            shared queue. This feature may be disabled by passing ZERO
            (0).</dd></dl>
</li>
</ul>
<a name="HardReferenceQueueWithBatchingUpdates(boolean, int, com.bigdata.cache.IHardReferenceQueue, int, int, int, com.bigdata.cache.IBatchedUpdateListener)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HardReferenceQueueWithBatchingUpdates</h4>
<pre>public&nbsp;HardReferenceQueueWithBatchingUpdates(boolean&nbsp;threadLocalBuffers,
                                     int&nbsp;concurrencyLevel,
                                     <a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;&nbsp;sharedQueue,
                                     int&nbsp;threadLocalQueueNScan,
                                     int&nbsp;threadLocalQueueCapacity,
                                     int&nbsp;threadLocalTryLockSize,
                                     com.bigdata.cache.IBatchedUpdateListener&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;&nbsp;batchedUpdateListener)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int&nbsp;size()</pre>
<div class="block">The size of the shared queue (approximate).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#size()">size</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="capacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>capacity</h4>
<pre>public&nbsp;int&nbsp;capacity()</pre>
<div class="block">The capacity of the shared queue.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#capacity()">capacity</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="nscan()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nscan</h4>
<pre>public&nbsp;int&nbsp;nscan()</pre>
<div class="block">The nscan value of the shared queue.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#nscan()">nscan</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="evict()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evict</h4>
<pre>public&nbsp;boolean&nbsp;evict()</pre>
<div class="block">Not supported.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#evict()">evict</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>true iff a reference was evicted.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache"><code>HardReferenceQueueEvictionListener</code></a></dd></dl>
</li>
</ul>
<a name="evictAll(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evictAll</h4>
<pre>public&nbsp;void&nbsp;evictAll(boolean&nbsp;clearRefs)</pre>
<div class="block">Not supported.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#evictAll(boolean)">evictAll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>clearRefs</code> - When true, the reference are actually cleared from the cache.
            This may be false to force persistence of the references in
            the cache without actually clearing the cache.</dd></dl>
</li>
</ul>
<a name="isEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre>public&nbsp;boolean&nbsp;isEmpty()</pre>
<div class="block">Not supported.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#isEmpty()">isEmpty</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="isFull()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFull</h4>
<pre>public&nbsp;boolean&nbsp;isFull()</pre>
<div class="block">Not supported.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#isFull()">isFull</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="peek()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peek</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&nbsp;peek()</pre>
<div class="block">Not supported.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#peek()">peek</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="add(java.lang.Object)">
<!--   -->
</a><a name="add(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public final&nbsp;boolean&nbsp;add(<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&nbsp;ref)</pre>
<div class="block">Adds the reference to the thread-local queue, returning <code>true</code>
 iff the queue was modified as a result.
 <p>
 When using true thread-local buffers, this is non-blocking unless the
 thread-local queue is full. If the thread-local queue is full, the
 existing references will be batched first onto the shared queue.
 <p>
 Contention can arise when using striped locks. For the synthetic test (on
 a 2 core laptop with 8 threads), implementing using per-thread
 <code>BatchQueue</code>s scores <code>6,984,896</code> ops/sec whereas
 implementing using striped locks the performance score is only
 <code>4,654,673</code>. One thread on the laptop has a throughput of
 <code>4,856,814</code>, the maximum possible throughput for 2 threads is
 ~ 9M. The actual performance of the striped locks approach depends on the
 degree of collision in the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html?is-external=true#getId()" title="class or interface in java.lang"><code>Thread.getId()</code></a> values and the #of
 <code>BatchQueue</code> instances in the array.
 <p>
 While striped locks clearly have less throughput when compared to thread-
 local <code>BatchQueue</code>s, the striped lock performance can be
 significantly better than implementations without lock amortization
 strategies and we do not have to worry about references on
 <code>BatchQueue</code>s "escaping" when we rarely see requests for some
 threads (which is basically a memory leak).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#add(T)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>ref</code> - The reference to be added.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <code>BatchQueue</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - TODO Actually, using the CHM (7M ops/sec) rather than
             acquiring a permit (4.7M ops/sec) is MUCH less expensive even
             when using only one thread. The permit is clearly costing us.
             Striped locks might do as well as thread-local locks if we
             could replace the permit with a less expensive lock.</dd></dl>
</li>
</ul>
<a name="offer(java.lang.Object)">
<!--   -->
</a><a name="offer(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offer</h4>
<pre>public final&nbsp;boolean&nbsp;offer(<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&nbsp;ref)</pre>
<div class="block">Offers the reference to the thread-local queue, returning
 <code>true</code> iff the queue was modified as a result. This is
 non-blocking unless the thread-local queue is full. If the thread-local
 queue is full, the existing references will be batched first onto the
 shared queue.</div>
</li>
</ul>
<a name="clear(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public final&nbsp;void&nbsp;clear(boolean&nbsp;clearRefs)</pre>
<div class="block">Discards the thread-local buffers and clears the backing ring buffer.
 <p>
 Note: This method can have side-effects from asynchronous operations if
 the queue is still in use.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html#clear(boolean)">clear</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/IHardReferenceQueue.html" title="interface in com.bigdata.cache">IHardReferenceQueue</a>&lt;<a href="../../../com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" title="type parameter in HardReferenceQueueWithBatchingUpdates">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>clearRefs</code> - When <code>true</code> the references are explicitly set to
            <code>null</code> which can facilitate garbage collection.</dd></dl>
</li>
</ul>
<a name="contains(java.lang.Object)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>contains</h4>
<pre>public final&nbsp;boolean&nbsp;contains(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;ref)</pre>
<div class="block">Not supported.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HardReferenceQueueWithBatchingUpdates.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/cache/HardReferenceQueueEvictionListener.html" title="interface in com.bigdata.cache"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/cache/ICacheEntry.html" title="interface in com.bigdata.cache"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/cache/HardReferenceQueueWithBatchingUpdates.html" target="_top">Frames</a></li>
<li><a href="HardReferenceQueueWithBatchingUpdates.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
