<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_51) on Thu Jan 21 00:30:47 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WeakValueCache (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-21">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WeakValueCache (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WeakValueCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/cache/WeakCacheEntryFactory.html" title="class in com.bigdata.cache"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/bigdata/cache/WeakValueCache.IClearReferenceListener.html" title="interface in com.bigdata.cache"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/cache/WeakValueCache.html" target="_top">Frames</a></li>
<li><a href="WeakValueCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.cache</div>
<h2 title="Class WeakValueCache" class="title">Class WeakValueCache&lt;K,T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.cache.WeakValueCache&lt;K,T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;K,T&gt;</dd>
</dl>
<hr>
<br>
<pre>public final class <span class="typeNameLabel">WeakValueCache&lt;K,T&gt;</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;K,T&gt;</pre>
<div class="block"><p>
 A memory sensitive cache using weak references for its values and object ids
 for its keys and backed by the CRUD operations of the persistence layer,
 which is assumed to implement a hard reference LRU or similar cache policy.
 </p>
 <p>
 Performance can be dramatically effect by the selection of the size of the
 LRU cache and by the choice of soft vs. weak references. The interaction of
 these parameters and the choice of the load factor for the weak value and LRU
 caches is non-trivial. Good performance is observed for default settings, but
 you can see 2-4x or better improvements through a tuned cache. You need a
 performance benchmark in order to tune your cache. The best performance
 benchmark is a solid and representative sample of real operations performed
 by your application, e.g., loading data, navigating data, and querying data.
 </p>
 <p>
 If you use soft references then the garbage collector will defer collection
 of application objects until it determines that it needs the memory. In
 contrast the garbage collector ignores the presence of weak references when
 deciding whether or not to clear the references for an object. The backing
 LRU cache policy MUST be using hard references, so in any case nothing will
 be removed from the weak value cache until it has been first evicted from the
 backing LRU.
 </p>
 <p>
 Finalizers MUST NOT be relied on to effect the persistent state of objects in
 this cache since (a) finalizers may never run; and (b) finalizers will only
 run after references to the object in the cache have been cleared.
 </p>
 <p>
 Since dirty objects that are evicted from the hard reference cache are
 installed on the database, it is NOT possible to have an object in the weak
 cache that is (a) dirty; and (b) not also in the hard reference cache.
 Therefore the <i>dirty</i> flag is <em>only</em> maintained by the hard
 reference cache.  When an object no longer exists in the hard reference cache
 but it still present in the weak reference cache, a <code>#get(long)</code> will 
 cause the object to be installed into the hard reference cache and the object
 will be marked as <strong>clean</strong>.
 <p>
 This implementation is synchronized.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id$</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>thompsonbry</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.IClearReferenceListener.html" title="interface in com.bigdata.cache">WeakValueCache.IClearReferenceListener</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.IClearReferenceListener.html" title="type parameter in WeakValueCache.IClearReferenceListener">K</a>&gt;</span></code>
<div class="block">An optional listener that is invoked when we notice a cleared reference.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#DEBUG">DEBUG</a></span></code>
<div class="block">True iff the <a href="../../../com/bigdata/cache/WeakValueCache.html#log"><code>log</code></a> level is DEBUG or less.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#INFO">INFO</a></span></code>
<div class="block">True iff the <a href="../../../com/bigdata/cache/WeakValueCache.html#log"><code>log</code></a> level is INFO or less.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#INITIAL_CAPACITY">INITIAL_CAPACITY</a></span></code>
<div class="block">Default value for the initial capacity (1000).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#LOAD_FACTOR">LOAD_FACTOR</a></span></code>
<div class="block">Default value for the load factor (0.75).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#log">log</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#WeakValueCache-com.bigdata.cache.ICachePolicy-">WeakValueCache</a></span>(<a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;delegate)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#WeakValueCache-com.bigdata.cache.ICachePolicy-com.bigdata.cache.IWeakRefCacheEntryFactory-">WeakValueCache</a></span>(<a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;delegate,
              <a href="../../../com/bigdata/cache/IWeakRefCacheEntryFactory.html" title="interface in com.bigdata.cache">IWeakRefCacheEntryFactory</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;factory)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#WeakValueCache-int-float-com.bigdata.cache.ICachePolicy-com.bigdata.cache.IWeakRefCacheEntryFactory-">WeakValueCache</a></span>(int&nbsp;initialCapacity,
              float&nbsp;loadFactor,
              <a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;delegate,
              <a href="../../../com/bigdata/cache/IWeakRefCacheEntryFactory.html" title="interface in com.bigdata.cache">IWeakRefCacheEntryFactory</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;factory)</code>
<div class="block">Designated constructor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#WeakValueCache-int-float-com.bigdata.cache.ICachePolicy-com.bigdata.cache.IWeakRefCacheEntryFactory-com.bigdata.cache.WeakValueCache.IClearReferenceListener-">WeakValueCache</a></span>(int&nbsp;initialCapacity,
              float&nbsp;loadFactor,
              <a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;delegate,
              <a href="../../../com/bigdata/cache/IWeakRefCacheEntryFactory.html" title="interface in com.bigdata.cache">IWeakRefCacheEntryFactory</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;factory,
              <a href="../../../com/bigdata/cache/WeakValueCache.IClearReferenceListener.html" title="interface in com.bigdata.cache">WeakValueCache.IClearReferenceListener</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>&gt;&nbsp;clearReferenceListener)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#capacity--">capacity</a></span>()</code>
<div class="block">The capacity of the backing hard reference cache.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#clear--">clear</a></span>()</code>
<div class="block">Clear all objects from the cache.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/cache/ICacheEntry.html" title="interface in com.bigdata.cache">ICacheEntry</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#entryIterator--">entryIterator</a></span>()</code>
<div class="block">
 Visits entries in the delegate cache in the order defined by the
 delegate.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#finalize--">finalize</a></span>()</code>
<div class="block">This reports some statistics gathered during the cache use.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#get-K-">get</a></span>(<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>&nbsp;oid)</code>
<div class="block">Return the indicated object from the cache or null if the object is not
 in cache.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/cache/ICacheListener.html" title="interface in com.bigdata.cache">ICacheListener</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#getCacheListener--">getCacheListener</a></span>()</code>
<div class="block">Return the listener on the delegate.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#getDelegate--">getDelegate</a></span>()</code>
<div class="block">The delegate hard reference cache.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#iterator--">iterator</a></span>()</code>
<div class="block">
 Visits objects in the delegate cache in the order defined by the
 delegate.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#put-K-T-boolean-">put</a></span>(<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>&nbsp;oid,
   <a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&nbsp;obj,
   boolean&nbsp;dirty)</code>
<div class="block">Insert or "touch" this object in the cache.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#remove-K-">remove</a></span>(<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>&nbsp;oid)</code>
<div class="block">Remove the indicated object from the cache.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#reportStatistics-boolean-">reportStatistics</a></span>(boolean&nbsp;resetCounters)</code>
<div class="block">Report and optionally clear the cache statistics.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#setListener-com.bigdata.cache.ICacheListener-">setListener</a></span>(<a href="../../../com/bigdata/cache/ICacheListener.html" title="interface in com.bigdata.cache">ICacheListener</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;listener)</code>
<div class="block">Sets the listener on the delegate.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/cache/WeakValueCache.html#size--">size</a></span>()</code>
<div class="block">The #of entries in the backing hard reference cache.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre>protected static final&nbsp;org.apache.log4j.Logger log</pre>
</li>
</ul>
<a name="INFO">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INFO</h4>
<pre>protected static final&nbsp;boolean INFO</pre>
<div class="block">True iff the <a href="../../../com/bigdata/cache/WeakValueCache.html#log"><code>log</code></a> level is INFO or less.</div>
</li>
</ul>
<a name="DEBUG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEBUG</h4>
<pre>protected static final&nbsp;boolean DEBUG</pre>
<div class="block">True iff the <a href="../../../com/bigdata/cache/WeakValueCache.html#log"><code>log</code></a> level is DEBUG or less.</div>
</li>
</ul>
<a name="INITIAL_CAPACITY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INITIAL_CAPACITY</h4>
<pre>public static final&nbsp;int INITIAL_CAPACITY</pre>
<div class="block">Default value for the initial capacity (1000).</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.bigdata.cache.WeakValueCache.INITIAL_CAPACITY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOAD_FACTOR">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LOAD_FACTOR</h4>
<pre>public static final&nbsp;float LOAD_FACTOR</pre>
<div class="block">Default value for the load factor (0.75).</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.bigdata.cache.WeakValueCache.LOAD_FACTOR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="WeakValueCache-com.bigdata.cache.ICachePolicy-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WeakValueCache</h4>
<pre>public&nbsp;WeakValueCache(<a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;delegate)</pre>
</li>
</ul>
<a name="WeakValueCache-com.bigdata.cache.ICachePolicy-com.bigdata.cache.IWeakRefCacheEntryFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WeakValueCache</h4>
<pre>public&nbsp;WeakValueCache(<a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;delegate,
                      <a href="../../../com/bigdata/cache/IWeakRefCacheEntryFactory.html" title="interface in com.bigdata.cache">IWeakRefCacheEntryFactory</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;factory)</pre>
</li>
</ul>
<a name="WeakValueCache-int-float-com.bigdata.cache.ICachePolicy-com.bigdata.cache.IWeakRefCacheEntryFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WeakValueCache</h4>
<pre>public&nbsp;WeakValueCache(int&nbsp;initialCapacity,
                      float&nbsp;loadFactor,
                      <a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;delegate,
                      <a href="../../../com/bigdata/cache/IWeakRefCacheEntryFactory.html" title="interface in com.bigdata.cache">IWeakRefCacheEntryFactory</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;factory)</pre>
<div class="block">Designated constructor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>initialCapacity</code> - May be used to reduce re-hashing by starting with a larger
            initial capacity in the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util"><code>HashMap</code></a> with weak values.
            (The capacity of the delegate hard reference cache map is
            configured separately.)</dd>
<dd><code>loadFactor</code> - May be used to bias for speed vs space in the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util"><code>HashMap</code></a>.</dd>
<dd><code>delegate</code> - The delegate which MUST implement a hard reference cache
            policy such as LRU.</dd>
<dd><code>factory</code> - The factory which will generate the weak reference value
            objects for this cache.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the initialCapacity is negative.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the loadFactor is non-positive.</dd>
</dl>
</li>
</ul>
<a name="WeakValueCache-int-float-com.bigdata.cache.ICachePolicy-com.bigdata.cache.IWeakRefCacheEntryFactory-com.bigdata.cache.WeakValueCache.IClearReferenceListener-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WeakValueCache</h4>
<pre>public&nbsp;WeakValueCache(int&nbsp;initialCapacity,
                      float&nbsp;loadFactor,
                      <a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;delegate,
                      <a href="../../../com/bigdata/cache/IWeakRefCacheEntryFactory.html" title="interface in com.bigdata.cache">IWeakRefCacheEntryFactory</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;factory,
                      <a href="../../../com/bigdata/cache/WeakValueCache.IClearReferenceListener.html" title="interface in com.bigdata.cache">WeakValueCache.IClearReferenceListener</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>&gt;&nbsp;clearReferenceListener)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDelegate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDelegate</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;getDelegate()</pre>
<div class="block">The delegate hard reference cache.</div>
</li>
</ul>
<a name="clear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html#clear--">ICachePolicy</a></code></span></div>
<div class="block">Clear all objects from the cache. This method may be used to reset the
 cache when a transaction is being rolled back.  Cache eviction notices
 are NOT fired when this method is called.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/bigdata/cache/ICachePolicy.html#clear--">clear</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="reportStatistics-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportStatistics</h4>
<pre>public&nbsp;void&nbsp;reportStatistics(boolean&nbsp;resetCounters)</pre>
<div class="block">Report and optionally clear the cache statistics.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resetCounters</code> - When true the counters will be reset to zero.</dd>
</dl>
</li>
</ul>
<a name="finalize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre>protected&nbsp;void&nbsp;finalize()
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block">This reports some statistics gathered during the cache use. The execution
 of this finalizer is NOT required for the correct functioning of the
 cache.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a name="put-java.lang.Object-java.lang.Object-boolean-">
<!--   -->
</a><a name="put-K-T-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;void&nbsp;put(<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>&nbsp;oid,
                <a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&nbsp;obj,
                boolean&nbsp;dirty)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html#put-K-T-boolean-">ICachePolicy</a></code></span></div>
<div class="block">Insert or "touch" this object in the cache.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/bigdata/cache/ICachePolicy.html#put-K-T-boolean-">put</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oid</code> - The object identifier.</dd>
<dd><code>obj</code> - The object.</dd>
<dd><code>dirty</code> - True iff the object is dirty.</dd>
</dl>
</li>
</ul>
<a name="get-java.lang.Object-">
<!--   -->
</a><a name="get-K-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&nbsp;get(<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>&nbsp;oid)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html#get-K-">ICachePolicy</a></code></span></div>
<div class="block">Return the indicated object from the cache or null if the object is not
 in cache.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/bigdata/cache/ICachePolicy.html#get-K-">get</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oid</code> - The object identifier.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The object or null iff it is not in cache.</dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.Object-">
<!--   -->
</a><a name="remove-K-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&nbsp;remove(<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>&nbsp;oid)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html#remove-K-">ICachePolicy</a></code></span></div>
<div class="block">Remove the indicated object from the cache.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/bigdata/cache/ICachePolicy.html#remove-K-">remove</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oid</code> - The object identifier.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The object in the cache for that object identifier or
         <code>null</code> if there was no object under that identifier.</dd>
</dl>
</li>
</ul>
<a name="setListener-com.bigdata.cache.ICacheListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setListener</h4>
<pre>public&nbsp;void&nbsp;setListener(<a href="../../../com/bigdata/cache/ICacheListener.html" title="interface in com.bigdata.cache">ICacheListener</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;listener)</pre>
<div class="block">Sets the listener on the delegate.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/bigdata/cache/ICachePolicy.html#setListener-com.bigdata.cache.ICacheListener-">setListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - The listener or <code>null</code> to remove any listener.</dd>
</dl>
</li>
</ul>
<a name="getCacheListener--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCacheListener</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/cache/ICacheListener.html" title="interface in com.bigdata.cache">ICacheListener</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;getCacheListener()</pre>
<div class="block">Return the listener on the delegate.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/bigdata/cache/ICachePolicy.html#getCacheListener--">getCacheListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="iterator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterator</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&nbsp;iterator()</pre>
<div class="block"><p>
 Visits objects in the delegate cache in the order defined by the
 delegate.
 </p>
 <p>
 Note: Objects evicted from the hard reference cache that are still weakly
 reachable are no longer accessible from the weak cache iterators. This is
 consistent with the policy that dirty objects are installed onto pages in
 the persistence layer when they are evicted from the inner hard reference
 cache and provides a fast iterator mechanism for scanning the object
 cache. While it means that you are not able to fully enumerate the
 entries in the weak reference cache, when integrated with a persistence
 layer handling installation of dirty objects onto pages, objects that are
 not visitable are guaranteed to be clean.
 </p>
 <p>
 Note: While the iterator supports removal, its behavior is delegated to
 the backing hard reference cache. Therefore, removal causes the entry to
 be removed from the backing hard reference cache but NOT the
 <a href="../../../com/bigdata/cache/WeakValueCache.html" title="class in com.bigdata.cache"><code>WeakValueCache</code></a>. In order to remove the entry from the
 <a href="../../../com/bigdata/cache/WeakValueCache.html" title="class in com.bigdata.cache"><code>WeakValueCache</code></a> as well you can use <a href="../../../com/bigdata/cache/WeakValueCache.html#entryIterator--"><code>entryIterator()</code></a> and
 then also delete the entry under the last visited key.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/bigdata/cache/ICachePolicy.html#iterator--">iterator</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Iterator visiting objects from the delegate hard reference cache.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../com/bigdata/cache/ICachePolicy.html#entryIterator--"><code>ICachePolicy.entryIterator()</code></a></dd>
</dl>
</li>
</ul>
<a name="entryIterator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>entryIterator</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../com/bigdata/cache/ICacheEntry.html" title="interface in com.bigdata.cache">ICacheEntry</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;&gt;&nbsp;entryIterator()</pre>
<div class="block"><p>
 Visits entries in the delegate cache in the order defined by the
 delegate.
 </p>
 <p>
 Note: Objects evicted from the hard reference cache that are still weakly
 reachable are no longer accessible from the weak cache iterators. This is
 consistent with the policy that dirty objects are installed onto pages in
 the persistence layer when they are evicted from the inner hard reference
 cache and provides a fast iterator mechanism for scanning the object
 cache. While it means that you are not able to fully enumerate the
 entries in the weak reference cache, when integrated with a persistence
 layer handling installation of dirty objects onto pages, entries that are
 not visitable are guaranteed to be clean.
 </p>
 <p>
 Note: While the iterator supports removal, its behavior is delegated to
 the backing hard reference cache. Therefore, removal causes the entry to
 be removed from the backing hard reference cache but NOT the
 <a href="../../../com/bigdata/cache/WeakValueCache.html" title="class in com.bigdata.cache"><code>WeakValueCache</code></a>. In order to remove the entry from the
 <a href="../../../com/bigdata/cache/WeakValueCache.html" title="class in com.bigdata.cache"><code>WeakValueCache</code></a> you MUST also delete the entry under the last
 visited key.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/bigdata/cache/ICachePolicy.html#entryIterator--">entryIterator</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Iterator visiting <a href="../../../com/bigdata/cache/ICacheEntry.html" title="interface in com.bigdata.cache"><code>ICacheEntry</code></a> objects from the delegate
         hard reference cache.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../com/bigdata/cache/ICacheEntry.html" title="interface in com.bigdata.cache"><code>ICacheEntry</code></a>, 
<a href="../../../com/bigdata/cache/ICachePolicy.html#iterator--"><code>ICachePolicy.iterator()</code></a></dd>
</dl>
</li>
</ul>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int&nbsp;size()</pre>
<div class="block">The #of entries in the backing hard reference cache.  The weak reference
 cache will often contain additional entries, but those entries are not
 reported by this method and can not be visited by either <a href="../../../com/bigdata/cache/WeakValueCache.html#iterator--"><code>iterator()</code></a>
 or <a href="../../../com/bigdata/cache/WeakValueCache.html#entryIterator--"><code>entryIterator()</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/bigdata/cache/ICachePolicy.html#size--">size</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The #of entries in the hard reference cache.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache"><code>ICachePolicy</code></a></dd>
</dl>
</li>
</ul>
<a name="capacity--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>capacity</h4>
<pre>public&nbsp;int&nbsp;capacity()</pre>
<div class="block">The capacity of the backing hard reference cache.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/bigdata/cache/ICachePolicy.html#capacity--">capacity</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/cache/ICachePolicy.html" title="interface in com.bigdata.cache">ICachePolicy</a>&lt;<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">K</a>,<a href="../../../com/bigdata/cache/WeakValueCache.html" title="type parameter in WeakValueCache">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The capacity of the hard reference cache.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WeakValueCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/cache/WeakCacheEntryFactory.html" title="class in com.bigdata.cache"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/bigdata/cache/WeakValueCache.IClearReferenceListener.html" title="interface in com.bigdata.cache"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/cache/WeakValueCache.html" target="_top">Frames</a></li>
<li><a href="WeakValueCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
