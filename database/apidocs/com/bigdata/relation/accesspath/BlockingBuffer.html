<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Thu Jun 09 18:53:43 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>BlockingBuffer (Blazegraph Database Platform 2.1.1 API)</title>
<meta name="date" content="2016-06-09">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BlockingBuffer (Blazegraph Database Platform 2.1.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BlockingBuffer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/relation/accesspath/ArrayAccessPath.html" title="class in com.bigdata.relation.accesspath"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.BlockingIterator.html" title="class in com.bigdata.relation.accesspath"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/relation/accesspath/BlockingBuffer.html" target="_top">Frames</a></li>
<li><a href="BlockingBuffer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.relation.accesspath</div>
<h2 title="Class BlockingBuffer" class="title">Class BlockingBuffer&lt;E&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.relation.accesspath.BlockingBuffer&lt;E&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html" title="interface in com.bigdata.relation.accesspath">IBlockingBuffer</a>&lt;E&gt;, <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;E&gt;, <a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html" title="interface in com.bigdata.relation.accesspath">IRunnableBuffer</a>&lt;E&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../com/bigdata/bop/engine/BlockingBufferWithStats.html" title="class in com.bigdata.bop.engine">BlockingBufferWithStats</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">BlockingBuffer&lt;E&gt;</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html" title="interface in com.bigdata.relation.accesspath">IBlockingBuffer</a>&lt;E&gt;</pre>
<div class="block"><p>
 A buffer that will block when it is full. You write elements on the buffer
 and they can be read using <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#iterator()"><code>iterator()</code></a>. This class is safe for
 concurrent writes (multiple threads can use <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#add(E)"><code>add(Object)</code></a>) but the
 <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#iterator()"><code>iterator()</code></a> is not thread-safe (it assumes a single reader).
 </p>
 <p>
 <strong>You MUST make sure that the thread that sets up the
 <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a> and which submits a task that writes on the buffer
 also sets the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> on the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a> so that the
 iterator can monitor the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>, detect if it has been canceled, and
 throw out the exception from the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> back to the client. Failure
 to do this can lead to the iterator not terminating!</strong>
 </p>
 <p>
 Note: <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a> is used (a) for <a href="../../../../com/bigdata/relation/accesspath/IAccessPath.html" title="interface in com.bigdata.relation.accesspath"><code>IAccessPath</code></a> iterators
 that exceed the fully-buffered read threshold; (b) for high-level query with
 at least one join; (c) by the <a href="../../../../com/bigdata/rdf/store/BigdataStatementIteratorImpl.html" title="class in com.bigdata.rdf.store"><code>BigdataStatementIteratorImpl</code></a>, which is
 used by the RDF DB for high-level query with no joins; and by the
 <a href="../../../../com/bigdata/rdf/store/BigdataSolutionResolverator.html" title="class in com.bigdata.rdf.store"><code>BigdataSolutionResolverator</code></a>, which is used by the RDF DB high-level
 query that produces binding sets.
 </p></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.BlockingIterator.html" title="class in com.bigdata.relation.accesspath">BlockingBuffer.BlockingIterator</a></strong></code>
<div class="block">An inner class that reads from the buffer.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#DEFAULT_CONSUMER_CHUNK_TIMEOUT">DEFAULT_CONSUMER_CHUNK_TIMEOUT</a></strong></code>
<div class="block">The default timeout in milliseconds during which chunks of elements may
 be combined in order to satisfy the desired minimum chunk size.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#DEFAULT_CONSUMER_CHUNK_TIMEOUT_UNIT">DEFAULT_CONSUMER_CHUNK_TIMEOUT_UNIT</a></strong></code>
<div class="block">The unit in which <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#DEFAULT_CONSUMER_CHUNK_TIMEOUT"><code>DEFAULT_CONSUMER_CHUNK_TIMEOUT</code></a> is expressed
 (milliseconds).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#DEFAULT_MINIMUM_CHUNK_SIZE">DEFAULT_MINIMUM_CHUNK_SIZE</a></strong></code>
<div class="block">The default minimum chunk size for the chunk combiner.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#DEFAULT_PRODUCER_QUEUE_CAPACITY">DEFAULT_PRODUCER_QUEUE_CAPACITY</a></strong></code>
<div class="block">The default capacity for the internal <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util"><code>Queue</code></a> on which elements (or
 chunks of elements) are buffered.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#log">log</a></strong></code>
<div class="block">Warning messages are emitted if either the producer or the consumer is
 stalled.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#BlockingBuffer()">BlockingBuffer</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#BlockingBuffer(java.util.concurrent.BlockingQueue,%20int,%20long,%20java.util.concurrent.TimeUnit,%20boolean)">BlockingBuffer</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html?is-external=true" title="class or interface in java.util.concurrent">BlockingQueue</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;&nbsp;queue,
              int&nbsp;minimumChunkSize,
              long&nbsp;chunkTimeout,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;chunkTimeoutUnit,
              boolean&nbsp;ordered)</code>
<div class="block">Core ctor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#BlockingBuffer(int)">BlockingBuffer</a></strong>(int&nbsp;capacity)</code>
<div class="block">Ctor automatically provisions an appropriate <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html?is-external=true" title="class or interface in java.util.concurrent"><code>BlockingQueue</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#BlockingBuffer(int,%20int,%20long,%20java.util.concurrent.TimeUnit)">BlockingBuffer</a></strong>(int&nbsp;capacity,
              int&nbsp;minimumChunkSize,
              long&nbsp;chunkTimeout,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;chunkTimeoutUnit)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#abort(java.lang.Throwable)">abort</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;cause)</code>
<div class="block">Signal abnormal termination of the process writing on the buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#add(E)">add</a></strong>(<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&nbsp;e)</code>
<div class="block">Add an element to the buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#add(E,%20long,%20java.util.concurrent.TimeUnit)">add</a></strong>(<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&nbsp;e,
   long&nbsp;timeout,
   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</code>
<div class="block">Add element to the buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#clear()">clear</a></strong>()</code>
<div class="block">Clear the backing queue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#close()">close</a></strong>()</code>
<div class="block">Closes the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a> such that it will not accept new
 elements (this is a NOP if unless the buffer is open).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static &lt;E&gt;&nbsp;E</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#combineChunks(E,%20E)">combineChunks</a></strong>(E&nbsp;chunk1,
             E&nbsp;chunk2)</code>
<div class="block">Combines two chunks in the order given (DOES NOT apply a merge sort).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#flush()">flush</a></strong>()</code>
<div class="block">This is a NOP since the <a href="../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html#iterator()"><code>IBlockingBuffer.iterator()</code></a> is the only way to consume
 data written on the buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#getChunksAddedCount()">getChunksAddedCount</a></strong>()</code>
<div class="block">The #of chunks <code>#add(Object)ed</code> to the buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#getChunkTimeout()">getChunkTimeout</a></strong>()</code>
<div class="block">The maximum time to wait in nanoseconds for another chunk to come along
 so that we can combine it with the current chunk for <code>#next()</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#getElementsAddedCount()">getElementsAddedCount</a></strong>()</code>
<div class="block">The #of elements <code>#add(Object)ed</code> to the buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#getElementsOnQueueCount()">getElementsOnQueueCount</a></strong>()</code>
<div class="block">The #of elements on the queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#getFuture()">getFuture</a></strong>()</code>
<div class="block">The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> of the producer feeding the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#getMinimumChunkSize()">getMinimumChunkSize</a></strong>()</code>
<div class="block">The desired minimum chunk size for the chunk combiner.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#isEmpty()">isEmpty</a></strong>()</code>
<div class="block">True iff there are no elements in the buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#isOpen()">isOpen</a></strong>()</code>
<div class="block">Return <code>true</code> if the buffer is open.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#isOrdered()">isOrdered</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath">IAsynchronousIterator</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#iterator()">iterator</a></strong>()</code>
<div class="block">The iterator is NOT thread-safe and does NOT support remove().</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#reset()">reset</a></strong>()</code>
<div class="block">Reset the state of the buffer, including the counter whose value is
 reported by <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#flush()"><code>IBuffer.flush()</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#setFuture(java.util.concurrent.Future)">setFuture</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&nbsp;future)</code>
<div class="block">Set the future of the producer feeding the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#size()">size</a></strong>()</code>
<div class="block">This reports the #of items in the queue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre>protected static final&nbsp;org.apache.log4j.Logger log</pre>
<div class="block">Warning messages are emitted if either the producer or the consumer is
 stalled. When <code>Category.isInfoEnabled()</code> is <code>true</code>,
 those log messages will be include stack traces which can help to
 identify the the consumer or producer.</div>
</li>
</ul>
<a name="DEFAULT_PRODUCER_QUEUE_CAPACITY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_PRODUCER_QUEUE_CAPACITY</h4>
<pre>public static final transient&nbsp;int DEFAULT_PRODUCER_QUEUE_CAPACITY</pre>
<div class="block">The default capacity for the internal <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util"><code>Queue</code></a> on which elements (or
 chunks of elements) are buffered.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.bigdata.relation.accesspath.BlockingBuffer.DEFAULT_PRODUCER_QUEUE_CAPACITY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_MINIMUM_CHUNK_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MINIMUM_CHUNK_SIZE</h4>
<pre>public static final transient&nbsp;int DEFAULT_MINIMUM_CHUNK_SIZE</pre>
<div class="block">The default minimum chunk size for the chunk combiner.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.bigdata.relation.accesspath.BlockingBuffer.DEFAULT_MINIMUM_CHUNK_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_CONSUMER_CHUNK_TIMEOUT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_CONSUMER_CHUNK_TIMEOUT</h4>
<pre>public static final transient&nbsp;long DEFAULT_CONSUMER_CHUNK_TIMEOUT</pre>
<div class="block">The default timeout in milliseconds during which chunks of elements may
 be combined in order to satisfy the desired minimum chunk size.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.bigdata.relation.accesspath.BlockingBuffer.DEFAULT_CONSUMER_CHUNK_TIMEOUT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_CONSUMER_CHUNK_TIMEOUT_UNIT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_CONSUMER_CHUNK_TIMEOUT_UNIT</h4>
<pre>public static final transient&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a> DEFAULT_CONSUMER_CHUNK_TIMEOUT_UNIT</pre>
<div class="block">The unit in which <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#DEFAULT_CONSUMER_CHUNK_TIMEOUT"><code>DEFAULT_CONSUMER_CHUNK_TIMEOUT</code></a> is expressed
 (milliseconds).</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BlockingBuffer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BlockingBuffer</h4>
<pre>public&nbsp;BlockingBuffer()</pre>
</li>
</ul>
<a name="BlockingBuffer(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BlockingBuffer</h4>
<pre>public&nbsp;BlockingBuffer(int&nbsp;capacity)</pre>
<div class="block">Ctor automatically provisions an appropriate <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html?is-external=true" title="class or interface in java.util.concurrent"><code>BlockingQueue</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>capacity</code> - The capacity of the buffer. When the generic type <i>&lt;E&gt;</i>
            is an array type, then this is the <i>chunkOfChunksCapacity</i>
            and small chunks will be automatically combined based on
            availability and latency. When zero (0) a
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/SynchronousQueue.html?is-external=true" title="class or interface in java.util.concurrent"><code>SynchronousQueue</code></a> will be used. Otherwise an
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ArrayBlockingQueue.html?is-external=true" title="class or interface in java.util.concurrent"><code>ArrayBlockingQueue</code></a> of the given capacity is used.</dd></dl>
</li>
</ul>
<a name="BlockingBuffer(int, int, long, java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BlockingBuffer</h4>
<pre>public&nbsp;BlockingBuffer(int&nbsp;capacity,
              int&nbsp;minimumChunkSize,
              long&nbsp;chunkTimeout,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;chunkTimeoutUnit)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>capacity</code> - The capacity of the buffer. When the generic type
            <i>&lt;E&gt;</i> is an array type, then this is the
            <i>chunkOfChunksCapacity</i> and small chunks will be
            automatically combined based on availability and latency. When
            zero (0) a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/SynchronousQueue.html?is-external=true" title="class or interface in java.util.concurrent"><code>SynchronousQueue</code></a> will be used. Otherwise an
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/LinkedBlockingDeque.html?is-external=true" title="class or interface in java.util.concurrent"><code>LinkedBlockingDeque</code></a> of the given capacity is used.</dd><dd><code>minimumChunkSize</code> - The desired minimum chunk size. When the elements stored in
            the buffer are chunks (i.e., arrays of some component type),
            elements will be combined together to form larger chunks until
            this minimumChunkSize is satisfied, the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#iterator()"><code>iterator()</code></a> is
            exhausted, or the <i>chunkTimeout</i> is reached.</dd><dd><code>chunkTimeout</code> - The maximum time to wait in nanoseconds for another chunk to
            come along so that we can combine it with the current chunk
            for <code>#next()</code>. A value of ZERO(0) disables chunk
            combiner.</dd><dd><code>chunkTimeoutUnit</code> - The units in which the <i>chunkTimeout</i> is expressed.</dd></dl>
</li>
</ul>
<a name="BlockingBuffer(java.util.concurrent.BlockingQueue, int, long, java.util.concurrent.TimeUnit, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BlockingBuffer</h4>
<pre>public&nbsp;BlockingBuffer(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html?is-external=true" title="class or interface in java.util.concurrent">BlockingQueue</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;&nbsp;queue,
              int&nbsp;minimumChunkSize,
              long&nbsp;chunkTimeout,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;chunkTimeoutUnit,
              boolean&nbsp;ordered)</pre>
<div class="block">Core ctor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>queue</code> - The queue on which elements will be buffered. Elements will be
            <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#add(E)"><code>added</code></a> to the queue and drained by the
            <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#iterator()"><code>iterator()</code></a>. When this is a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingDeque.html?is-external=true" title="class or interface in java.util.concurrent"><code>BlockingDeque</code></a>
            array element types will be combined by
            <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#add(E,%20long,%20java.util.concurrent.TimeUnit)"><code>add(Object, long, TimeUnit)</code></a> until the
            <i>minimumChunkSize</i> is satisfied.</dd><dd><code>minimumChunkSize</code> - The desired minimum chunk size. When the elements stored in
            the buffer are chunks (i.e., arrays of some component type),
            elements will be combined together to form larger chunks until
            this chunkSize is satisfied, the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#iterator()"><code>iterator()</code></a> is
            exhausted, or the <i>chunkTimeout</i> is reached.</dd><dd><code>chunkTimeout</code> - The maximum time to wait in nanoseconds for another chunk to
            come along so that we can combine it with the current chunk
            for <code>#next()</code>. A value of ZERO(0) disables chunk
            combiner.</dd><dd><code>chunkTimeoutUnit</code> - The units in which the <i>chunkTimeout</i> is expressed.</dd><dd><code>ordered</code> - When <code>true</code> the data are asserted to be ordered and
            a merge sort will be applied if chunks are combined such that
            the combined chunks will also be ordered (this has no effect
            unless the generic type of the buffer is an array type).</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMinimumChunkSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinimumChunkSize</h4>
<pre>public final&nbsp;int&nbsp;getMinimumChunkSize()</pre>
<div class="block">The desired minimum chunk size for the chunk combiner.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#DEFAULT_MINIMUM_CHUNK_SIZE"><code>DEFAULT_MINIMUM_CHUNK_SIZE</code></a></dd></dl>
</li>
</ul>
<a name="getChunkTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChunkTimeout</h4>
<pre>public final&nbsp;long&nbsp;getChunkTimeout()</pre>
<div class="block">The maximum time to wait in nanoseconds for another chunk to come along
 so that we can combine it with the current chunk for <code>#next()</code>. A
 value of ZERO(0) disables chunk combiner.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#DEFAULT_CONSUMER_CHUNK_TIMEOUT"><code>DEFAULT_CONSUMER_CHUNK_TIMEOUT</code></a></dd></dl>
</li>
</ul>
<a name="setFuture(java.util.concurrent.Future)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFuture</h4>
<pre>public&nbsp;void&nbsp;setFuture(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&nbsp;future)</pre>
<div class="block">Set the future of the producer feeding the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html#setFuture(java.util.concurrent.Future)">setFuture</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html" title="interface in com.bigdata.relation.accesspath">IBlockingBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>future</code> - The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="https://sourceforge.net/apps/trac/bigdata/ticket/707">
      BlockingBuffer.close() does not unblock threads </a></dd></dl>
</li>
</ul>
<a name="getFuture()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFuture</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&nbsp;getFuture()</pre>
<div class="block">The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> of the producer feeding the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html#getFuture()">getFuture</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html" title="interface in com.bigdata.relation.accesspath">IRunnableBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> -or- <code>null</code> if no <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>
         has been set.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="isEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre>public&nbsp;boolean&nbsp;isEmpty()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#isEmpty()">IBuffer</a></code></strong></div>
<div class="block">True iff there are no elements in the buffer.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#isEmpty()">isEmpty</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int&nbsp;size()</pre>
<div class="block">This reports the #of items in the queue.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#size()">size</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#getElementsOnQueueCount()"><code>getElementsOnQueueCount()</code></a></dd></dl>
</li>
</ul>
<a name="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>public&nbsp;boolean&nbsp;isOpen()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html#isOpen()">IRunnableBuffer</a></code></strong></div>
<div class="block">Return <code>true</code> if the buffer is open.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html#isOpen()">isOpen</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html" title="interface in com.bigdata.relation.accesspath">IRunnableBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="isOrdered()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOrdered</h4>
<pre>public&nbsp;boolean&nbsp;isOrdered()</pre>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a> such that it will not accept new
 elements (this is a NOP if unless the buffer is open). Once the buffer is
 closed, the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.BlockingIterator.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer.BlockingIterator</code></a> will drain any elements remaining in
 the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a> and then report <code>false</code> for
 BlockingIterator#hasNext()) (this does NOT close the
 {@link BlockingIterator}).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html" title="interface in com.bigdata.relation.accesspath">IRunnableBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Clear the backing queue.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If the buffer is open.</dd></dl>
</li>
</ul>
<a name="abort(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abort</h4>
<pre>public&nbsp;void&nbsp;abort(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;cause)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html#abort(java.lang.Throwable)">IRunnableBuffer</a></code></strong></div>
<div class="block">Signal abnormal termination of the process writing on the buffer. The
 buffer will be closed. The iterator will report the <i>cause</i> via a
 wrapped exception the next time any method on its interface is invoked.
 The internal queue may be cleared once this method is invoked.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html#abort(java.lang.Throwable)">abort</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html" title="interface in com.bigdata.relation.accesspath">IRunnableBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>cause</code> - The exception thrown by the processing writing on the buffer.</dd></dl>
</li>
</ul>
<a name="getChunksAddedCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChunksAddedCount</h4>
<pre>public&nbsp;long&nbsp;getChunksAddedCount()</pre>
<div class="block">The #of chunks <code>#add(Object)ed</code> to the buffer. This will be ZERO
 unless the generic type of the buffer is an array type.</div>
</li>
</ul>
<a name="getElementsAddedCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getElementsAddedCount</h4>
<pre>public&nbsp;long&nbsp;getElementsAddedCount()</pre>
<div class="block">The #of elements <code>#add(Object)ed</code> to the buffer. When the generic
 type of the buffer is an array type, this will be the sum of the length
 of the arrays <code>#add(Object)ed</code> to the buffer.</div>
</li>
</ul>
<a name="getElementsOnQueueCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getElementsOnQueueCount</h4>
<pre>public&nbsp;long&nbsp;getElementsOnQueueCount()</pre>
<div class="block">The #of elements on the queue.  When the queue uses a scalar element 
 type this will track the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#size()"><code>size()</code></a> very closely.  However, when
 the queue uses an array element type, this will be the sum of the #of
 elements across all arrays on the queue.</div>
</li>
</ul>
<a name="add(java.lang.Object)">
<!--   -->
</a><a name="add(E)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&nbsp;e)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html#add(E)">IRunnableBuffer</a></code></strong></div>
<div class="block">Add an element to the buffer.
 <p>
 Note: This method is constrained to throw the specified exception if the
 buffer has been <a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html#close()"><code>IRunnableBuffer.close()</code></a>d.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#add(E)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html#add(E)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html" title="interface in com.bigdata.relation.accesspath">IRunnableBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - The element</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/BufferClosedException.html" title="class in com.bigdata.relation.accesspath">BufferClosedException</a></code> - if the buffer has been <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#close()"><code>close()</code></a>d.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang">RuntimeException</a></code> - if the caller's <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang"><code>Thread</code></a> is interrupted. The
             <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang"><code>RuntimeException</code></a> will wrap the
             <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a> as its cause.</dd></dl>
</li>
</ul>
<a name="add(java.lang.Object,long,java.util.concurrent.TimeUnit)">
<!--   -->
</a><a name="add(E, long, java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;boolean&nbsp;add(<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&nbsp;e,
          long&nbsp;timeout,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)
            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Add element to the buffer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - The element.</dd><dd><code>timeout</code> - The timeout.</dd><dd><code>unit</code> - The unit in which the timeout is expressed.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> iff the element was added to the buffer (
         <code>false</code> indicates that the timeout expired before the
         element could be added to the buffer).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if interrupted</dd></dl>
</li>
</ul>
<a name="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public&nbsp;long&nbsp;flush()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html#flush()">IBlockingBuffer</a></code></strong></div>
<div class="block">This is a NOP since the <a href="../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html#iterator()"><code>IBlockingBuffer.iterator()</code></a> is the only way to consume
 data written on the buffer.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html#flush()">flush</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html" title="interface in com.bigdata.relation.accesspath">IBlockingBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#flush()">flush</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>ZERO (0L)</dd></dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#reset()">IBuffer</a></code></strong></div>
<div class="block">Reset the state of the buffer, including the counter whose value is
 reported by <a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#flush()"><code>IBuffer.flush()</code></a>. Any data in the buffer will be discarded.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html#reset()">reset</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="iterator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterator</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath">IAsynchronousIterator</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;&nbsp;iterator()</pre>
<div class="block">The iterator is NOT thread-safe and does NOT support remove().
 <p>
 Note: If the <a href="../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath"><code>IAsynchronousIterator</code></a> is
 <a href="../../../../cutthecrap/utils/striterators/ICloseableIterator.html#close()"><code>ICloseableIterator.close()</code></a>d before the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> of the
 process writing on the <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a> is done, then the
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> will be canceled using <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html?is-external=true#interrupt()" title="class or interface in java.lang"><code>Thread.interrupt()</code></a>. Owing
 to a feature of <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels"><code>FileChannel</code></a>, this will cause the backing store to
 be asynchronously closed if the interrupt is detected during an IO. The
 backing store will be re-opened transparently, but there is overhead
 associated with that (locks to be re-acquired, etc).
 <p>
 The most common reason to close an iterator early are that you want to
 only visit a limited #of elements. However, if you use either
 <a href="../../../../com/bigdata/relation/accesspath/IAccessPath.html#iterator(long,%20long,%20int)"><code>IAccessPath.iterator(long,long, int)</code></a> or <a href="../../../../com/bigdata/relation/rule/IRule.html" title="interface in com.bigdata.relation.rule"><code>IRule</code></a> with an
 <a href="../../../../com/bigdata/relation/rule/IQueryOptions.html" title="interface in com.bigdata.relation.rule"><code>IQueryOptions</code></a> to impose that limit, then most processes that
 produce <a href="../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath"><code>IAsynchronousIterator</code></a>s will automatically terminate when
 they reach the desired limit, thereby avoiding issuing interrupts. Those
 processes include <a href="../../../../com/bigdata/relation/accesspath/IAccessPath.html" title="interface in com.bigdata.relation.accesspath"><code>IAccessPath</code></a> scans where the #of elements to be
 visited exceeds the fully materialized chunk threshold and <a href="../../../../com/bigdata/relation/rule/IRule.html" title="interface in com.bigdata.relation.rule"><code>IRule</code></a>
 evaluation.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html#iterator()">iterator</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html" title="interface in com.bigdata.relation.accesspath">IBlockingBuffer</a>&lt;<a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="type parameter in BlockingBuffer">E</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The iterator (this is a singleton).</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.BlockingIterator.html#close()"><code>BlockingBuffer.BlockingIterator.close()</code></a></dd></dl>
</li>
</ul>
<a name="combineChunks(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a name="combineChunks(E, E)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>combineChunks</h4>
<pre>public static&nbsp;&lt;E&gt;&nbsp;E&nbsp;combineChunks(E&nbsp;chunk1,
                  E&nbsp;chunk2)</pre>
<div class="block">Combines two chunks in the order given (DOES NOT apply a merge sort).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>chunk1</code> - The first chunk.</dd><dd><code>chunk2</code> - The second chunk.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The combined chunks.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BlockingBuffer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/relation/accesspath/ArrayAccessPath.html" title="class in com.bigdata.relation.accesspath"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.BlockingIterator.html" title="class in com.bigdata.relation.accesspath"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/relation/accesspath/BlockingBuffer.html" target="_top">Frames</a></li>
<li><a href="BlockingBuffer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
