<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Mon Mar 18 18:55:32 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ProgramTask (Blazegraph Database Platform 2.1.5 API)</title>
<meta name="date" content="2019-03-18">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ProgramTask (Blazegraph Database Platform 2.1.5 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ProgramTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/bigdata/relation/rule/eval/MutationTask.html" title="class in com.bigdata.relation.rule.eval"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/bigdata/relation/rule/eval/ProgramUtility.html" title="class in com.bigdata.relation.rule.eval"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/bigdata/relation/rule/eval/ProgramTask.html" target="_top">Frames</a></li>
<li><a href="ProgramTask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.relation.rule.eval</div>
<h2 title="Class ProgramTask" class="title">Class ProgramTask</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/bigdata/service/FederationCallable.html" title="class in com.bigdata.service">com.bigdata.service.FederationCallable</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/bigdata/service/DataServiceCallable.html" title="class in com.bigdata.service">com.bigdata.service.DataServiceCallable</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</li>
<li>
<ul class="inheritance">
<li>com.bigdata.relation.rule.eval.ProgramTask</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/bigdata/relation/rule/eval/IProgramTask.html" title="interface in com.bigdata.relation.rule.eval">IProgramTask</a>, <a href="../../../../../com/bigdata/service/IDataServiceCallable.html" title="interface in com.bigdata.service">IDataServiceCallable</a>, <a href="../../../../../com/bigdata/service/IFederationCallable.html" title="interface in com.bigdata.service">IFederationCallable</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">ProgramTask</span>
extends <a href="../../../../../com/bigdata/service/DataServiceCallable.html" title="class in com.bigdata.service">DataServiceCallable</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;
implements <a href="../../../../../com/bigdata/relation/rule/eval/IProgramTask.html" title="interface in com.bigdata.relation.rule.eval">IProgramTask</a></pre>
<div class="block">Task for executing a program when all of the indices for the relation are
 co-located on the same <a href="../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a>.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../serialized-form.html#com.bigdata.relation.rule.eval.ProgramTask">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/relation/rule/eval/ProgramTask.html#log">log</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/bigdata/relation/rule/eval/ProgramTask.html#ProgramTask(com.bigdata.relation.rule.eval.ActionEnum,%20com.bigdata.relation.rule.IStep,%20com.bigdata.relation.rule.eval.IJoinNexusFactory)">ProgramTask</a></strong>(<a href="../../../../../com/bigdata/relation/rule/eval/ActionEnum.html" title="enum in com.bigdata.relation.rule.eval">ActionEnum</a>&nbsp;action,
           <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule">IStep</a>&nbsp;step,
           <a href="../../../../../com/bigdata/relation/rule/eval/IJoinNexusFactory.html" title="interface in com.bigdata.relation.rule.eval">IJoinNexusFactory</a>&nbsp;joinNexusFactory)</code>
<div class="block">Variant when the task will be submitted using
 <a href="../../../../../com/bigdata/service/IDataService.html#submit(java.util.concurrent.Callable)"><code>IDataService.submit(Callable)</code></a> (efficient since all indices will
 be local, but the indices must not be partitioned and must all exist on
 the target <a href="../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a>).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../com/bigdata/relation/rule/eval/ProgramTask.html#ProgramTask(com.bigdata.relation.rule.eval.ActionEnum,%20com.bigdata.relation.rule.IStep,%20com.bigdata.relation.rule.eval.IJoinNexusFactory,%20com.bigdata.journal.IIndexManager)">ProgramTask</a></strong>(<a href="../../../../../com/bigdata/relation/rule/eval/ActionEnum.html" title="enum in com.bigdata.relation.rule.eval">ActionEnum</a>&nbsp;action,
           <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule">IStep</a>&nbsp;step,
           <a href="../../../../../com/bigdata/relation/rule/eval/IJoinNexusFactory.html" title="interface in com.bigdata.relation.rule.eval">IJoinNexusFactory</a>&nbsp;joinNexusFactory,
           <a href="../../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal">IIndexManager</a>&nbsp;indexManager)</code>
<div class="block">Variant when the task will be executed directly by the caller.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/relation/rule/eval/ProgramTask.html#call()">call</a></strong>()</code>
<div class="block">Execute the program.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/relation/rule/eval/RuleStats.html" title="class in com.bigdata.relation.rule.eval">RuleStats</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/relation/rule/eval/ProgramTask.html#executeClosure(com.bigdata.relation.rule.IProgram)">executeClosure</a></strong>(<a href="../../../../../com/bigdata/relation/rule/IProgram.html" title="interface in com.bigdata.relation.rule">IProgram</a>&nbsp;program)</code>
<div class="block">Computes the closure of a set of <a href="../../../../../com/bigdata/relation/rule/IRule.html" title="interface in com.bigdata.relation.rule"><code>IRule</code></a>s until the relation(s) on
 which they are writing reach a "fixed point".</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/relation/rule/eval/RuleStats.html" title="class in com.bigdata.relation.rule.eval">RuleStats</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/relation/rule/eval/ProgramTask.html#executeMutation(com.bigdata.relation.rule.IStep)">executeMutation</a></strong>(<a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule">IStep</a>&nbsp;step)</code>
<div class="block">Run a mutation <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule"><code>IStep</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/relation/rule/eval/RuleStats.html" title="class in com.bigdata.relation.rule.eval">RuleStats</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/relation/rule/eval/ProgramTask.html#executeProgramWithEmbeddedClosure(com.bigdata.relation.rule.IProgram)">executeProgramWithEmbeddedClosure</a></strong>(<a href="../../../../../com/bigdata/relation/rule/IProgram.html" title="interface in com.bigdata.relation.rule">IProgram</a>&nbsp;program)</code>
<div class="block">Execute an <a href="../../../../../com/bigdata/relation/rule/IProgram.html" title="interface in com.bigdata.relation.rule"><code>IProgram</code></a> containing one or more sub-<a href="../../../../../com/bigdata/relation/rule/IProgram.html" title="interface in com.bigdata.relation.rule"><code>IProgram</code></a>
 that are closure operations.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath">IAsynchronousIterator</a>&lt;<a href="../../../../../com/bigdata/relation/rule/eval/ISolution.html" title="interface in com.bigdata.relation.rule.eval">ISolution</a>[]&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/relation/rule/eval/ProgramTask.html#executeQuery(com.bigdata.relation.rule.IStep)">executeQuery</a></strong>(<a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule">IStep</a>&nbsp;step)</code>
<div class="block">Execute the <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule"><code>IStep</code></a> as a query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/relation/rule/eval/ProgramTask.html#setDataService(com.bigdata.service.DataService)">setDataService</a></strong>(<a href="../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service">DataService</a>&nbsp;dataService)</code>
<div class="block">Sets the <a href="../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a> reference and the <a href="../../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service"><code>IBigdataFederation</code></a>
 reference (if not already set).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.service.DataServiceCallable">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.service.<a href="../../../../../com/bigdata/service/DataServiceCallable.html" title="class in com.bigdata.service">DataServiceCallable</a></h3>
<code><a href="../../../../../com/bigdata/service/DataServiceCallable.html#getDataService()">getDataService</a>, <a href="../../../../../com/bigdata/service/DataServiceCallable.html#isDataService()">isDataService</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.service.FederationCallable">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.service.<a href="../../../../../com/bigdata/service/FederationCallable.html" title="class in com.bigdata.service">FederationCallable</a></h3>
<code><a href="../../../../../com/bigdata/service/FederationCallable.html#getFederation()">getFederation</a>, <a href="../../../../../com/bigdata/service/FederationCallable.html#setFederation(com.bigdata.service.IBigdataFederation)">setFederation</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.service.IFederationCallable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.service.<a href="../../../../../com/bigdata/service/IFederationCallable.html" title="interface in com.bigdata.service">IFederationCallable</a></h3>
<code><a href="../../../../../com/bigdata/service/IFederationCallable.html#getFederation()">getFederation</a>, <a href="../../../../../com/bigdata/service/IFederationCallable.html#setFederation(com.bigdata.service.IBigdataFederation)">setFederation</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>log</h4>
<pre>protected static final transient&nbsp;org.apache.log4j.Logger log</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ProgramTask(com.bigdata.relation.rule.eval.ActionEnum, com.bigdata.relation.rule.IStep, com.bigdata.relation.rule.eval.IJoinNexusFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ProgramTask</h4>
<pre>public&nbsp;ProgramTask(<a href="../../../../../com/bigdata/relation/rule/eval/ActionEnum.html" title="enum in com.bigdata.relation.rule.eval">ActionEnum</a>&nbsp;action,
           <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule">IStep</a>&nbsp;step,
           <a href="../../../../../com/bigdata/relation/rule/eval/IJoinNexusFactory.html" title="interface in com.bigdata.relation.rule.eval">IJoinNexusFactory</a>&nbsp;joinNexusFactory)</pre>
<div class="block">Variant when the task will be submitted using
 <a href="../../../../../com/bigdata/service/IDataService.html#submit(java.util.concurrent.Callable)"><code>IDataService.submit(Callable)</code></a> (efficient since all indices will
 be local, but the indices must not be partitioned and must all exist on
 the target <a href="../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a>).
 <p>
 Note: the caller MUST submit the <a href="../../../../../com/bigdata/relation/rule/eval/ProgramTask.html" title="class in com.bigdata.relation.rule.eval"><code>ProgramTask</code></a> using
 <a href="../../../../../com/bigdata/service/DataService.html#submit(java.util.concurrent.Callable)"><code>DataService.submit(Callable)</code></a> in which case <a href="../../../../../com/bigdata/service/DataServiceCallable.html#dataService"><code>DataServiceCallable.dataService</code></a>
 field will be set (after the ctor) by the <a href="../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a> itself. The
 <a href="../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a> will be used to identify an <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent"><code>ExecutorService</code></a>
 and the <a href="../../../../../com/bigdata/relation/rule/eval/IJoinNexusFactory.html" title="interface in com.bigdata.relation.rule.eval"><code>IJoinNexusFactory</code></a> will be used to establish access to
 indices, relations, etc. in the context of the <a href="../../../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal"><code>AbstractTask</code></a> - see
 <a href="../../../../../com/bigdata/relation/rule/eval/AbstractStepTask.html#submit()"><code>AbstractStepTask.submit()</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>action</code> - </dd><dd><code>step</code> - </dd><dd><code>joinNexus</code> - </dd></dl>
</li>
</ul>
<a name="ProgramTask(com.bigdata.relation.rule.eval.ActionEnum, com.bigdata.relation.rule.IStep, com.bigdata.relation.rule.eval.IJoinNexusFactory, com.bigdata.journal.IIndexManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ProgramTask</h4>
<pre>public&nbsp;ProgramTask(<a href="../../../../../com/bigdata/relation/rule/eval/ActionEnum.html" title="enum in com.bigdata.relation.rule.eval">ActionEnum</a>&nbsp;action,
           <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule">IStep</a>&nbsp;step,
           <a href="../../../../../com/bigdata/relation/rule/eval/IJoinNexusFactory.html" title="interface in com.bigdata.relation.rule.eval">IJoinNexusFactory</a>&nbsp;joinNexusFactory,
           <a href="../../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal">IIndexManager</a>&nbsp;indexManager)</pre>
<div class="block">Variant when the task will be executed directly by the caller.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>action</code> - </dd><dd><code>step</code> - </dd><dd><code>joinNexusFactory</code> - </dd><dd><code>indexManager</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if any parameter is <code>null</code>.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setDataService(com.bigdata.service.DataService)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDataService</h4>
<pre>public&nbsp;void&nbsp;setDataService(<a href="../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service">DataService</a>&nbsp;dataService)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../com/bigdata/service/DataServiceCallable.html#setDataService(com.bigdata.service.DataService)">DataServiceCallable</a></code></strong></div>
<div class="block">Sets the <a href="../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a> reference and the <a href="../../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service"><code>IBigdataFederation</code></a>
 reference (if not already set).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/bigdata/service/IDataServiceCallable.html#setDataService(com.bigdata.service.DataService)">setDataService</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/bigdata/service/IDataServiceCallable.html" title="interface in com.bigdata.service">IDataServiceCallable</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../com/bigdata/service/DataServiceCallable.html#setDataService(com.bigdata.service.DataService)">setDataService</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/bigdata/service/DataServiceCallable.html" title="class in com.bigdata.service">DataServiceCallable</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>dataService</code> - The data service.</dd></dl>
</li>
</ul>
<a name="call()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>call</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;call()
            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Execute the program.
 <p>
 Note: There is no natural order for high-level query. Also, unless stable
 evaluation is requested, the results can be produced by parallel threads
 and the order of the materialized solution is therefore not even stable.
 The only way to have a natural order is for a sort to be imposed on the
 <a href="../../../../../com/bigdata/relation/rule/eval/ISolution.html" title="interface in com.bigdata.relation.rule.eval"><code>ISolution</code></a>s.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/bigdata/relation/rule/eval/IProgramTask.html#call()">call</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/bigdata/relation/rule/eval/IProgramTask.html" title="interface in com.bigdata.relation.rule.eval">IProgramTask</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true#call()" title="class or interface in java.util.concurrent">call</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="executeQuery(com.bigdata.relation.rule.IStep)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeQuery</h4>
<pre>protected&nbsp;<a href="../../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath">IAsynchronousIterator</a>&lt;<a href="../../../../../com/bigdata/relation/rule/eval/ISolution.html" title="interface in com.bigdata.relation.rule.eval">ISolution</a>[]&gt;&nbsp;executeQuery(<a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule">IStep</a>&nbsp;step)</pre>
<div class="block">Execute the <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule"><code>IStep</code></a> as a query.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>step</code> - The <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule"><code>IStep</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../../../com/bigdata/striterator/IChunkedOrderedIterator.html" title="interface in com.bigdata.striterator"><code>IChunkedOrderedIterator</code></a> that will drain the
         <a href="../../../../../com/bigdata/relation/rule/eval/ISolution.html" title="interface in com.bigdata.relation.rule.eval"><code>ISolution</code></a>s generated by the <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule"><code>IStep</code></a>. Execution
         will be cancelled if the iterator is
         <a href="../../../../../cutthecrap/utils/striterators/ICloseableIterator.html#close()"><code>closed</code></a>. If execution results
         in an error, then the iterator will throw a
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang"><code>RuntimeException</code></a> whose cause is the error.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang">RuntimeException</a></code></dd></dl>
</li>
</ul>
<a name="executeMutation(com.bigdata.relation.rule.IStep)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeMutation</h4>
<pre>protected&nbsp;<a href="../../../../../com/bigdata/relation/rule/eval/RuleStats.html" title="class in com.bigdata.relation.rule.eval">RuleStats</a>&nbsp;executeMutation(<a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule">IStep</a>&nbsp;step)
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Run a mutation <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule"><code>IStep</code></a>. The <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule"><code>IStep</code></a> may consist of many sub-<a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule"><code>IStep</code></a>s.
 <p>
 Note: If you specify <a href="../../../../../com/bigdata/journal/ITx.html#READ_COMMITTED"><code>ITx.READ_COMMITTED</code></a> for mutation operations
 when using a federation then concurrent split/join/move can cause the
 operation to fail. It is safer to use read-consistent semantics by
 specifying <a href="../../../../../com/bigdata/journal/IIndexStore.html#getLastCommitTime()"><code>IIndexStore.getLastCommitTime()</code></a> instead.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>step</code> - The <a href="../../../../../com/bigdata/relation/rule/IStep.html" title="interface in com.bigdata.relation.rule"><code>IStep</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Metadata about the program execution, including the required
         <a href="../../../../../com/bigdata/relation/rule/eval/RuleStats.html#mutationCount"><code>RuleStats.mutationCount</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="executeClosure(com.bigdata.relation.rule.IProgram)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeClosure</h4>
<pre>protected&nbsp;<a href="../../../../../com/bigdata/relation/rule/eval/RuleStats.html" title="class in com.bigdata.relation.rule.eval">RuleStats</a>&nbsp;executeClosure(<a href="../../../../../com/bigdata/relation/rule/IProgram.html" title="interface in com.bigdata.relation.rule">IProgram</a>&nbsp;program)
                            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Computes the closure of a set of <a href="../../../../../com/bigdata/relation/rule/IRule.html" title="interface in com.bigdata.relation.rule"><code>IRule</code></a>s until the relation(s) on
 which they are writing reach a "fixed point".
 <p>
 The general approach is a series of rounds in which each rule is applied
 in turn (either sequentially or in parallel, depending on the program).
 Solutions computed for each rule in each round written onto the relation
 for the head of that rule. The process halts when no new solutions are
 computed in a given round.
 <p>
 Note: When we are running the program on a <a href="../../../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal"><code>ConcurrencyManager</code></a>,
 each round of the closure is submitted as a single <a href="../../../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal"><code>AbstractTask</code></a>.
 This allows us to do historical reads during the round and to update the
 read-behind timestamp before each round. During the round, the program
 will write on buffers that are flushed at the end of the round. Those
 buffers will use unisolated writes onto the appropriate relations.
 
 <h2>mutation counts</h2>
 
 In order to detect the fixed point we MUST know whether or not any
 mutations were made to the relation during the round. The design does NOT
 rely on the relation count before and after the round since it would have
 to use an _exact_ range count for the relation (otherwise it is possible
 that a deleted tuple would be overwritten by a computed entailment but
 that the count would not change). However, the exact range count is
 relatively expensive which is why the design insists on getting back the
 #of elements actually written on the index from each rule in each round.
 If no rules in a given round caused an element to be written, then we are
 at the fixed point.
 <p>
 Note: This assumes that you are following the <a href="../../../../../com/bigdata/relation/IMutableRelation.html" title="interface in com.bigdata.relation"><code>IMutableRelation</code></a>
 contract -- you MUST NOT overwrite tuples with the same key and value, or
 at least you must not report such "do nothing" overwrites in the mutation
 count!!!</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>action</code> - The action (must be a mutation operation).</dd><dd><code>program</code> - The program to be executed.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="executeProgramWithEmbeddedClosure(com.bigdata.relation.rule.IProgram)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>executeProgramWithEmbeddedClosure</h4>
<pre>protected&nbsp;<a href="../../../../../com/bigdata/relation/rule/eval/RuleStats.html" title="class in com.bigdata.relation.rule.eval">RuleStats</a>&nbsp;executeProgramWithEmbeddedClosure(<a href="../../../../../com/bigdata/relation/rule/IProgram.html" title="interface in com.bigdata.relation.rule">IProgram</a>&nbsp;program)
                                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Execute an <a href="../../../../../com/bigdata/relation/rule/IProgram.html" title="interface in com.bigdata.relation.rule"><code>IProgram</code></a> containing one or more sub-<a href="../../../../../com/bigdata/relation/rule/IProgram.html" title="interface in com.bigdata.relation.rule"><code>IProgram</code></a>
 that are closure operations. The top-level program must not be a closure
 operation. All steps above the closure operations will be run in a
 sequence. The closure operations themselves will be executed using
 <a href="../../../../../com/bigdata/relation/rule/eval/ProgramTask.html#executeClosure(com.bigdata.relation.rule.IProgram)"><code>executeClosure(IProgram)</code></a>.
 <p>
 Note: Any program that embeds a closure operation must be sequential
 (this is enforced by the Program class).
 
 Note: Programs that use closure operations are constrained to either (a)
 a fix point of a (normally parallel) program consisting solely of
 <a href="../../../../../com/bigdata/relation/rule/IRule.html" title="interface in com.bigdata.relation.rule"><code>IRule</code></a>s; or (b) a sequential program containing some steps that
 are the fix point of a (normally parallel) program consisting solely of
 <a href="../../../../../com/bigdata/relation/rule/IRule.html" title="interface in com.bigdata.relation.rule"><code>IRule</code></a>s.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <i>program</i> is <code>null</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <i>program</i> is <em>itself</em> a closure operation.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - unless the <a href="../../../../../com/bigdata/relation/rule/eval/ActionEnum.html" title="enum in com.bigdata.relation.rule.eval"><code>ActionEnum</code></a> is a mutation operation.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ProgramTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/bigdata/relation/rule/eval/MutationTask.html" title="class in com.bigdata.relation.rule.eval"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/bigdata/relation/rule/eval/ProgramUtility.html" title="class in com.bigdata.relation.rule.eval"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/bigdata/relation/rule/eval/ProgramTask.html" target="_top">Frames</a></li>
<li><a href="ProgramTask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2019 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
