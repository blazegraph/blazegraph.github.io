<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Tue Jan 26 02:02:25 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JoinTask (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)</title>
<meta name="date" content="2016-01-26">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="JoinTask (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JoinTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinStats.html" title="class in com.bigdata.relation.rule.eval.pipeline"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.AccessPathTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/bigdata/relation/rule/eval/pipeline/JoinTask.html" target="_top">Frames</a></li>
<li><a href="JoinTask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.relation.rule.eval.pipeline</div>
<h2 title="Class JoinTask" class="title">Class JoinTask</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.relation.rule.eval.pipeline.JoinTask</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/DistributedJoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline">DistributedJoinTask</a>, <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/LocalJoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline">LocalJoinTask</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">JoinTask</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</pre>
<div class="block">Consumes <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a> chunks from the previous join dimension.
 <p>
 Note: Instances of this class MUST be created on the <a href="../../../../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>
 that is host to the index partition on the task will read and they MUST run
 inside of an <a href="../../../../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal"><code>AbstractTask</code></a> on the <a href="../../../../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal"><code>ConcurrencyManager</code></a> in order
 to have access to the local index object for the index partition.
 <p>
 This class is NOT serializable.
 <p>
 For a rule with 2 predicates, there will be two <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>s. The
 <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#orderIndex"><code>orderIndex</code></a> is ZERO (0) for the first <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a> and ONE (1)
 for the second <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>. The first <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a> will have a
 single initialBinding from the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinMasterTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinMasterTask</code></a> and will read on the
 <a href="../../../../../../com/bigdata/relation/accesspath/IAccessPath.html" title="interface in com.bigdata.relation.accesspath"><code>IAccessPath</code></a> for the first <a href="../../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop"><code>IPredicate</code></a> in the evaluation
 <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#order"><code>order</code></a>. The second <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a> will read chunks of
 <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s containing partial solutions from the first
 <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a> and will obtain and read on an <a href="../../../../../../com/bigdata/relation/accesspath/IAccessPath.html" title="interface in com.bigdata.relation.accesspath"><code>IAccessPath</code></a> for the
 second predicate in the evaluation order for every partial solution. Since
 there are only two <a href="../../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop"><code>IPredicate</code></a>s in the <a href="../../../../../../com/bigdata/relation/rule/IRule.html" title="interface in com.bigdata.relation.rule"><code>IRule</code></a>, the second and
 last <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a> will write on the <a href="../../../../../../com/bigdata/relation/rule/eval/ISolution.html" title="interface in com.bigdata.relation.rule.eval"><code>ISolution</code></a> buffer obtained
 from <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinMasterTask.html#getSolutionBuffer()"><code>JoinMasterTask.getSolutionBuffer()</code></a>. Each <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a> will
 report its <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinStats.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinStats</code></a> to the master, which aggregates those
 statistics.
 <p>
 Note: <a href="../../../../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> requests will deadlock if the same query uses
 the same access path for two predicates! This is because the first such join
 dimension in the evaluation order will obtain an exclusive lock on an index
 partition making it impossible for another <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a> to obtain an
 exclusive lock on the same index partition. This is not a problem if you are
 using read-consistent timestamps!</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.AccessPathTask.html" title="class in com.bigdata.relation.rule.eval.pipeline">JoinTask.AccessPathTask</a></strong></code>
<div class="block">Accepts an asBound <a href="../../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop"><code>IPredicate</code></a> and a (non-empty) collection of
 <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s each of which licenses the same asBound
 predicate for the current join dimension.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.BindingSetConsumerTask.html" title="class in com.bigdata.relation.rule.eval.pipeline">JoinTask.BindingSetConsumerTask</a></strong></code>
<div class="block">Class consumes chunks from the source(s) until canceled,
 interrupted, or all source(s) are exhausted.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.ChunkTask.html" title="class in com.bigdata.relation.rule.eval.pipeline">JoinTask.ChunkTask</a></strong></code>
<div class="block">Task processes a chunk of elements read from the <a href="../../../../../../com/bigdata/relation/accesspath/IAccessPath.html" title="interface in com.bigdata.relation.accesspath"><code>IAccessPath</code></a>
 for a join dimension.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.ThreadLocalFactory.html" title="class in com.bigdata.relation.rule.eval.pipeline">JoinTask.ThreadLocalFactory</a>&lt;<a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.ThreadLocalFactory.html" title="type parameter in JoinTask.ThreadLocalFactory">T</a> extends <a href="../../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.ThreadLocalFactory.html" title="type parameter in JoinTask.ThreadLocalFactory">E</a>&gt;,<a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.ThreadLocalFactory.html" title="type parameter in JoinTask.ThreadLocalFactory">E</a>&gt;</strong></code>
<div class="block">A factory pattern for per-thread objects whose life cycle is tied to some
 container.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#DEBUG">DEBUG</a></strong></code>
<div class="block">True iff the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#log"><code>log</code></a> level is DEBUG or less.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicReference</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#firstCause">firstCause</a></strong></code>
<div class="block">Set by <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.BindingSetConsumerTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask.BindingSetConsumerTask</code></a>, <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.AccessPathTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask.AccessPathTask</code></a>, and
 <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.ChunkTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask.ChunkTask</code></a> if they throw an error.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#halt">halt</a></strong></code>
<div class="block">Volatile flag is set <code>true</code> if the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>
 (including any tasks executing on its behalf) should halt.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#INFO">INFO</a></strong></code>
<div class="block">True iff the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#log"><code>log</code></a> level is INFO or less.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/bigdata/relation/rule/eval/IJoinNexus.html" title="interface in com.bigdata.relation.rule.eval">IJoinNexus</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#joinNexus">joinNexus</a></strong></code>
<div class="block">The <a href="../../../../../../com/bigdata/relation/rule/eval/IJoinNexus.html" title="interface in com.bigdata.relation.rule.eval"><code>IJoinNexus</code></a> for the local <a href="../../../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal"><code>IIndexManager</code></a>, which
 will be the live <a href="../../../../../../com/bigdata/journal/IJournal.html" title="interface in com.bigdata.journal"><code>IJournal</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#lastJoin">lastJoin</a></strong></code>
<div class="block"><code>true</code> iff this is the last join dimension in the
 evaluation order.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#log">log</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/IJoinMaster.html" title="interface in com.bigdata.relation.rule.eval.pipeline">IJoinMaster</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#masterProxy">masterProxy</a></strong></code>
<div class="block">A proxy for the remote <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinMasterTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinMasterTask</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#masterUUID">masterUUID</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#orderIndex">orderIndex</a></strong></code>
<div class="block">The index into the evaluation <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#order"><code>order</code></a> for the predicate on
 which we are reading for this join dimension.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#partitionId">partitionId</a></strong></code>
<div class="block">The index partition on which this <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a> is reading -or-
 <code>-1</code> if the deployment does not support key-range
 partitioned indices.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop">IPredicate</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#predicate">predicate</a></strong></code>
<div class="block">The <a href="../../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop"><code>IPredicate</code></a> on which we are reading for this join
 dimension.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/bigdata/relation/IRelation.html" title="interface in com.bigdata.relation">IRelation</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#relation">relation</a></strong></code>
<div class="block">The <a href="../../../../../../com/bigdata/relation/IRelation.html" title="interface in com.bigdata.relation"><code>IRelation</code></a> view on which we are reading for this join
 dimensions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[][]</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#requiredVars">requiredVars</a></strong></code>
<div class="block">A list of variables required for each tail, by tailIndex.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/bigdata/relation/rule/IRule.html" title="interface in com.bigdata.relation.rule">IRule</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#rule">rule</a></strong></code>
<div class="block">The rule that is being evaluated.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#tailCount">tailCount</a></strong></code>
<div class="block">The #of predicates in the tail of that rule.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#tailIndex">tailIndex</a></strong></code>
<div class="block">The tail index in the rule for the predicate on which we are reading
 for this join dimension.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#WARN">WARN</a></strong></code>
<div class="block">True iff the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#log"><code>log</code></a> level is WARN or less.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#JoinTask(com.bigdata.relation.rule.IRule,%20com.bigdata.relation.rule.eval.IJoinNexus,%20int[],%20int,%20int,%20com.bigdata.relation.rule.eval.pipeline.IJoinMaster,%20java.util.UUID,%20com.bigdata.bop.IVariable[][])">JoinTask</a></strong>(<a href="../../../../../../com/bigdata/relation/rule/IRule.html" title="interface in com.bigdata.relation.rule">IRule</a>&nbsp;rule,
        <a href="../../../../../../com/bigdata/relation/rule/eval/IJoinNexus.html" title="interface in com.bigdata.relation.rule.eval">IJoinNexus</a>&nbsp;joinNexus,
        int[]&nbsp;order,
        int&nbsp;orderIndex,
        int&nbsp;partitionId,
        <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/IJoinMaster.html" title="interface in com.bigdata.relation.rule.eval.pipeline">IJoinMaster</a>&nbsp;masterProxy,
        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;masterUUID,
        <a href="../../../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>[][]&nbsp;requiredVars)</code>
<div class="block">Instances of this class MUST be created in the appropriate execution
 context of the target <a href="../../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a> so that the federation and
 the joinNexus references are both correct and so that it has access
 to the local index object for the specified index partition.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#call()">call</a></strong>()</code>
<div class="block">Runs the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#cancelSinks()">cancelSinks</a></strong>()</code>
<div class="block">Cancel sink <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>(s).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#consumeSources()">consumeSources</a></strong>()</code>
<div class="block">Consume <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a> chunks from source(s).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#flushAndCloseBuffersAndAwaitSinks()">flushAndCloseBuffersAndAwaitSinks</a></strong>()</code>
<div class="block">Flush and close all output buffers and await sink <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>(s).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../../../com/bigdata/relation/rule/eval/ISolution.html" title="interface in com.bigdata.relation.rule.eval">ISolution</a>[]&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#getSolutionBuffer()">getSolutionBuffer</a></strong>()</code>
<div class="block">The buffer on which the last predicate in the evaluation order will
 write its <a href="../../../../../../com/bigdata/relation/rule/eval/ISolution.html" title="interface in com.bigdata.relation.rule.eval"><code>ISolution</code></a>s.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#getTailIndex(int)">getTailIndex</a></strong>(int&nbsp;orderIndex)</code>
<div class="block">Return the index of the tail predicate to be evaluated at the given
 index in the evaluation order.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#halt(java.lang.Throwable)">halt</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;cause)</code>
<div class="block">Indicate that join processing should halt.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#logCallError(java.lang.Throwable)">logCallError</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">Method is used to log the primary exception thrown by <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#call()"><code>call()</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html" title="class in com.bigdata.relation.accesspath">AbstractUnsynchronizedArrayBuffer</a>&lt;<a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#newUnsyncOutputBuffer()">newUnsyncOutputBuffer</a></strong>()</code>
<div class="block">A method used by the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#threadLocalBufferFactory"><code>threadLocalBufferFactory</code></a> to create new
 output buffer as required.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#nextChunk()">nextChunk</a></strong>()</code>
<div class="block">Return a chunk of <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s from the
 <a href="../../../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath"><code>IAsynchronousIterator</code></a>s.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#reportOnce()">reportOnce</a></strong>()</code>
<div class="block">Method reports <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinStats.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinStats</code></a> to the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinMasterTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinMasterTask</code></a>, but
 only if they have not already been reported.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre>protected static final&nbsp;org.apache.log4j.Logger log</pre>
</li>
</ul>
<a name="WARN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WARN</h4>
<pre>protected static final&nbsp;boolean WARN</pre>
<div class="block">True iff the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#log"><code>log</code></a> level is WARN or less.</div>
</li>
</ul>
<a name="INFO">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INFO</h4>
<pre>protected static final&nbsp;boolean INFO</pre>
<div class="block">True iff the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#log"><code>log</code></a> level is INFO or less.</div>
</li>
</ul>
<a name="DEBUG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEBUG</h4>
<pre>protected static final&nbsp;boolean DEBUG</pre>
<div class="block">True iff the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#log"><code>log</code></a> level is DEBUG or less.</div>
</li>
</ul>
<a name="rule">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rule</h4>
<pre>protected final&nbsp;<a href="../../../../../../com/bigdata/relation/rule/IRule.html" title="interface in com.bigdata.relation.rule">IRule</a>&lt;?&gt; rule</pre>
<div class="block">The rule that is being evaluated.</div>
</li>
</ul>
<a name="tailCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tailCount</h4>
<pre>protected final&nbsp;int tailCount</pre>
<div class="block">The #of predicates in the tail of that rule.</div>
</li>
</ul>
<a name="partitionId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partitionId</h4>
<pre>protected final&nbsp;int partitionId</pre>
<div class="block">The index partition on which this <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a> is reading -or-
 <code>-1</code> if the deployment does not support key-range
 partitioned indices.</div>
</li>
</ul>
<a name="tailIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tailIndex</h4>
<pre>protected final&nbsp;int tailIndex</pre>
<div class="block">The tail index in the rule for the predicate on which we are reading
 for this join dimension.</div>
</li>
</ul>
<a name="predicate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>predicate</h4>
<pre>protected final&nbsp;<a href="../../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop">IPredicate</a>&lt;?&gt; predicate</pre>
<div class="block">The <a href="../../../../../../com/bigdata/bop/IPredicate.html" title="interface in com.bigdata.bop"><code>IPredicate</code></a> on which we are reading for this join
 dimension.</div>
</li>
</ul>
<a name="relation">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>relation</h4>
<pre>protected final&nbsp;<a href="../../../../../../com/bigdata/relation/IRelation.html" title="interface in com.bigdata.relation">IRelation</a>&lt;?&gt; relation</pre>
<div class="block">The <a href="../../../../../../com/bigdata/relation/IRelation.html" title="interface in com.bigdata.relation"><code>IRelation</code></a> view on which we are reading for this join
 dimensions.</div>
</li>
</ul>
<a name="orderIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>orderIndex</h4>
<pre>protected final&nbsp;int orderIndex</pre>
<div class="block">The index into the evaluation <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#order"><code>order</code></a> for the predicate on
 which we are reading for this join dimension.</div>
</li>
</ul>
<a name="lastJoin">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastJoin</h4>
<pre>protected final&nbsp;boolean lastJoin</pre>
<div class="block"><code>true</code> iff this is the last join dimension in the
 evaluation order.</div>
</li>
</ul>
<a name="masterProxy">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>masterProxy</h4>
<pre>protected final&nbsp;<a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/IJoinMaster.html" title="interface in com.bigdata.relation.rule.eval.pipeline">IJoinMaster</a> masterProxy</pre>
<div class="block">A proxy for the remote <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinMasterTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinMasterTask</code></a>.</div>
</li>
</ul>
<a name="masterUUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>masterUUID</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a> masterUUID</pre>
</li>
</ul>
<a name="requiredVars">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requiredVars</h4>
<pre>protected final&nbsp;<a href="../../../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>&lt;?&gt;[][] requiredVars</pre>
<div class="block">A list of variables required for each tail, by tailIndex. Used to filter 
 downstream variable binding sets.</div>
</li>
</ul>
<a name="joinNexus">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinNexus</h4>
<pre>protected&nbsp;<a href="../../../../../../com/bigdata/relation/rule/eval/IJoinNexus.html" title="interface in com.bigdata.relation.rule.eval">IJoinNexus</a> joinNexus</pre>
<div class="block">The <a href="../../../../../../com/bigdata/relation/rule/eval/IJoinNexus.html" title="interface in com.bigdata.relation.rule.eval"><code>IJoinNexus</code></a> for the local <a href="../../../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal"><code>IIndexManager</code></a>, which
 will be the live <a href="../../../../../../com/bigdata/journal/IJournal.html" title="interface in com.bigdata.journal"><code>IJournal</code></a>. This <a href="../../../../../../com/bigdata/relation/rule/eval/IJoinNexus.html" title="interface in com.bigdata.relation.rule.eval"><code>IJoinNexus</code></a> MUST have
 access to the local index objects, which means that class MUST be run
 inside of the <a href="../../../../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal"><code>ConcurrencyManager</code></a>. The <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#joinNexus"><code>joinNexus</code></a> is
 created from the <code>#joinNexusFactory</code> once the task begins to
 execute.</div>
</li>
</ul>
<a name="halt">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>halt</h4>
<pre>protected volatile&nbsp;boolean halt</pre>
<div class="block">Volatile flag is set <code>true</code> if the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>
 (including any tasks executing on its behalf) should halt. This flag
 is monitored by the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.BindingSetConsumerTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask.BindingSetConsumerTask</code></a>, the
 <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.AccessPathTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask.AccessPathTask</code></a>, and the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.ChunkTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask.ChunkTask</code></a>. It is set by any
 of those tasks if they are interrupted or error out.</div>
</li>
</ul>
<a name="firstCause">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>firstCause</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicReference</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt; firstCause</pre>
<div class="block">Set by <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.BindingSetConsumerTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask.BindingSetConsumerTask</code></a>, <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.AccessPathTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask.AccessPathTask</code></a>, and
 <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.ChunkTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask.ChunkTask</code></a> if they throw an error. Tasks are required to use
 an <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html?is-external=true#compareAndSet(V,%20V)" title="class or interface in java.util.concurrent.atomic"><code>AtomicReference.compareAndSet(Object, Object)</code></a> and must
 specify <code>null</code> as the expected value. This ensures that
 only the first cause is recorded by this field.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="JoinTask(com.bigdata.relation.rule.IRule, com.bigdata.relation.rule.eval.IJoinNexus, int[], int, int, com.bigdata.relation.rule.eval.pipeline.IJoinMaster, java.util.UUID, com.bigdata.bop.IVariable[][])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JoinTask</h4>
<pre>public&nbsp;JoinTask(<a href="../../../../../../com/bigdata/relation/rule/IRule.html" title="interface in com.bigdata.relation.rule">IRule</a>&nbsp;rule,
        <a href="../../../../../../com/bigdata/relation/rule/eval/IJoinNexus.html" title="interface in com.bigdata.relation.rule.eval">IJoinNexus</a>&nbsp;joinNexus,
        int[]&nbsp;order,
        int&nbsp;orderIndex,
        int&nbsp;partitionId,
        <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/IJoinMaster.html" title="interface in com.bigdata.relation.rule.eval.pipeline">IJoinMaster</a>&nbsp;masterProxy,
        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;masterUUID,
        <a href="../../../../../../com/bigdata/bop/IVariable.html" title="interface in com.bigdata.bop">IVariable</a>[][]&nbsp;requiredVars)</pre>
<div class="block">Instances of this class MUST be created in the appropriate execution
 context of the target <a href="../../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a> so that the federation and
 the joinNexus references are both correct and so that it has access
 to the local index object for the specified index partition.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>concurrencyManager</code> - </dd><dd><code>indexName</code> - </dd><dd><code>rule</code> - </dd><dd><code>joinNexus</code> - </dd><dd><code>order</code> - </dd><dd><code>orderIndex</code> - </dd><dd><code>partitionId</code> - The index partition identifier and <code>-1</code> if
            the deployment does not support key-range partitioned
            indices.</dd><dd><code>masterProxy</code> - </dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTaskFactoryTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTaskFactoryTask</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="halt(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>halt</h4>
<pre>protected&nbsp;void&nbsp;halt(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;cause)</pre>
<div class="block">Indicate that join processing should halt.  This method is written
 defensively and will not throw anything.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cause</code> - The cause.</dd></dl>
</li>
</ul>
<a name="newUnsyncOutputBuffer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newUnsyncOutputBuffer</h4>
<pre>protected abstract&nbsp;<a href="../../../../../../com/bigdata/relation/accesspath/AbstractUnsynchronizedArrayBuffer.html" title="class in com.bigdata.relation.accesspath">AbstractUnsynchronizedArrayBuffer</a>&lt;<a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>&gt;&nbsp;newUnsyncOutputBuffer()</pre>
<div class="block">A method used by the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#threadLocalBufferFactory"><code>threadLocalBufferFactory</code></a> to create new
 output buffer as required. The output buffer will be used to
 aggregate <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s generated by this <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>.
 <p>
 Note: A different implementation class must be used depending on
 whether or not this is the last join dimension for the query (when it
 is, then we write on the solution buffer) and whether or not the
 target join index is key-range partitioned (when it is, each binding
 set is mapped across the sink <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>(s)).</div>
</li>
</ul>
<a name="getSolutionBuffer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSolutionBuffer</h4>
<pre>protected abstract&nbsp;<a href="../../../../../../com/bigdata/relation/accesspath/IBuffer.html" title="interface in com.bigdata.relation.accesspath">IBuffer</a>&lt;<a href="../../../../../../com/bigdata/relation/rule/eval/ISolution.html" title="interface in com.bigdata.relation.rule.eval">ISolution</a>[]&gt;&nbsp;getSolutionBuffer()</pre>
<div class="block">The buffer on which the last predicate in the evaluation order will
 write its <a href="../../../../../../com/bigdata/relation/rule/eval/ISolution.html" title="interface in com.bigdata.relation.rule.eval"><code>ISolution</code></a>s.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The buffer.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - unless <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#lastJoin"><code>lastJoin</code></a> is <code>true</code>.</dd></dl>
</li>
</ul>
<a name="getTailIndex(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTailIndex</h4>
<pre>protected final&nbsp;int&nbsp;getTailIndex(int&nbsp;orderIndex)</pre>
<div class="block">Return the index of the tail predicate to be evaluated at the given
 index in the evaluation order.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>orderIndex</code> - The evaluation order index.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The tail index to be evaluated at that index in the
         evaluation order.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="call()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>call</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&nbsp;call()
          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Runs the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true#call()" title="class or interface in java.util.concurrent">call</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd><code>null</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="logCallError(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logCallError</h4>
<pre>protected&nbsp;void&nbsp;logCallError(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block">Method is used to log the primary exception thrown by <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html#call()"><code>call()</code></a>.
 The default implementation does nothing and the exception will be logged
 by the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinMasterTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinMasterTask</code></a>. However, this method is overridden by
 <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/DistributedJoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>DistributedJoinTask</code></a> so that the exception can be logged on the
 host and <a href="../../../../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a> where it originates. This appears to be
 necessary in order to trace back the cause of an exception which can
 otherwise be obscured (or even lost?) in a deeply nested RMI stack trace.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>o</code> - </dd><dd><code>t</code> - </dd></dl>
</li>
</ul>
<a name="reportOnce()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportOnce</h4>
<pre>protected&nbsp;void&nbsp;reportOnce()</pre>
<div class="block">Method reports <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinStats.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinStats</code></a> to the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinMasterTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinMasterTask</code></a>, but
 only if they have not already been reported. This "report once"
 constraint is used to make it safe to invoke during error handling
 before actions which could cause the source <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>s (and
 hence the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinMasterTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinMasterTask</code></a>) to terminate.</div>
</li>
</ul>
<a name="consumeSources()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consumeSources</h4>
<pre>protected&nbsp;void&nbsp;consumeSources()
                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Consume <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a> chunks from source(s). The first join
 dimension always has a single source - the initialBindingSet
 established by the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinMasterTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinMasterTask</code></a>. Downstream join
 dimensions read from <a href="../../../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath"><code>IAsynchronousIterator</code></a>(s) from the
 upstream join dimension. When the <a href="../../../../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal"><code>IIndexManager</code></a> allows
 key-range partitions, then the fan-in for the sources may be larger
 than one as there will be one <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a> for each index
 partition touched by each join dimension.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dd><code><a href="../../../../../../com/bigdata/relation/accesspath/BufferClosedException.html" title="class in com.bigdata.relation.accesspath">BufferClosedException</a></code> - if there is an attempt to output a chunk of
             <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s or <a href="../../../../../../com/bigdata/relation/rule/eval/ISolution.html" title="interface in com.bigdata.relation.rule.eval"><code>ISolution</code></a>s and the
             output buffer is an <a href="../../../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html" title="interface in com.bigdata.relation.accesspath"><code>IBlockingBuffer</code></a> (true for all
             join dimensions exception the lastJoin and also true for
             query on the lastJoin) and that <a href="../../../../../../com/bigdata/relation/accesspath/IBlockingBuffer.html" title="interface in com.bigdata.relation.accesspath"><code>IBlockingBuffer</code></a>
             has been closed.</dd></dl>
</li>
</ul>
<a name="flushAndCloseBuffersAndAwaitSinks()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushAndCloseBuffersAndAwaitSinks</h4>
<pre>protected abstract&nbsp;void&nbsp;flushAndCloseBuffersAndAwaitSinks()
                                                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                                          <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Flush and close all output buffers and await sink <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>(s).
 <p>
 Note: You MUST close the <a href="../../../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a> from which each sink
 reads <em>before</em> invoking this method in order for those sinks to
 terminate. Otherwise the source <a href="../../../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath"><code>IAsynchronousIterator</code></a>(s) on which
 the sink is reading will remain open and the sink will never decide that
 it has exhausted its source(s).</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="cancelSinks()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelSinks</h4>
<pre>protected abstract&nbsp;void&nbsp;cancelSinks()</pre>
<div class="block">Cancel sink <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>(s).</div>
</li>
</ul>
<a name="nextChunk()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>nextChunk</h4>
<pre>protected abstract&nbsp;<a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop">IBindingSet</a>[]&nbsp;nextChunk()
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Return a chunk of <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s from the
 <a href="../../../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath"><code>IAsynchronousIterator</code></a>s. The 1st join dimension is always fed
 by the <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinMasterTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinMasterTask</code></a>. The nth+1 join dimension is always
 fed by the nth <a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><code>JoinTask</code></a>(s).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The next available chunk of <a href="../../../../../../com/bigdata/bop/IBindingSet.html" title="interface in com.bigdata.bop"><code>IBindingSet</code></a>s -or-
         <code>null</code> IFF all known source(s) are exhausted.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JoinTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinStats.html" title="class in com.bigdata.relation.rule.eval.pipeline"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/bigdata/relation/rule/eval/pipeline/JoinTask.AccessPathTask.html" title="class in com.bigdata.relation.rule.eval.pipeline"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/bigdata/relation/rule/eval/pipeline/JoinTask.html" target="_top">Frames</a></li>
<li><a href="JoinTask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
