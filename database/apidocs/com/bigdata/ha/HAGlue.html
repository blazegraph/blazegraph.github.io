<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Thu Jun 09 18:53:38 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>HAGlue (Blazegraph Database Platform 2.1.1 API)</title>
<meta name="date" content="2016-06-09">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HAGlue (Blazegraph Database Platform 2.1.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HAGlue.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/ha/HACommitGlue.html" title="interface in com.bigdata.ha"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/ha/HAGlueBase.html" title="interface in com.bigdata.ha"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/ha/HAGlue.html" target="_top">Frames</a></li>
<li><a href="HAGlue.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.ha</div>
<h2 title="Interface HAGlue" class="title">Interface HAGlue</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../com/bigdata/ha/HACommitGlue.html" title="interface in com.bigdata.ha">HACommitGlue</a>, <a href="../../../com/bigdata/ha/HAGlueBase.html" title="interface in com.bigdata.ha">HAGlueBase</a>, <a href="../../../com/bigdata/ha/HAPipelineGlue.html" title="interface in com.bigdata.ha">HAPipelineGlue</a>, <a href="../../../com/bigdata/ha/HAReadGlue.html" title="interface in com.bigdata.ha">HAReadGlue</a>, <a href="../../../com/bigdata/ha/HATXSGlue.html" title="interface in com.bigdata.ha">HATXSGlue</a>, <a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/Remote.html?is-external=true" title="class or interface in java.rmi">Remote</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../com/bigdata/journal/AbstractJournal.BasicHA.html" title="class in com.bigdata.journal">AbstractJournal.BasicHA</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">HAGlue</span>
extends <a href="../../../com/bigdata/ha/HAGlueBase.html" title="interface in com.bigdata.ha">HAGlueBase</a>, <a href="../../../com/bigdata/ha/HAPipelineGlue.html" title="interface in com.bigdata.ha">HAPipelineGlue</a>, <a href="../../../com/bigdata/ha/HAReadGlue.html" title="interface in com.bigdata.ha">HAReadGlue</a>, <a href="../../../com/bigdata/ha/HACommitGlue.html" title="interface in com.bigdata.ha">HACommitGlue</a>, <a href="../../../com/bigdata/ha/HATXSGlue.html" title="interface in com.bigdata.ha">HATXSGlue</a>, <a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a></pre>
<div class="block">A <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/Remote.html?is-external=true" title="class or interface in java.rmi"><code>Remote</code></a> interface for methods supporting high availability for a set
 of journals or data services having shared persistent state.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#awaitHAReady(long,%20java.util.concurrent.TimeUnit)">awaitHAReady</a></strong>(long&nbsp;timeout,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</code>
<div class="block">Await the service being ready to partitipate in an HA quorum.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/ha/msg/IHANotifyReleaseTimeResponse.html" title="interface in com.bigdata.ha.msg">IHANotifyReleaseTimeResponse</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#awaitServiceJoin(com.bigdata.ha.msg.IHAAwaitServiceJoinRequest)">awaitServiceJoin</a></strong>(<a href="../../../com/bigdata/ha/msg/IHAAwaitServiceJoinRequest.html" title="interface in com.bigdata.ha.msg">IHAAwaitServiceJoinRequest</a>&nbsp;req)</code>
<div class="block">A follower uses this message to request that the quorum leader await the
 visibility of the zookeeper event in which the service join becomes
 visible to the leader.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/ha/msg/IHADigestResponse.html" title="interface in com.bigdata.ha.msg">IHADigestResponse</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#computeDigest(com.bigdata.ha.msg.IHADigestRequest)">computeDigest</a></strong>(<a href="../../../com/bigdata/ha/msg/IHADigestRequest.html" title="interface in com.bigdata.ha.msg">IHADigestRequest</a>&nbsp;req)</code>
<div class="block">Compute the digest of the entire backing store - <strong>THIS METHOD IS
 ONLY FOR DIAGNOSTIC PURPOSES.</strong></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/ha/msg/IHALogDigestResponse.html" title="interface in com.bigdata.ha.msg">IHALogDigestResponse</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#computeHALogDigest(com.bigdata.ha.msg.IHALogDigestRequest)">computeHALogDigest</a></strong>(<a href="../../../com/bigdata/ha/msg/IHALogDigestRequest.html" title="interface in com.bigdata.ha.msg">IHALogDigestRequest</a>&nbsp;req)</code>
<div class="block">Compute the digest of the entire HALog file - <strong>THIS METHOD IS ONLY
 FOR DIAGNOSTIC PURPOSES.</strong></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/ha/msg/IHASnapshotDigestResponse.html" title="interface in com.bigdata.ha.msg">IHASnapshotDigestResponse</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#computeHASnapshotDigest(com.bigdata.ha.msg.IHASnapshotDigestRequest)">computeHASnapshotDigest</a></strong>(<a href="../../../com/bigdata/ha/msg/IHASnapshotDigestRequest.html" title="interface in com.bigdata.ha.msg">IHASnapshotDigestRequest</a>&nbsp;req)</code>
<div class="block">Compute the digest of the entire snapshot file - <strong>THIS METHOD IS
 ONLY FOR DIAGNOSTIC PURPOSES.</strong> This digest is computed for the
 compressed data so it may be compared directly with the digest of the
 backing store from which the snapshot was obtained.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#getExtendedRunState()">getExtendedRunState</a></strong>()</code>
<div class="block">The extended run state of the service - this embeds more information but
 is not designed for progamatic interpretation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/ha/HAStatusEnum.html" title="enum in com.bigdata.ha">HAStatusEnum</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#getHAStatus()">getHAStatus</a></strong>()</code>
<div class="block">A simplified summary of the HA status of the service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#getNSSPort()">getNSSPort</a></strong>()</code>
<div class="block">The port that the NanoSparqlServer is running on.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/ha/msg/IHARootBlockResponse.html" title="interface in com.bigdata.ha.msg">IHARootBlockResponse</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#getRootBlock(com.bigdata.ha.msg.IHARootBlockRequest)">getRootBlock</a></strong>(<a href="../../../com/bigdata/ha/msg/IHARootBlockRequest.html" title="interface in com.bigdata.ha.msg">IHARootBlockRequest</a>&nbsp;msg)</code>
<div class="block">Return the then current root block for the persistence store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/ha/RunState.html" title="enum in com.bigdata.ha">RunState</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#getRunState()">getRunState</a></strong>()</code>
<div class="block">The <a href="../../../com/bigdata/ha/RunState.html" title="enum in com.bigdata.ha"><code>RunState</code></a> of the service - this does NOT tell you whether the
 service is ready to act as a leader or follower.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#rebuildFromLeader(com.bigdata.ha.msg.IHARemoteRebuildRequest)">rebuildFromLeader</a></strong>(<a href="../../../com/bigdata/ha/msg/IHARemoteRebuildRequest.html" title="interface in com.bigdata.ha.msg">IHARemoteRebuildRequest</a>&nbsp;req)</code>
<div class="block">Disaster recovery (REBUILD) of the local database instance from the
 leader of a met quorum.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;T&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#submit(com.bigdata.ha.IIndexManagerCallable,%20boolean)">submit</a></strong>(<a href="../../../com/bigdata/ha/IIndexManagerCallable.html" title="interface in com.bigdata.ha">IIndexManagerCallable</a>&lt;T&gt;&nbsp;callable,
      boolean&nbsp;asyncFuture)</code>
<div class="block">Run the caller's task on the service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="../../../com/bigdata/ha/msg/IHASnapshotResponse.html" title="interface in com.bigdata.ha.msg">IHASnapshotResponse</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAGlue.html#takeSnapshot(com.bigdata.ha.msg.IHASnapshotRequest)">takeSnapshot</a></strong>(<a href="../../../com/bigdata/ha/msg/IHASnapshotRequest.html" title="interface in com.bigdata.ha.msg">IHASnapshotRequest</a>&nbsp;req)</code>
<div class="block">Request that the service take a snapshot.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.ha.HAGlueBase">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.ha.<a href="../../../com/bigdata/ha/HAGlueBase.html" title="interface in com.bigdata.ha">HAGlueBase</a></h3>
<code><a href="../../../com/bigdata/ha/HAGlueBase.html#getServiceId()">getServiceId</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.ha.HAPipelineGlue">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.ha.<a href="../../../com/bigdata/ha/HAPipelineGlue.html" title="interface in com.bigdata.ha">HAPipelineGlue</a></h3>
<code><a href="../../../com/bigdata/ha/HAPipelineGlue.html#getHALogRootBlocksForWriteSet(com.bigdata.ha.msg.IHALogRootBlocksRequest)">getHALogRootBlocksForWriteSet</a>, <a href="../../../com/bigdata/ha/HAPipelineGlue.html#getHAWriteSetState(com.bigdata.ha.msg.IHAWriteSetStateRequest)">getHAWriteSetState</a>, <a href="../../../com/bigdata/ha/HAPipelineGlue.html#getWritePipelineAddr()">getWritePipelineAddr</a>, <a href="../../../com/bigdata/ha/HAPipelineGlue.html#moveToEndOfPipeline()">moveToEndOfPipeline</a>, <a href="../../../com/bigdata/ha/HAPipelineGlue.html#receiveAndReplicate(com.bigdata.ha.msg.IHASyncRequest,%20com.bigdata.ha.msg.IHASendState,%20com.bigdata.ha.msg.IHAWriteMessage)">receiveAndReplicate</a>, <a href="../../../com/bigdata/ha/HAPipelineGlue.html#resetPipeline(com.bigdata.ha.IHAPipelineResetRequest)">resetPipeline</a>, <a href="../../../com/bigdata/ha/HAPipelineGlue.html#sendHALogForWriteSet(com.bigdata.ha.msg.IHALogRequest)">sendHALogForWriteSet</a>, <a href="../../../com/bigdata/ha/HAPipelineGlue.html#sendHAStore(com.bigdata.ha.msg.IHARebuildRequest)">sendHAStore</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.ha.HAReadGlue">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.ha.<a href="../../../com/bigdata/ha/HAReadGlue.html" title="interface in com.bigdata.ha">HAReadGlue</a></h3>
<code><a href="../../../com/bigdata/ha/HAReadGlue.html#readFromDisk(com.bigdata.ha.msg.IHAReadRequest)">readFromDisk</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.ha.HACommitGlue">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.ha.<a href="../../../com/bigdata/ha/HACommitGlue.html" title="interface in com.bigdata.ha">HACommitGlue</a></h3>
<code><a href="../../../com/bigdata/ha/HACommitGlue.html#abort2Phase(com.bigdata.ha.msg.IHA2PhaseAbortMessage)">abort2Phase</a>, <a href="../../../com/bigdata/ha/HACommitGlue.html#commit2Phase(com.bigdata.ha.msg.IHA2PhaseCommitMessage)">commit2Phase</a>, <a href="../../../com/bigdata/ha/HACommitGlue.html#prepare2Phase(com.bigdata.ha.msg.IHA2PhasePrepareMessage)">prepare2Phase</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.ha.HATXSGlue">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.ha.<a href="../../../com/bigdata/ha/HATXSGlue.html" title="interface in com.bigdata.ha">HATXSGlue</a></h3>
<code><a href="../../../com/bigdata/ha/HATXSGlue.html#gatherMinimumVisibleCommitTime(com.bigdata.ha.msg.IHAGatherReleaseTimeRequest)">gatherMinimumVisibleCommitTime</a>, <a href="../../../com/bigdata/ha/HATXSGlue.html#notifyEarliestCommitTime(com.bigdata.ha.msg.IHANotifyReleaseTimeRequest)">notifyEarliestCommitTime</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.service.IService">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.service.<a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a></h3>
<code><a href="../../../com/bigdata/service/IService.html#destroy()">destroy</a>, <a href="../../../com/bigdata/service/IService.html#getHostname()">getHostname</a>, <a href="../../../com/bigdata/service/IService.html#getServiceIface()">getServiceIface</a>, <a href="../../../com/bigdata/service/IService.html#getServiceName()">getServiceName</a>, <a href="../../../com/bigdata/service/IService.html#getServiceUUID()">getServiceUUID</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="awaitHAReady(long, java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitHAReady</h4>
<pre>long&nbsp;awaitHAReady(long&nbsp;timeout,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="class or interface in java.util.concurrent">TimeoutException</a>,
                         <a href="../../../com/bigdata/quorum/QuorumException.html" title="class in com.bigdata.quorum">QuorumException</a>,
                         <a href="../../../com/bigdata/quorum/AsynchronousQuorumCloseException.html" title="class in com.bigdata.quorum">AsynchronousQuorumCloseException</a></pre>
<div class="block">Await the service being ready to partitipate in an HA quorum. The
 preconditions include:
 <ol>
 <li>receiving notice of the quorum token via
 <code>#setQuorumToken(long)</code></li>
 <li>The service is joined with the met quorum for that token</li>
 <li>If the service is a follower and it's local root blocks were at
 <code>commitCounter:=0</code>, then the root blocks from the leader have
 been installed on the follower.</li>
 <ol></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - The timeout to await this condition.</dd><dd><code>units</code> - The units for that timeout.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the quorum token for which the service became HA ready.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="class or interface in java.util.concurrent">TimeoutException</a></code></dd>
<dd><code><a href="../../../com/bigdata/quorum/QuorumException.html" title="class in com.bigdata.quorum">QuorumException</a></code></dd>
<dd><code><a href="../../../com/bigdata/quorum/AsynchronousQuorumCloseException.html" title="class in com.bigdata.quorum">AsynchronousQuorumCloseException</a></code></dd></dl>
</li>
</ul>
<a name="awaitServiceJoin(com.bigdata.ha.msg.IHAAwaitServiceJoinRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitServiceJoin</h4>
<pre><a href="../../../com/bigdata/ha/msg/IHANotifyReleaseTimeResponse.html" title="interface in com.bigdata.ha.msg">IHANotifyReleaseTimeResponse</a>&nbsp;awaitServiceJoin(<a href="../../../com/bigdata/ha/msg/IHAAwaitServiceJoinRequest.html" title="interface in com.bigdata.ha.msg">IHAAwaitServiceJoinRequest</a>&nbsp;req)
                                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="class or interface in java.util.concurrent">TimeoutException</a></pre>
<div class="block">A follower uses this message to request that the quorum leader await the
 visibility of the zookeeper event in which the service join becomes
 visible to the leader. This is invoked while holding a lock that blocks
 pipeline replication, so the leader can not flush the write replication
 pipeline and enter the commit. The callback to the leader ensures that
 the service join is visible to the leader before the leader makes an
 atomic decision about the set of services that are joined with the met
 quorum for a 2-phase commit.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - The request.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The most recent consensus release time for the quorum leader.
         This information is used to ensure that a service which joins
         after a gather and before a PREPARE will join with the correct
         release time for its local journal and thus will not permit
         transactions to start against commit points which have been
         recycled by the quorum leader.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="class or interface in java.util.concurrent">TimeoutException</a></code> - if the timeout is exceeded before the service join becomes
             visible to this service.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="https://sourceforge.net/apps/trac/bigdata/ticket/681" >
      HAJournalServer deadlock: pipelineRemove() and getLeaderId()</a></dd></dl>
</li>
</ul>
<a name="getRootBlock(com.bigdata.ha.msg.IHARootBlockRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootBlock</h4>
<pre><a href="../../../com/bigdata/ha/msg/IHARootBlockResponse.html" title="interface in com.bigdata.ha.msg">IHARootBlockResponse</a>&nbsp;getRootBlock(<a href="../../../com/bigdata/ha/msg/IHARootBlockRequest.html" title="interface in com.bigdata.ha.msg">IHARootBlockRequest</a>&nbsp;msg)
                                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Return the then current root block for the persistence store.
 <p>
 Note: The initial root blocks are identical, so this may be used to
 create a new journal in a quorum by replicating the root blocks of the
 quorum leader.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The message requesting the then current root block.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The then current root block.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getNSSPort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNSSPort</h4>
<pre>int&nbsp;getNSSPort()
               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">The port that the NanoSparqlServer is running on.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getRunState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRunState</h4>
<pre><a href="../../../com/bigdata/ha/RunState.html" title="enum in com.bigdata.ha">RunState</a>&nbsp;getRunState()
                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">The <a href="../../../com/bigdata/ha/RunState.html" title="enum in com.bigdata.ha"><code>RunState</code></a> of the service - this does NOT tell you whether the
 service is ready to act as a leader or follower.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getExtendedRunState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExtendedRunState</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getExtendedRunState()
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">The extended run state of the service - this embeds more information but
 is not designed for progamatic interpretation.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getHAStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHAStatus</h4>
<pre><a href="../../../com/bigdata/ha/HAStatusEnum.html" title="enum in com.bigdata.ha">HAStatusEnum</a>&nbsp;getHAStatus()
                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">A simplified summary of the HA status of the service. This may be used to
 reliably decide whether the service is the <a href="../../../com/bigdata/ha/HAStatusEnum.html#Leader"><code>HAStatusEnum.Leader</code></a>, a
 <a href="../../../com/bigdata/ha/HAStatusEnum.html#Follower"><code>HAStatusEnum.Follower</code></a>, or <a href="../../../com/bigdata/ha/HAStatusEnum.html#NotReady"><code>HAStatusEnum.NotReady</code></a>. This is
 exposed both here (an RMI interface) and by the REST API.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="computeDigest(com.bigdata.ha.msg.IHADigestRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeDigest</h4>
<pre><a href="../../../com/bigdata/ha/msg/IHADigestResponse.html" title="interface in com.bigdata.ha.msg">IHADigestResponse</a>&nbsp;computeDigest(<a href="../../../com/bigdata/ha/msg/IHADigestRequest.html" title="interface in com.bigdata.ha.msg">IHADigestRequest</a>&nbsp;req)
                                throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                       <a href="http://docs.oracle.com/javase/7/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a>,
                                       <a href="http://docs.oracle.com/javase/7/docs/api/java/security/DigestException.html?is-external=true" title="class or interface in java.security">DigestException</a></pre>
<div class="block">Compute the digest of the entire backing store - <strong>THIS METHOD IS
 ONLY FOR DIAGNOSTIC PURPOSES.</strong>
 <p>
 The digest is useless if there are concurrent writes since it can not be
 meaningfully compared with the digest of another store unless both stores
 are known to be stable.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/security/DigestException.html?is-external=true" title="class or interface in java.security">DigestException</a></code></dd></dl>
</li>
</ul>
<a name="computeHALogDigest(com.bigdata.ha.msg.IHALogDigestRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeHALogDigest</h4>
<pre><a href="../../../com/bigdata/ha/msg/IHALogDigestResponse.html" title="interface in com.bigdata.ha.msg">IHALogDigestResponse</a>&nbsp;computeHALogDigest(<a href="../../../com/bigdata/ha/msg/IHALogDigestRequest.html" title="interface in com.bigdata.ha.msg">IHALogDigestRequest</a>&nbsp;req)
                                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                               <a href="http://docs.oracle.com/javase/7/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a>,
                                               <a href="http://docs.oracle.com/javase/7/docs/api/java/security/DigestException.html?is-external=true" title="class or interface in java.security">DigestException</a></pre>
<div class="block">Compute the digest of the entire HALog file - <strong>THIS METHOD IS ONLY
 FOR DIAGNOSTIC PURPOSES.</strong>
 <p>
 The digest is useless if there are concurrent writes since it can not be
 meaningfully compared with the digest of another store unless both stores
 are known to be stable.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/FileNotFoundException.html?is-external=true" title="class or interface in java.io">FileNotFoundException</a></code> - if the HALog for the specified commit point does not exist.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/security/DigestException.html?is-external=true" title="class or interface in java.security">DigestException</a></code></dd></dl>
</li>
</ul>
<a name="computeHASnapshotDigest(com.bigdata.ha.msg.IHASnapshotDigestRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeHASnapshotDigest</h4>
<pre><a href="../../../com/bigdata/ha/msg/IHASnapshotDigestResponse.html" title="interface in com.bigdata.ha.msg">IHASnapshotDigestResponse</a>&nbsp;computeHASnapshotDigest(<a href="../../../com/bigdata/ha/msg/IHASnapshotDigestRequest.html" title="interface in com.bigdata.ha.msg">IHASnapshotDigestRequest</a>&nbsp;req)
                                                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                                         <a href="http://docs.oracle.com/javase/7/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a>,
                                                         <a href="http://docs.oracle.com/javase/7/docs/api/java/security/DigestException.html?is-external=true" title="class or interface in java.security">DigestException</a></pre>
<div class="block">Compute the digest of the entire snapshot file - <strong>THIS METHOD IS
 ONLY FOR DIAGNOSTIC PURPOSES.</strong> This digest is computed for the
 compressed data so it may be compared directly with the digest of the
 backing store from which the snapshot was obtained.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/FileNotFoundException.html?is-external=true" title="class or interface in java.io">FileNotFoundException</a></code> - if no snapshot exists for that commit point.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/security/DigestException.html?is-external=true" title="class or interface in java.security">DigestException</a></code></dd></dl>
</li>
</ul>
<a name="takeSnapshot(com.bigdata.ha.msg.IHASnapshotRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>takeSnapshot</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="../../../com/bigdata/ha/msg/IHASnapshotResponse.html" title="interface in com.bigdata.ha.msg">IHASnapshotResponse</a>&gt;&nbsp;takeSnapshot(<a href="../../../com/bigdata/ha/msg/IHASnapshotRequest.html" title="interface in com.bigdata.ha.msg">IHASnapshotRequest</a>&nbsp;req)
                                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Request that the service take a snapshot. If there is already a snapshot
 in progress, then the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> for that request will be returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - The request (optional). When <code>null</code>, the
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> for any existing snapshot operation will be
            returned but the request WILL NOT schedule a snapshot if none
            is running.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> for the snapshot -or- <code>null</code> if no
         snapshot is running and none will be taken for that request.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="rebuildFromLeader(com.bigdata.ha.msg.IHARemoteRebuildRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rebuildFromLeader</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;rebuildFromLeader(<a href="../../../com/bigdata/ha/msg/IHARemoteRebuildRequest.html" title="interface in com.bigdata.ha.msg">IHARemoteRebuildRequest</a>&nbsp;req)
                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Disaster recovery (REBUILD) of the local database instance from the
 leader of a met quorum.
 
 There are several preconditions:
 <ul>
 
 <li>The quorum must be met and there must be an
 <code>HAStatusEnum#Ready</code> leader.</li>
 
 <li>This service must be <a href="../../../com/bigdata/ha/HAStatusEnum.html#NotReady"><code>HAStatusEnum.NotReady</code></a>.</li>
 
 <li>This service MUST NOT be at the same commit point as the leader (if
 it is, then the service could meet in a data race with the met quorum and
 we do not permit RESTORE if the service is joined with the met quorum).</li>
 
 <li>The <code>HAJournalServer</code> must not be running a RESTORE (we don't
 want it to accidentally interrupt a RESTORE that is in progress).</li>
 
 </ul></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The (asynchronous) <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> of the REBUILD operation -or-
         <code>null</code> if any of the pre-conditions were violated.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="submit(com.bigdata.ha.IIndexManagerCallable, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>submit</h4>
<pre>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;T&gt;&nbsp;submit(<a href="../../../com/bigdata/ha/IIndexManagerCallable.html" title="interface in com.bigdata.ha">IIndexManagerCallable</a>&lt;T&gt;&nbsp;callable,
                   boolean&nbsp;asyncFuture)
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Run the caller's task on the service.
 <p>
 Note: This interface provides direct access to the raw index manager.
 Caller's requiring concurrency control should submit an <a href="../../../com/bigdata/rdf/task/IApiTask.html" title="interface in com.bigdata.rdf.task"><code>IApiTask</code></a>
 in order to have their task queue for the necessary locks and run on the
 appropriate executor service.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>callable</code> - The task to run on the service.</dd><dd><code>asyncFuture</code> - <code>true</code> if the task will execute asynchronously
            and return a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> for the computation that may
            be used to inspect and/or cancel the computation.
            <code>false</code> if the task will execute synchronously
            and return a thick <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HAGlue.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/ha/HACommitGlue.html" title="interface in com.bigdata.ha"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/ha/HAGlueBase.html" title="interface in com.bigdata.ha"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/ha/HAGlue.html" target="_top">Frames</a></li>
<li><a href="HAGlue.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
