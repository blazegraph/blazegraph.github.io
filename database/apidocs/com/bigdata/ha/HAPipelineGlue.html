<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Fri Apr 08 18:36:40 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>HAPipelineGlue (Blazegraph Database Platform 2.1.0 API)</title>
<meta name="date" content="2016-04-08">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HAPipelineGlue (Blazegraph Database Platform 2.1.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HAPipelineGlue.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/ha/HAGlueBase.html" title="interface in com.bigdata.ha"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/ha/HAPipelineResetRequest.html" title="class in com.bigdata.ha"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/ha/HAPipelineGlue.html" target="_top">Frames</a></li>
<li><a href="HAPipelineGlue.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.ha</div>
<h2 title="Interface HAPipelineGlue" class="title">Interface HAPipelineGlue</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/Remote.html?is-external=true" title="class or interface in java.rmi">Remote</a></dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../com/bigdata/journal/AbstractJournal.BasicHA.html" title="class in com.bigdata.journal">AbstractJournal.BasicHA</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">HAPipelineGlue</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/Remote.html?is-external=true" title="class or interface in java.rmi">Remote</a></pre>
<div class="block">A <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/Remote.html?is-external=true" title="class or interface in java.rmi"><code>Remote</code></a> interface supporting the write replication pipeline. The
 quorum leader accepts writes from the application layer. The writes are
 formatted onto low-level cache blocks. Those cache blocks are replicated from
 the quorum leader to the quorum followers along the pipeline.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/ha/QuorumPipeline.html" title="interface in com.bigdata.ha"><code>QuorumPipeline</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/ha/msg/IHALogRootBlocksResponse.html" title="interface in com.bigdata.ha.msg">IHALogRootBlocksResponse</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAPipelineGlue.html#getHALogRootBlocksForWriteSet(com.bigdata.ha.msg.IHALogRootBlocksRequest)">getHALogRootBlocksForWriteSet</a></strong>(<a href="../../../com/bigdata/ha/msg/IHALogRootBlocksRequest.html" title="interface in com.bigdata.ha.msg">IHALogRootBlocksRequest</a>&nbsp;msg)</code>
<div class="block">Request the root blocks for the HA Log for the specified commit point.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/ha/msg/IHAWriteSetStateResponse.html" title="interface in com.bigdata.ha.msg">IHAWriteSetStateResponse</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAPipelineGlue.html#getHAWriteSetState(com.bigdata.ha.msg.IHAWriteSetStateRequest)">getHAWriteSetState</a></strong>(<a href="../../../com/bigdata/ha/msg/IHAWriteSetStateRequest.html" title="interface in com.bigdata.ha.msg">IHAWriteSetStateRequest</a>&nbsp;req)</code>
<div class="block">Request metadata about the current write set from the quorum leader.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAPipelineGlue.html#getWritePipelineAddr()">getWritePipelineAddr</a></strong>()</code>
<div class="block">Return the address at which this service will listen for write pipeline
 messages sent from the upstream service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAPipelineGlue.html#moveToEndOfPipeline()">moveToEndOfPipeline</a></strong>()</code>
<div class="block">Instruct the service to move to the end of the write pipeline.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAPipelineGlue.html#receiveAndReplicate(com.bigdata.ha.msg.IHASyncRequest,%20com.bigdata.ha.msg.IHASendState,%20com.bigdata.ha.msg.IHAWriteMessage)">receiveAndReplicate</a></strong>(<a href="../../../com/bigdata/ha/msg/IHASyncRequest.html" title="interface in com.bigdata.ha.msg">IHASyncRequest</a>&nbsp;req,
                   <a href="../../../com/bigdata/ha/msg/IHASendState.html" title="interface in com.bigdata.ha.msg">IHASendState</a>&nbsp;snd,
                   <a href="../../../com/bigdata/ha/msg/IHAWriteMessage.html" title="interface in com.bigdata.ha.msg">IHAWriteMessage</a>&nbsp;msg)</code>
<div class="block">Accept metadata describing an NIO buffer transfer along the write
 pipeline.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="../../../com/bigdata/ha/IHAPipelineResetResponse.html" title="interface in com.bigdata.ha">IHAPipelineResetResponse</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAPipelineGlue.html#resetPipeline(com.bigdata.ha.IHAPipelineResetRequest)">resetPipeline</a></strong>(<a href="../../../com/bigdata/ha/IHAPipelineResetRequest.html" title="interface in com.bigdata.ha">IHAPipelineResetRequest</a>&nbsp;req)</code>
<div class="block">Reset the pipeline (blocking).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAPipelineGlue.html#sendHALogForWriteSet(com.bigdata.ha.msg.IHALogRequest)">sendHALogForWriteSet</a></strong>(<a href="../../../com/bigdata/ha/msg/IHALogRequest.html" title="interface in com.bigdata.ha.msg">IHALogRequest</a>&nbsp;msg)</code>
<div class="block">The recipient will send the <a href="../../../com/bigdata/io/writecache/WriteCache.html" title="class in com.bigdata.io.writecache"><code>WriteCache</code></a> blocks for the specified
 write set on the write pipeline.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="../../../com/bigdata/ha/msg/IHASendStoreResponse.html" title="interface in com.bigdata.ha.msg">IHASendStoreResponse</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/ha/HAPipelineGlue.html#sendHAStore(com.bigdata.ha.msg.IHARebuildRequest)">sendHAStore</a></strong>(<a href="../../../com/bigdata/ha/msg/IHARebuildRequest.html" title="interface in com.bigdata.ha.msg">IHARebuildRequest</a>&nbsp;msg)</code>
<div class="block">Send the raw blocks for the requested backing store across the write
 pipeline.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getWritePipelineAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWritePipelineAddr</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;getWritePipelineAddr()
                                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Return the address at which this service will listen for write pipeline
 messages sent from the upstream service.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="moveToEndOfPipeline()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveToEndOfPipeline</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;moveToEndOfPipeline()
                                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Instruct the service to move to the end of the write pipeline. The leader
 MUST be the first service in the write pipeline since it is the service
 to which the application directs all write requests. This message is used
 when a leader will be elected and it needs to force other services before
 it in the write pipeline to leave/add themselves from/to the write
 pipeline such that the leader becomes the first service in the write
 pipeline.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="resetPipeline(com.bigdata.ha.IHAPipelineResetRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetPipeline</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="../../../com/bigdata/ha/IHAPipelineResetResponse.html" title="interface in com.bigdata.ha">IHAPipelineResetResponse</a>&gt;&nbsp;resetPipeline(<a href="../../../com/bigdata/ha/IHAPipelineResetRequest.html" title="interface in com.bigdata.ha">IHAPipelineResetRequest</a>&nbsp;req)
                                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Reset the pipeline (blocking). This message is used to handle an error in
 pipeline replication. If replication fails, the socket connections both
 upstream and downstream of the point of failure can be left in an
 indeterminate state with partially buffered data. In order to bring the
 pipeline back into a known state (without forcing a quorum break) we
 message each service in the pipeline to reset its
 <a href="../../../com/bigdata/ha/pipeline/HAReceiveService.html" title="class in com.bigdata.ha.pipeline"><code>HAReceiveService</code></a> (including the inner <a href="../../../com/bigdata/ha/pipeline/HASendService.html" title="class in com.bigdata.ha.pipeline"><code>HASendService</code></a>). The
 next message and payload relayed from the leader will cause new socket
 connections to be established.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The request.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> for the operation on the remote service.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="receiveAndReplicate(com.bigdata.ha.msg.IHASyncRequest, com.bigdata.ha.msg.IHASendState, com.bigdata.ha.msg.IHAWriteMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveAndReplicate</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;receiveAndReplicate(<a href="../../../com/bigdata/ha/msg/IHASyncRequest.html" title="interface in com.bigdata.ha.msg">IHASyncRequest</a>&nbsp;req,
                               <a href="../../../com/bigdata/ha/msg/IHASendState.html" title="interface in com.bigdata.ha.msg">IHASendState</a>&nbsp;snd,
                               <a href="../../../com/bigdata/ha/msg/IHAWriteMessage.html" title="interface in com.bigdata.ha.msg">IHAWriteMessage</a>&nbsp;msg)
                                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Accept metadata describing an NIO buffer transfer along the write
 pipeline. This method is never invoked on the master. It is only invoked
 on the failover nodes, including the last node in the failover chain.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - A request for an HALog (optional). This is only non-null when
            historical <a href="../../../com/bigdata/io/writecache/WriteCache.html" title="class in com.bigdata.io.writecache"><code>WriteCache</code></a> blocks are being replayed down
            the write pipeline in order to synchronize a service.</dd><dd><code>snd</code> - Metadata about the state of the sender and potentially the
            routing of the payload along the write replication pipeline.</dd><dd><code>msg</code> - The metadata.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> which will become available once the buffer
         transfer is complete.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getHAWriteSetState(com.bigdata.ha.msg.IHAWriteSetStateRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHAWriteSetState</h4>
<pre><a href="../../../com/bigdata/ha/msg/IHAWriteSetStateResponse.html" title="interface in com.bigdata.ha.msg">IHAWriteSetStateResponse</a>&nbsp;getHAWriteSetState(<a href="../../../com/bigdata/ha/msg/IHAWriteSetStateRequest.html" title="interface in com.bigdata.ha.msg">IHAWriteSetStateRequest</a>&nbsp;req)
                                            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Request metadata about the current write set from the quorum leader.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - The request.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The response.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getHALogRootBlocksForWriteSet(com.bigdata.ha.msg.IHALogRootBlocksRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHALogRootBlocksForWriteSet</h4>
<pre><a href="../../../com/bigdata/ha/msg/IHALogRootBlocksResponse.html" title="interface in com.bigdata.ha.msg">IHALogRootBlocksResponse</a>&nbsp;getHALogRootBlocksForWriteSet(<a href="../../../com/bigdata/ha/msg/IHALogRootBlocksRequest.html" title="interface in com.bigdata.ha.msg">IHALogRootBlocksRequest</a>&nbsp;msg)
                                                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Request the root blocks for the HA Log for the specified commit point.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The request (specifies the desired HA Log by the commit
            counter of the closing root block).</dd>
<dt><span class="strong">Returns:</span></dt><dd>The requested root blocks.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="sendHALogForWriteSet(com.bigdata.ha.msg.IHALogRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendHALogForWriteSet</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;sendHALogForWriteSet(<a href="../../../com/bigdata/ha/msg/IHALogRequest.html" title="interface in com.bigdata.ha.msg">IHALogRequest</a>&nbsp;msg)
                                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">The recipient will send the <a href="../../../com/bigdata/io/writecache/WriteCache.html" title="class in com.bigdata.io.writecache"><code>WriteCache</code></a> blocks for the specified
 write set on the write pipeline. These <a href="../../../com/bigdata/io/writecache/WriteCache.html" title="class in com.bigdata.io.writecache"><code>WriteCache</code></a> blocks will be
 visible to ALL services in the write pipeline. It is important that all
 services <em>ignore</em> <a href="../../../com/bigdata/io/writecache/WriteCache.html" title="class in com.bigdata.io.writecache"><code>WriteCache</code></a> blocks that are not in
 sequence for the current write set unless they have explicitly requested
 an HALog using this method.
 <p>
 Note: The <a href="../../../com/bigdata/io/writecache/WriteCache.html" title="class in com.bigdata.io.writecache"><code>WriteCache</code></a> blocks are sent on the write pipeline.
 Therefore, a service MUST NOT request the write set from a service that
 is downstream from it in the write pipeline. It is always safe to request
 the data from the leader.
 <p>
 Note: The <a href="../../../com/bigdata/ha/msg/HAWriteMessage.html" title="class in com.bigdata.ha.msg"><code>HAWriteMessage</code></a> includes a quorum token. When historical
 <a href="../../../com/bigdata/io/writecache/WriteCache.html" title="class in com.bigdata.io.writecache"><code>WriteCache</code></a> blocks are being replicated in response to this
 method, the will be replicated using the quorum token that was in effect
 for that write set. Implementations MUST NOT perform asserts on the
 quorum token until after they have determined that the message is for the
 <em>current</em> write set.
 <p>
 Note: DO NOT use a <a href="../../../com/bigdata/service/proxy/ThickFuture.html" title="class in com.bigdata.service.proxy"><code>ThickFuture</code></a> for the returned <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>.
 That will defeat the ability of the requester to cancel the
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - A request for an HALog.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> that may be used to cancel the remote process
         sending the data through the write pipeline.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="sendHAStore(com.bigdata.ha.msg.IHARebuildRequest)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>sendHAStore</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="../../../com/bigdata/ha/msg/IHASendStoreResponse.html" title="interface in com.bigdata.ha.msg">IHASendStoreResponse</a>&gt;&nbsp;sendHAStore(<a href="../../../com/bigdata/ha/msg/IHARebuildRequest.html" title="interface in com.bigdata.ha.msg">IHARebuildRequest</a>&nbsp;msg)
                                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Send the raw blocks for the requested backing store across the write
 pipeline.
 <p>
 Note: This method supports disaster recovery of a service from a met
 quorum. This procedure can only be used when a met quorum exists.
 <p>
 Note: DO NOT use a <a href="../../../com/bigdata/service/proxy/ThickFuture.html" title="class in com.bigdata.service.proxy"><code>ThickFuture</code></a> for the returned <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>.
 That will defeat the ability of the requester to cancel the
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - A request to replicate a backing store.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> that may be used to cancel the remote process
         sending the data through the write pipeline. The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>
         will report the current root block in effect as of the moment
         when the <code>sendHAStore</code> operation was completed.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HAPipelineGlue.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/ha/HAGlueBase.html" title="interface in com.bigdata.ha"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/ha/HAPipelineResetRequest.html" title="class in com.bigdata.ha"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/ha/HAPipelineGlue.html" target="_top">Frames</a></li>
<li><a href="HAPipelineGlue.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
