<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Mon Aug 29 21:18:10 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MemStrategy (Blazegraph Database Platform 2.1.4 API)</title>
<meta name="date" content="2016-08-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MemStrategy (Blazegraph Database Platform 2.1.4 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemStrategy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/rwstore/sector/MemStore.html" title="class in com.bigdata.rwstore.sector"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/rwstore/sector/PSInputStream.html" title="class in com.bigdata.rwstore.sector"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/rwstore/sector/MemStrategy.html" target="_top">Frames</a></li>
<li><a href="MemStrategy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.rwstore.sector</div>
<h2 title="Class MemStrategy" class="title">Class MemStrategy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.rwstore.sector.MemStrategy</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a>, <a href="../../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a>, <a href="../../../../com/bigdata/rawstore/IAllocationManagerStore.html" title="interface in com.bigdata.rawstore">IAllocationManagerStore</a>, <a href="../../../../com/bigdata/rawstore/IMRMW.html" title="interface in com.bigdata.rawstore">IMRMW</a>, <a href="../../../../com/bigdata/rawstore/IMROW.html" title="interface in com.bigdata.rawstore">IMROW</a>, <a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>, <a href="../../../../com/bigdata/rawstore/IStreamStore.html" title="interface in com.bigdata.rawstore">IStreamStore</a>, <a href="../../../../com/bigdata/rwstore/IAllocationManager.html" title="interface in com.bigdata.rwstore">IAllocationManager</a>, <a href="../../../../com/bigdata/rwstore/IHistoryManager.html" title="interface in com.bigdata.rwstore">IHistoryManager</a>, <a href="../../../../com/bigdata/rwstore/IRWStrategy.html" title="interface in com.bigdata.rwstore">IRWStrategy</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">MemStrategy</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a>, <a href="../../../../com/bigdata/rwstore/IRWStrategy.html" title="interface in com.bigdata.rwstore">IRWStrategy</a>, <a href="../../../../com/bigdata/rawstore/IAllocationManagerStore.html" title="interface in com.bigdata.rawstore">IAllocationManagerStore</a></pre>
<div class="block">A buffer implementation backed by an <a href="../../../../com/bigdata/rwstore/sector/IMemoryManager.html" title="interface in com.bigdata.rwstore.sector"><code>IMemoryManager</code></a>.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:matyncutcher@users.sourceforge.net">Martyn Cutcher</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.rawstore.IAddressManager">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.bigdata.rawstore.<a href="../../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></h3>
<code><a href="../../../../com/bigdata/rawstore/IAddressManager.html#NULL">NULL</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#MemStrategy(com.bigdata.rwstore.sector.IMemoryManager)">MemStrategy</a></strong>(<a href="../../../../com/bigdata/rwstore/sector/IMemoryManager.html" title="interface in com.bigdata.rwstore.sector">IMemoryManager</a>&nbsp;mmgr)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#abort()">abort</a></strong>()</code>
<div class="block">A method that requires the implementation to discard its buffered write
 set (if any).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#abortContext(com.bigdata.rawstore.IAllocationContext)">abortContext</a></strong>(<a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</code>
<div class="block">Indicates that the allocation context will no longer be used and that the
 allocations made within the context should be discarded.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#checkDeferredFrees(com.bigdata.journal.AbstractJournal)">checkDeferredFrees</a></strong>(<a href="../../../../com/bigdata/journal/AbstractJournal.html" title="class in com.bigdata.journal">AbstractJournal</a>&nbsp;abstractJournal)</code>
<div class="block">This method is invoked during the commit protocol and gives the backing
 store an opportunity to check whether storage associated with deferred
 frees can now be released.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#close()">close</a></strong>()</code>
<div class="block">Close the store immediately.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#closeForWrites()">closeForWrites</a></strong>()</code>
<div class="block">Seals the store against further writes and discards any write caches
 since they will no longer be used.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#commit()">commit</a></strong>()</code>
<div class="block">A method that removes assumptions of how a specific strategy commits
 data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#delete(long)">delete</a></strong>(long&nbsp;addr)</code>
<div class="block">Delete the data (unisolated).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#delete(long,%20com.bigdata.rawstore.IAllocationContext)">delete</a></strong>(long&nbsp;addr,
      <a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</code>
<div class="block">Delete the data associated with the address within the allocation
 context.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#deleteResources()">deleteResources</a></strong>()</code>
<div class="block">Deletes the backing file(s) (if any).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#destroy()">destroy</a></strong>()</code>
<div class="block">Closes the store immediately (if open) and deletes its persistent
 resources.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#detachContext(com.bigdata.rawstore.IAllocationContext)">detachContext</a></strong>(<a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</code>
<div class="block">Indicates that the allocation context will no longer be used, but that
 the allocations made within the context should be preserved.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#force(boolean)">force</a></strong>(boolean&nbsp;metadata)</code>
<div class="block">Force the data to stable storage.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getAddressManager()">getAddressManager</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/journal/BufferMode.html" title="enum in com.bigdata.journal">BufferMode</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getBufferMode()">getBufferMode</a></strong>()</code>
<div class="block">The buffer mode supported by the implementation</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getByteCount(long)">getByteCount</a></strong>(long&nbsp;addr)</code>
<div class="block">The length of the datum in bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks">Lock</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getCommitLock()">getCommitLock</a></strong>()</code>
<div class="block">Optionally return a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks"><code>Lock</code></a> that must be used (when non-
 <code>null</code>) to make the <a href="../../../../com/bigdata/journal/IBufferStrategy.html#commit()"><code>IBufferStrategy.commit()</code></a> /
 <a href="../../../../com/bigdata/rwstore/IRWStrategy.html#postCommit()"><code>IRWStrategy.postCommit()</code></a> strategy atomic.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getCounters()">getCounters</a></strong>()</code>
<div class="block">Return the performance counter hierarchy.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getExtent()">getExtent</a></strong>()</code>
<div class="block">The current size of the journal in bytes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getFile()">getFile</a></strong>()</code>
<div class="block">The backing file -or- <code>null</code> if there is no backing file
 for the store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getHeaderSize()">getHeaderSize</a></strong>()</code>
<div class="block">The size of the journal header, including MAGIC, version, and both root
 blocks.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getInitialExtent()">getInitialExtent</a></strong>()</code>
<div class="block">The initial extent.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getInputStream(long)">getInputStream</a></strong>(long&nbsp;addr)</code>
<div class="block">Return an input stream from which a previously written stream may be read
 back.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getLastReleaseTime()">getLastReleaseTime</a></strong>()</code>
<div class="block">If history is retained this returns the time for which data was most
 recently released.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getMaximumExtent()">getMaximumExtent</a></strong>()</code>
<div class="block">The maximum extent allowable before a buffer overflow operation will be
 rejected.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getMaxRecordSize()">getMaxRecordSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getMetaBitsAddr()">getMetaBitsAddr</a></strong>()</code>
<div class="block">The RWStrategy requires meta allocation info in the root block, this
 method is the hook to enable access.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getMetaStartAddr()">getMetaStartAddr</a></strong>()</code>
<div class="block">The RWStrategy requires meta allocation info in the root block, this
 method is the hook to enable access.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getNextOffset()">getNextOffset</a></strong>()</code>
<div class="block">The next offset at which a data item would be written on the store as an
 offset into the <em>user extent</em>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getOffset(long)">getOffset</a></strong>(long&nbsp;addr)</code>
<div class="block">The offset on the store at which the datum is stored.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getOffsetBits()">getOffsetBits</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore">IPSOutputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getOutputStream()">getOutputStream</a></strong>()</code>
<div class="block">Return an output stream which can be used to write on the backing store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore">IPSOutputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getOutputStream(com.bigdata.rawstore.IAllocationContext)">getOutputStream</a></strong>(<a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</code>
<div class="block">Return an output stream which can be used to write on the backing store
 within the given allocation context.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getPhysicalAddress(long)">getPhysicalAddress</a></strong>(long&nbsp;addr)</code>
<div class="block">Determine the unencoded physical address</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi">IResourceMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getResourceMetadata()">getResourceMetadata</a></strong>()</code>
<div class="block">A description of this store in support of the scale-out architecture.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/rwstore/sector/IMemoryManager.html" title="interface in com.bigdata.rwstore.sector">IMemoryManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getStore()">getStore</a></strong>()</code>
<div class="block">Return the backing <a href="../../../../com/bigdata/rwstore/IStore.html" title="interface in com.bigdata.rwstore"><code>IStore</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getUserExtent()">getUserExtent</a></strong>()</code>
<div class="block">The size of the user data extent in bytes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#getUUID()">getUUID</a></strong>()</code>
<div class="block">Return the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> which identifies this <a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#isCommitted(long)">isCommitted</a></strong>(long&nbsp;addr)</code>
<div class="block">Return <code>true</code> iff the allocation having that address is
 flagged as committed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#isDirty()">isDirty</a></strong>()</code>
<div class="block">Return <code>true</code> if the store has been modified since the last
 <a href="../../../../com/bigdata/journal/IBufferStrategy.html#commit()"><code>IBufferStrategy.commit()</code></a> or <a href="../../../../com/bigdata/journal/IBufferStrategy.html#abort()"><code>IBufferStrategy.abort()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#isFullyBuffered()">isFullyBuffered</a></strong>()</code>
<div class="block">True iff the store is fully buffered (all reads are against memory).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#isOpen()">isOpen</a></strong>()</code>
<div class="block"><code>true</code> iff the store is open.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#isReadOnly()">isReadOnly</a></strong>()</code>
<div class="block"><code>true</code> iff the store does not allow writes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#isStable()">isStable</a></strong>()</code>
<div class="block">True iff backed by stable storage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#newAllocationContext(boolean)">newAllocationContext</a></strong>(boolean&nbsp;isolated)</code>
<div class="block">Creates a context to be used to isolate updates to within the context until it
 is released to the parent environment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/bigdata/rwstore/IRawTx.html" title="interface in com.bigdata.rwstore">IRawTx</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#newTx()">newTx</a></strong>()</code>
<div class="block">A hook used to support session protection by incrementing and
 decrementing a transaction counter within the <a href="../../../../com/bigdata/rwstore/IStore.html" title="interface in com.bigdata.rwstore"><code>IStore</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#postCommit()">postCommit</a></strong>()</code>
<div class="block">Called post commit to dispose any transient commit state retained to
 support reset/rollback.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#read(long)">read</a></strong>(long&nbsp;addr)</code>
<div class="block">Read the data (unisolated).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#readRootBlock(boolean)">readRootBlock</a></strong>(boolean&nbsp;rootBlock0)</code>
<div class="block">Read the specified root block from the backing file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#registerExternalCache(com.bigdata.cache.ConcurrentWeakValueCache,%20int)">registerExternalCache</a></strong>(<a href="../../../../com/bigdata/cache/ConcurrentWeakValueCache.html" title="class in com.bigdata.cache">ConcurrentWeakValueCache</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,<a href="../../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a>&gt;&nbsp;historicalIndexCache,
                     int&nbsp;byteCount)</code>
<div class="block">Call made from AbstractJournal to register the cache used.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#requiresCommit(com.bigdata.journal.IRootBlockView)">requiresCommit</a></strong>(<a href="../../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;block)</code>
<div class="block">A method that removes assumptions of how a specific strategy determines
 whether a transaction commit is required.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#saveDeferrals()">saveDeferrals</a></strong>()</code>
<div class="block">Saves the current list of delete blocks, returning the address allocated.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#size()">size</a></strong>()</code>
<div class="block">The #of application data bytes written on the store (does not count any
 headers or root blocks that may exist for the store).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#toAddr(int,%20long)">toAddr</a></strong>(int&nbsp;nbytes,
      long&nbsp;offset)</code>
<div class="block">Converts a byte count and offset into a long integer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#toString(long)">toString</a></strong>(long&nbsp;addr)</code>
<div class="block">A human readable representation of the address.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#transferTo(java.io.RandomAccessFile)">transferTo</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html?is-external=true" title="class or interface in java.io">RandomAccessFile</a>&nbsp;out)</code>
<div class="block">A block operation that transfers the serialized records (aka the written
 on portion of the user extent) en mass from the buffer onto an output
 file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#truncate(long)">truncate</a></strong>(long&nbsp;extent)</code>
<div class="block">Either truncates or extends the journal.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#useChecksums()">useChecksums</a></strong>()</code>
<div class="block">Return <code>true</code> if the store uses per-record checksums.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#write(java.nio.ByteBuffer)">write</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;data)</code>
<div class="block">Write the data (unisolated).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#write(java.nio.ByteBuffer,%20com.bigdata.rawstore.IAllocationContext)">write</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;data,
     <a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</code>
<div class="block">FIXME There are two unit tests for the <a href="../../../../com/bigdata/rwstore/sector/MemStore.html" title="class in com.bigdata.rwstore.sector"><code>MemStore</code></a> which are failing
 due to this method not being implemented.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/rwstore/sector/MemStrategy.html#writeRootBlock(com.bigdata.journal.IRootBlockView,%20com.bigdata.journal.ForceEnum)">writeRootBlock</a></strong>(<a href="../../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;rootBlock,
              <a href="../../../../com/bigdata/journal/ForceEnum.html" title="enum in com.bigdata.journal">ForceEnum</a>&nbsp;forceOnCommitEnum)</code>
<div class="block">Write the root block onto stable storage (ie, flush it through to disk).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MemStrategy(com.bigdata.rwstore.sector.IMemoryManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MemStrategy</h4>
<pre>public&nbsp;MemStrategy(<a href="../../../../com/bigdata/rwstore/sector/IMemoryManager.html" title="interface in com.bigdata.rwstore.sector">IMemoryManager</a>&nbsp;mmgr)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStore</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/rwstore/sector/IMemoryManager.html" title="interface in com.bigdata.rwstore.sector">IMemoryManager</a>&nbsp;getStore()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html#getStore()">IRWStrategy</a></code></strong></div>
<div class="block">Return the backing <a href="../../../../com/bigdata/rwstore/IStore.html" title="interface in com.bigdata.rwstore"><code>IStore</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html#getStore()">getStore</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html" title="interface in com.bigdata.rwstore">IRWStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="abort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abort</h4>
<pre>public&nbsp;void&nbsp;abort()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#abort()">IBufferStrategy</a></code></strong></div>
<div class="block">A method that requires the implementation to discard its buffered write
 set (if any). The caller is responsible for any necessary synchronization
 as part of the abort protocol.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#abort()">abort</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="closeForWrites()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeForWrites</h4>
<pre>public&nbsp;void&nbsp;closeForWrites()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#closeForWrites()">IBufferStrategy</a></code></strong></div>
<div class="block">Seals the store against further writes and discards any write caches
 since they will no longer be used. Buffered writes are NOT forced to the
 disk so the caller SHOULD be able to guarantee that concurrent writers
 are NOT running. The method should be implemented such that concurrent
 readers are NOT disturbed.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#closeForWrites()">closeForWrites</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="commit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;void&nbsp;commit()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#commit()">IBufferStrategy</a></code></strong></div>
<div class="block">A method that removes assumptions of how a specific strategy commits
 data. For most strategies the action is void since the client WORM DISK
 strategy writes data as allocated. For the Read Write Strategy more data
 must be managed as part of the protocol outside of the RootBlock, and
 this is the method that triggers that management. The caller MUST provide
 appropriate synchronization.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#commit()">commit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="getCommitLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitLock</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks">Lock</a>&nbsp;getCommitLock()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html#getCommitLock()">IRWStrategy</a></code></strong></div>
<div class="block">Optionally return a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html?is-external=true" title="class or interface in java.util.concurrent.locks"><code>Lock</code></a> that must be used (when non-
 <code>null</code>) to make the <a href="../../../../com/bigdata/journal/IBufferStrategy.html#commit()"><code>IBufferStrategy.commit()</code></a> /
 <a href="../../../../com/bigdata/rwstore/IRWStrategy.html#postCommit()"><code>IRWStrategy.postCommit()</code></a> strategy atomic.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html#getCommitLock()">getCommitLock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html" title="interface in com.bigdata.rwstore">IRWStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="postCommit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postCommit</h4>
<pre>public&nbsp;void&nbsp;postCommit()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html#postCommit()">IRWStrategy</a></code></strong></div>
<div class="block">Called post commit to dispose any transient commit state retained to
 support reset/rollback.
 <p>
 Note: It is the responsibility of the commit protocol layers to wind up
 calling <a href="../../../../com/bigdata/journal/IBufferStrategy.html#abort()"><code>IBufferStrategy.abort()</code></a> if there is a failure during the
 commit protocol.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html#postCommit()">postCommit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html" title="interface in com.bigdata.rwstore">IRWStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="getAddressManager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddressManager</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a>&nbsp;getAddressManager()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getAddressManager()">getAddressManager</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="getBufferMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBufferMode</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/journal/BufferMode.html" title="enum in com.bigdata.journal">BufferMode</a>&nbsp;getBufferMode()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getBufferMode()">IBufferStrategy</a></code></strong></div>
<div class="block">The buffer mode supported by the implementation</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getBufferMode()">getBufferMode</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The implemented buffer mode.</dd></dl>
</li>
</ul>
<a name="getCounters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCounters</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a>&nbsp;getCounters()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getCounters()">IBufferStrategy</a></code></strong></div>
<div class="block">Return the performance counter hierarchy.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/counters/ICounterSetAccess.html#getCounters()">getCounters</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getCounters()">getCounters</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="getExtent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExtent</h4>
<pre>public&nbsp;long&nbsp;getExtent()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getExtent()">IBufferStrategy</a></code></strong></div>
<div class="block">The current size of the journal in bytes.  When the journal is backed by
 a disk file this is the actual size on disk of that file.  The initial
 value for this property is set by <a href="../../../../com/bigdata/journal/Options.html#INITIAL_EXTENT"><code>Options.INITIAL_EXTENT</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getExtent()">getExtent</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="getHeaderSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeaderSize</h4>
<pre>public&nbsp;int&nbsp;getHeaderSize()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getHeaderSize()">IBufferStrategy</a></code></strong></div>
<div class="block">The size of the journal header, including MAGIC, version, and both root
 blocks. This is used as an offset when computing the address of a record
 in an underlying file and is ignored by buffer modes that are not backed
 by a file (e.g., transient) or that are memory mapped (since the map is
 setup to skip over the header)</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getHeaderSize()">getHeaderSize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="getInitialExtent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInitialExtent</h4>
<pre>public&nbsp;long&nbsp;getInitialExtent()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getInitialExtent()">IBufferStrategy</a></code></strong></div>
<div class="block">The initial extent.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getInitialExtent()">getInitialExtent</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="getMaxRecordSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxRecordSize</h4>
<pre>public&nbsp;int&nbsp;getMaxRecordSize()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getMaxRecordSize()">getMaxRecordSize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the maximum record size supported by this strategy</dd></dl>
</li>
</ul>
<a name="getMaximumExtent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumExtent</h4>
<pre>public&nbsp;long&nbsp;getMaximumExtent()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getMaximumExtent()">IBufferStrategy</a></code></strong></div>
<div class="block">The maximum extent allowable before a buffer overflow operation will be
 rejected.
 <p>
 Note: The semantics here differ from those defined by
 <a href="../../../../com/bigdata/journal/Options.html#MAXIMUM_EXTENT"><code>Options.MAXIMUM_EXTENT</code></a>. The latter specifies the threshold at
 which a journal will overflow (onto another journal) while this specifies
 the maximum size to which a buffer is allowed to grow.
 <p>
 Note: This is <em>normally</em> zero (0L), which basically means that
 the maximum extent is ignored by the <a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal"><code>IBufferStrategy</code></a> but
 respected by the <a href="../../../../com/bigdata/journal/AbstractJournal.html" title="class in com.bigdata.journal"><code>AbstractJournal</code></a>, resulting in a <i>soft limit</i>
 on journal overflow.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getMaximumExtent()">getMaximumExtent</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The maximum extent permitted for the buffer -or- <code>0L</code>
         iff no limit is imposed.</dd></dl>
</li>
</ul>
<a name="getMetaBitsAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetaBitsAddr</h4>
<pre>public&nbsp;long&nbsp;getMetaBitsAddr()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getMetaBitsAddr()">IBufferStrategy</a></code></strong></div>
<div class="block">The RWStrategy requires meta allocation info in the root block, this
 method is the hook to enable access. The metaBitsAddr is the address in
 the file where the metaBits that control the allocation of the allocation
 blocks themselves is stored.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getMetaBitsAddr()">getMetaBitsAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the metaBitsAddr for the root block if any</dd></dl>
</li>
</ul>
<a name="getMetaStartAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetaStartAddr</h4>
<pre>public&nbsp;long&nbsp;getMetaStartAddr()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getMetaStartAddr()">IBufferStrategy</a></code></strong></div>
<div class="block">The RWStrategy requires meta allocation info in the root block, this
 method is the hook to enable access. The metaStartAddr is the address in
 the file where the allocation blocks are stored.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getMetaStartAddr()">getMetaStartAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the metaStartAddr for the root block if any</dd></dl>
</li>
</ul>
<a name="getNextOffset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextOffset</h4>
<pre>public&nbsp;long&nbsp;getNextOffset()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getNextOffset()">IBufferStrategy</a></code></strong></div>
<div class="block">The next offset at which a data item would be written on the store as an
 offset into the <em>user extent</em>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getNextOffset()">getNextOffset</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="getOffsetBits()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOffsetBits</h4>
<pre>public&nbsp;int&nbsp;getOffsetBits()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getOffsetBits()">getOffsetBits</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the number of bits available in the address to define offset</dd></dl>
</li>
</ul>
<a name="getUserExtent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserExtent</h4>
<pre>public&nbsp;long&nbsp;getUserExtent()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getUserExtent()">IBufferStrategy</a></code></strong></div>
<div class="block">The size of the user data extent in bytes.
 <p>
 Note: The size of the user extent is always generally smaller than the
 value reported by <a href="../../../../com/bigdata/journal/IBufferStrategy.html#getExtent()"><code>IBufferStrategy.getExtent()</code></a> since the latter also reports the
 space allocated to the journal header and root blocks.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#getUserExtent()">getUserExtent</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="readRootBlock(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readRootBlock</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;readRootBlock(boolean&nbsp;rootBlock0)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#readRootBlock(boolean)">IBufferStrategy</a></code></strong></div>
<div class="block">Read the specified root block from the backing file.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#readRootBlock(boolean)">readRootBlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="requiresCommit(com.bigdata.journal.IRootBlockView)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requiresCommit</h4>
<pre>public&nbsp;boolean&nbsp;requiresCommit(<a href="../../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;block)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#requiresCommit(com.bigdata.journal.IRootBlockView)">IBufferStrategy</a></code></strong></div>
<div class="block">A method that removes assumptions of how a specific strategy determines
 whether a transaction commit is required.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#requiresCommit(com.bigdata.journal.IRootBlockView)">requiresCommit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>block</code> - The root block held by the client, can be checked against the
            state of the Buffer Strategy</dd>
<dt><span class="strong">Returns:</span></dt><dd>whether any modification has occurred.</dd></dl>
</li>
</ul>
<a name="transferTo(java.io.RandomAccessFile)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transferTo</h4>
<pre>public&nbsp;long&nbsp;transferTo(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html?is-external=true" title="class or interface in java.io">RandomAccessFile</a>&nbsp;out)
                throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#transferTo(java.io.RandomAccessFile)">IBufferStrategy</a></code></strong></div>
<div class="block">A block operation that transfers the serialized records (aka the written
 on portion of the user extent) en mass from the buffer onto an output
 file. The buffered records are written "in order" starting at the current
 position on the output file. The file is grown if necessary.  The file
 position is advanced to the last byte written on the file.
 <p>
 Note: Implementations of this method MUST be synchronized so that the
 operation is atomic with respect to concurrent writers.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#transferTo(java.io.RandomAccessFile)">transferTo</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - The file to which the buffer contents will be transferred.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of bytes written.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="truncate(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncate</h4>
<pre>public&nbsp;void&nbsp;truncate(long&nbsp;extent)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#truncate(long)">IBufferStrategy</a></code></strong></div>
<div class="block">Either truncates or extends the journal.
 <p>
 Note: Implementations of this method MUST be synchronized so that the
 operation is atomic with respect to concurrent writers.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#truncate(long)">truncate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>extent</code> - The new extent of the journal. This value represent the total
            extent of the journal, including any root blocks together with
            the user extent.</dd></dl>
</li>
</ul>
<a name="useChecksums()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useChecksums</h4>
<pre>public&nbsp;boolean&nbsp;useChecksums()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#useChecksums()">IBufferStrategy</a></code></strong></div>
<div class="block">Return <code>true</code> if the store uses per-record checksums. When
 <code>true</code>, an additional 4 bytes are written after the record on
 the disk. Those bytes contain the checksum of the record.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#useChecksums()">useChecksums</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
</dl>
</li>
</ul>
<a name="writeRootBlock(com.bigdata.journal.IRootBlockView, com.bigdata.journal.ForceEnum)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeRootBlock</h4>
<pre>public&nbsp;void&nbsp;writeRootBlock(<a href="../../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;rootBlock,
                  <a href="../../../../com/bigdata/journal/ForceEnum.html" title="enum in com.bigdata.journal">ForceEnum</a>&nbsp;forceOnCommitEnum)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#writeRootBlock(com.bigdata.journal.IRootBlockView,%20com.bigdata.journal.ForceEnum)">IBufferStrategy</a></code></strong></div>
<div class="block">Write the root block onto stable storage (ie, flush it through to disk).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#writeRootBlock(com.bigdata.journal.IRootBlockView,%20com.bigdata.journal.ForceEnum)">writeRootBlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>rootBlock</code> - The root block. Which root block is indicated by
            <a href="../../../../com/bigdata/journal/IRootBlockView.html#isRootBlock0()"><code>IRootBlockView.isRootBlock0()</code></a>.</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#close()">IRawStore</a></code></strong></div>
<div class="block">Close the store immediately.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="delete(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;void&nbsp;delete(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#delete(long)">IRawStore</a></code></strong></div>
<div class="block">Delete the data (unisolated).
 <p>
 After this operation subsequent reads on the address MAY fail and the
 caller MUST NOT depend on the ability to read at that address.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#delete(long)">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - A long integer formed using <code>Addr</code> that encodes both the
            offset at which the data was written and the #of bytes that
            were written.</dd></dl>
</li>
</ul>
<a name="deleteResources()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteResources</h4>
<pre>public&nbsp;void&nbsp;deleteResources()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#deleteResources()">IRawStore</a></code></strong></div>
<div class="block">Deletes the backing file(s) (if any).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#deleteResources()">deleteResources</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="destroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#destroy()">IRawStore</a></code></strong></div>
<div class="block">Closes the store immediately (if open) and deletes its persistent
 resources. Does NOT throw an <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a> if the store
 is already closed, but still deletes the backing resources.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#destroy()">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/rawstore/IRawStore.html#deleteResources()"><code>IRawStore.deleteResources()</code></a></dd></dl>
</li>
</ul>
<a name="force(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>force</h4>
<pre>public&nbsp;void&nbsp;force(boolean&nbsp;metadata)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#force(boolean)">IRawStore</a></code></strong></div>
<div class="block">Force the data to stable storage. While this is NOT sufficient to
 guarantee an atomic commit, the data must be forced to disk as part of an
 atomic commit protocol.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#force(boolean)">force</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>metadata</code> - If true, then force both the file contents and the file
            metadata to disk.</dd></dl>
</li>
</ul>
<a name="getFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFile</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;getFile()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#getFile()">IRawStore</a></code></strong></div>
<div class="block">The backing file -or- <code>null</code> if there is no backing file
 for the store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#getFile()">getFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="getResourceMetadata()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResourceMetadata</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi">IResourceMetadata</a>&nbsp;getResourceMetadata()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#getResourceMetadata()">IRawStore</a></code></strong></div>
<div class="block">A description of this store in support of the scale-out architecture.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#getResourceMetadata()">getResourceMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="getUUID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUUID</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;getUUID()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#getUUID()">IRawStore</a></code></strong></div>
<div class="block">Return the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> which identifies this <a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a>. This
 supports <a href="../../../../com/bigdata/rawstore/IRawStore.html#getResourceMetadata()"><code>IRawStore.getResourceMetadata()</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#getUUID()">getUUID</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="isFullyBuffered()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFullyBuffered</h4>
<pre>public&nbsp;boolean&nbsp;isFullyBuffered()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#isFullyBuffered()">IRawStore</a></code></strong></div>
<div class="block">True iff the store is fully buffered (all reads are against memory).
 Implementations MAY change the value returned by this method over the
 life cycle of the store, e.g., to conserve memory a store may drop or
 decrease its buffer if it is backed by disk.
 <p>
 Note: This does not guarantee that the OS will not swap the buffer onto
 disk.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#isFullyBuffered()">isFullyBuffered</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>public&nbsp;boolean&nbsp;isOpen()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#isOpen()">IRawStore</a></code></strong></div>
<div class="block"><code>true</code> iff the store is open.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#isOpen()">isOpen</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> iff the store is open.</dd></dl>
</li>
</ul>
<a name="isReadOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnly</h4>
<pre>public&nbsp;boolean&nbsp;isReadOnly()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#isReadOnly()">IRawStore</a></code></strong></div>
<div class="block"><code>true</code> iff the store does not allow writes.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#isReadOnly()">isReadOnly</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="isStable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStable</h4>
<pre>public&nbsp;boolean&nbsp;isStable()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#isStable()">IRawStore</a></code></strong></div>
<div class="block">True iff backed by stable storage.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#isStable()">isStable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="read(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;read(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#read(long)">IRawStore</a></code></strong></div>
<div class="block">Read the data (unisolated).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#read(long)">read</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - A long integer that encodes both the offset from which the
            data will be read and the #of bytes to be read. See
            <a href="../../../../com/bigdata/rawstore/IAddressManager.html#toAddr(int,%20long)"><code>IAddressManager.toAddr(int, long)</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The data read. The buffer will be flipped to prepare for reading
         (the position will be zero and the limit will be the #of bytes
         read).</dd></dl>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;long&nbsp;size()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#size()">IRawStore</a></code></strong></div>
<div class="block">The #of application data bytes written on the store (does not count any
 headers or root blocks that may exist for the store).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#size()">size</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="write(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;long&nbsp;write(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;data)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html#write(java.nio.ByteBuffer)">IRawStore</a></code></strong></div>
<div class="block">Write the data (unisolated).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IRawStore.html#write(java.nio.ByteBuffer)">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - The data. The bytes from the current
            <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/Buffer.html?is-external=true#position()" title="class or interface in java.nio"><code>Buffer.position()</code></a> to the
            <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/Buffer.html?is-external=true#limit()" title="class or interface in java.nio"><code>Buffer.limit()</code></a> will be written and the
            <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/Buffer.html?is-external=true#position()" title="class or interface in java.nio"><code>Buffer.position()</code></a> will be advanced to the
            <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/Buffer.html?is-external=true#limit()" title="class or interface in java.nio"><code>Buffer.limit()</code></a> . The caller may subsequently
            modify the contents of the buffer without changing the state
            of the store (i.e., the data are copied into the store).</dd>
<dt><span class="strong">Returns:</span></dt><dd>A long integer formed that encodes both the offset from which the
         data may be read and the #of bytes to be read. See
         <a href="../../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore"><code>IAddressManager</code></a>.</dd></dl>
</li>
</ul>
<a name="getByteCount(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getByteCount</h4>
<pre>public&nbsp;int&nbsp;getByteCount(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAddressManager.html#getByteCount(long)">IAddressManager</a></code></strong></div>
<div class="block">The length of the datum in bytes. This must be the actual length of the
 record on the disk, not the length of the caller's byte[]. This is
 necessary in order to support transparent checksums and/or compression
 for records in the <a href="../../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IAddressManager.html#getByteCount(long)">getByteCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The opaque identifier that is the within store locator for
            some datum.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The offset of that datum.</dd></dl>
</li>
</ul>
<a name="getOffset(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOffset</h4>
<pre>public&nbsp;long&nbsp;getOffset(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAddressManager.html#getOffset(long)">IAddressManager</a></code></strong></div>
<div class="block">The offset on the store at which the datum is stored. While this is often
 the offset of a byte into a file on disk, implementations MAY assign
 offsets using other strategies.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IAddressManager.html#getOffset(long)">getOffset</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The opaque identifier that is the within store locator for
            some datum.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The offset of that datum.</dd></dl>
</li>
</ul>
<a name="getPhysicalAddress(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPhysicalAddress</h4>
<pre>public&nbsp;long&nbsp;getPhysicalAddress(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAddressManager.html#getPhysicalAddress(long)">IAddressManager</a></code></strong></div>
<div class="block">Determine the unencoded physical address</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IAddressManager.html#getPhysicalAddress(long)">getPhysicalAddress</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The encoded address</dd>
<dt><span class="strong">Returns:</span></dt><dd>an unencoded address offset</dd></dl>
</li>
</ul>
<a name="toAddr(int, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toAddr</h4>
<pre>public&nbsp;long&nbsp;toAddr(int&nbsp;nbytes,
          long&nbsp;offset)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAddressManager.html#toAddr(int,%20long)">IAddressManager</a></code></strong></div>
<div class="block">Converts a byte count and offset into a long integer.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IAddressManager.html#toAddr(int,%20long)">toAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>nbytes</code> - The byte count.</dd><dd><code>offset</code> - The byte offset.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The long integer.</dd></dl>
</li>
</ul>
<a name="toString(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAddressManager.html#toString(long)">IAddressManager</a></code></strong></div>
<div class="block">A human readable representation of the address.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IAddressManager.html#toString(long)">toString</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The opaque identifier that is the within store locator for
            some datum.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A human readable representation.</dd></dl>
</li>
</ul>
<a name="newTx()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newTx</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/rwstore/IRawTx.html" title="interface in com.bigdata.rwstore">IRawTx</a>&nbsp;newTx()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html#newTx()">IHistoryManager</a></code></strong></div>
<div class="block">A hook used to support session protection by incrementing and
 decrementing a transaction counter within the <a href="../../../../com/bigdata/rwstore/IStore.html" title="interface in com.bigdata.rwstore"><code>IStore</code></a>. As long as
 a transaction is active we can not release data which is currently marked
 as freed but was committed at the point the session started.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html#newTx()">newTx</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html" title="interface in com.bigdata.rwstore">IHistoryManager</a></code></dd>
</dl>
</li>
</ul>
<a name="abortContext(com.bigdata.rawstore.IAllocationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortContext</h4>
<pre>public&nbsp;void&nbsp;abortContext(<a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IAllocationManager.html#abortContext(com.bigdata.rawstore.IAllocationContext)">IAllocationManager</a></code></strong></div>
<div class="block">Indicates that the allocation context will no longer be used and that the
 allocations made within the context should be discarded. The allocations
 associated with the context are discarded, as are any deletes made within
 the scope of that allocation context. The allocators associated with the
 allocation context are return to the global list of available allocators.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IAllocationManager.html#abortContext(com.bigdata.rawstore.IAllocationContext)">abortContext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IAllocationManager.html" title="interface in com.bigdata.rwstore">IAllocationManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - The application object which serves as the allocation context.</dd></dl>
</li>
</ul>
<a name="detachContext(com.bigdata.rawstore.IAllocationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>detachContext</h4>
<pre>public&nbsp;void&nbsp;detachContext(<a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IAllocationManager.html#detachContext(com.bigdata.rawstore.IAllocationContext)">IAllocationManager</a></code></strong></div>
<div class="block">Indicates that the allocation context will no longer be used, but that
 the allocations made within the context should be preserved. The
 allocations associated with the context are propagated to the parent
 allocation context. The <a href="../../../../com/bigdata/rwstore/IStore.html" title="interface in com.bigdata.rwstore"><code>IStore</code></a> is the top-level parent of
 allocation contexts. The allocators associated with the allocation
 context are return to the global list of available allocators.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IAllocationManager.html#detachContext(com.bigdata.rawstore.IAllocationContext)">detachContext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IAllocationManager.html" title="interface in com.bigdata.rwstore">IAllocationManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - The application object which serves as the allocation context.</dd></dl>
</li>
</ul>
<a name="checkDeferredFrees(com.bigdata.journal.AbstractJournal)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDeferredFrees</h4>
<pre>public&nbsp;int&nbsp;checkDeferredFrees(<a href="../../../../com/bigdata/journal/AbstractJournal.html" title="class in com.bigdata.journal">AbstractJournal</a>&nbsp;abstractJournal)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html#checkDeferredFrees(com.bigdata.journal.AbstractJournal)">IHistoryManager</a></code></strong></div>
<div class="block">This method is invoked during the commit protocol and gives the backing
 store an opportunity to check whether storage associated with deferred
 frees can now be released. The backing store needs to reply the deferred
 free blocks for the commit points that will be released, mark those
 addresses as free, and free the logged delete blocks.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html#checkDeferredFrees(com.bigdata.journal.AbstractJournal)">checkDeferredFrees</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html" title="interface in com.bigdata.rwstore">IHistoryManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>number of addresses freed</dd><dt><span class="strong">See Also:</span></dt><dd><code>AbstractJournal#commitNow()</code></dd></dl>
</li>
</ul>
<a name="delete(long, com.bigdata.rawstore.IAllocationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;void&nbsp;delete(long&nbsp;addr,
          <a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAllocationManagerStore.html#delete(long,%20com.bigdata.rawstore.IAllocationContext)">IAllocationManagerStore</a></code></strong></div>
<div class="block">Delete the data associated with the address within the allocation
 context. The delete is not visible outside of the allocation until the
 allocation context has been merged into the parent allocation context.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IAllocationManagerStore.html#delete(long,%20com.bigdata.rawstore.IAllocationContext)">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAllocationManagerStore.html" title="interface in com.bigdata.rawstore">IAllocationManagerStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The address whose allocation is to be deleted.</dd><dd><code>context</code> - The allocation context.</dd></dl>
</li>
</ul>
<a name="getLastReleaseTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastReleaseTime</h4>
<pre>public&nbsp;long&nbsp;getLastReleaseTime()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html#getLastReleaseTime()">IHistoryManager</a></code></strong></div>
<div class="block">If history is retained this returns the time for which data was most
 recently released. No request can be made for data earlier than this.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html#getLastReleaseTime()">getLastReleaseTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html" title="interface in com.bigdata.rwstore">IHistoryManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>latest data release time</dd></dl>
</li>
</ul>
<a name="registerExternalCache(com.bigdata.cache.ConcurrentWeakValueCache, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerExternalCache</h4>
<pre>public&nbsp;void&nbsp;registerExternalCache(<a href="../../../../com/bigdata/cache/ConcurrentWeakValueCache.html" title="class in com.bigdata.cache">ConcurrentWeakValueCache</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,<a href="../../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a>&gt;&nbsp;historicalIndexCache,
                         int&nbsp;byteCount)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html#registerExternalCache(com.bigdata.cache.ConcurrentWeakValueCache,%20int)">IHistoryManager</a></code></strong></div>
<div class="block">Call made from AbstractJournal to register the cache used. This can then
 be accessed to clear entries when storage is made available for
 re-cycling.
 <p>
 Note: It is not safe to clear at the point of the delete request since
 the data could still be loaded if the data is retained for a period due
 to a non-zero retention period or session protection.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html#registerExternalCache(com.bigdata.cache.ConcurrentWeakValueCache,%20int)">registerExternalCache</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html" title="interface in com.bigdata.rwstore">IHistoryManager</a></code></dd>
</dl>
</li>
</ul>
<a name="saveDeferrals()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveDeferrals</h4>
<pre>public&nbsp;long&nbsp;saveDeferrals()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html#saveDeferrals()">IHistoryManager</a></code></strong></div>
<div class="block">Saves the current list of delete blocks, returning the address allocated.
 This can be used later to retrieve the addresses of allocations to be
 freed.
 <p>
 Writes the content of currentTxnFreeList to the store.
 <p>
 These are the current buffered frees that have yet been saved into a
 block referenced from the deferredFreeList</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html#saveDeferrals()">saveDeferrals</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IHistoryManager.html" title="interface in com.bigdata.rwstore">IHistoryManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the address of the deferred addresses saved on the store, or zero
         if none.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/journal/DeleteBlockCommitter.html" title="class in com.bigdata.journal"><code>DeleteBlockCommitter</code></a></dd></dl>
</li>
</ul>
<a name="write(java.nio.ByteBuffer, com.bigdata.rawstore.IAllocationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;long&nbsp;write(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;data,
         <a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</pre>
<div class="block">FIXME There are two unit tests for the <a href="../../../../com/bigdata/rwstore/sector/MemStore.html" title="class in com.bigdata.rwstore.sector"><code>MemStore</code></a> which are failing
 due to this method not being implemented. Those methods are using an
 abstract task within an isolated action journal context.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IAllocationManagerStore.html#write(java.nio.ByteBuffer,%20com.bigdata.rawstore.IAllocationContext)">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAllocationManagerStore.html" title="interface in com.bigdata.rawstore">IAllocationManagerStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - The data.</dd><dd><code>context</code> - The allocation context.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The address at which the data was written.</dd></dl>
</li>
</ul>
<a name="isCommitted(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCommitted</h4>
<pre>public&nbsp;boolean&nbsp;isCommitted(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html#isCommitted(long)">IRWStrategy</a></code></strong></div>
<div class="block">Return <code>true</code> iff the allocation having that address is
 flagged as committed. The caller must be holding the allocation lock in
 order for the result to remain valid outside of the method call.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html#isCommitted(long)">isCommitted</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IRWStrategy.html" title="interface in com.bigdata.rwstore">IRWStrategy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The address.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> iff the address is currently committed.</dd></dl>
</li>
</ul>
<a name="getInputStream(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInputStream</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;getInputStream(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IStreamStore.html#getInputStream(long)">IStreamStore</a></code></strong></div>
<div class="block">Return an input stream from which a previously written stream may be read
 back.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IStreamStore.html#getInputStream(long)">getInputStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IStreamStore.html" title="interface in com.bigdata.rawstore">IStreamStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The address at which the stream was written.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an input stream for the data for provided address</dd></dl>
</li>
</ul>
<a name="getOutputStream()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputStream</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore">IPSOutputStream</a>&nbsp;getOutputStream()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IStreamStore.html#getOutputStream()">IStreamStore</a></code></strong></div>
<div class="block">Return an output stream which can be used to write on the backing store.
 You can recover the address used to read back the data from the
 <a href="../../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore"><code>IPSOutputStream</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IStreamStore.html#getOutputStream()">getOutputStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IStreamStore.html" title="interface in com.bigdata.rawstore">IStreamStore</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The output stream.</dd></dl>
</li>
</ul>
<a name="getOutputStream(com.bigdata.rawstore.IAllocationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputStream</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore">IPSOutputStream</a>&nbsp;getOutputStream(<a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAllocationManagerStore.html#getOutputStream(com.bigdata.rawstore.IAllocationContext)">IAllocationManagerStore</a></code></strong></div>
<div class="block">Return an output stream which can be used to write on the backing store
 within the given allocation context. You can recover the address used to
 read back the data from the <a href="../../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore"><code>IPSOutputStream</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rawstore/IAllocationManagerStore.html#getOutputStream(com.bigdata.rawstore.IAllocationContext)">getOutputStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rawstore/IAllocationManagerStore.html" title="interface in com.bigdata.rawstore">IAllocationManagerStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - The context within which any allocations are made by the
            returned <a href="../../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore"><code>IPSOutputStream</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an output stream to stream data to and to retrieve an address to
         later stream the data back.</dd></dl>
</li>
</ul>
<a name="isDirty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDirty</h4>
<pre>public&nbsp;boolean&nbsp;isDirty()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#isDirty()">IBufferStrategy</a></code></strong></div>
<div class="block">Return <code>true</code> if the store has been modified since the last
 <a href="../../../../com/bigdata/journal/IBufferStrategy.html#commit()"><code>IBufferStrategy.commit()</code></a> or <a href="../../../../com/bigdata/journal/IBufferStrategy.html#abort()"><code>IBufferStrategy.abort()</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/journal/IBufferStrategy.html#isDirty()">isDirty</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>true if store has been modified since last <a href="../../../../com/bigdata/journal/IBufferStrategy.html#commit()"><code>IBufferStrategy.commit()</code></a> or
         <a href="../../../../com/bigdata/journal/IBufferStrategy.html#abort()"><code>IBufferStrategy.abort()</code></a>.</dd></dl>
</li>
</ul>
<a name="newAllocationContext(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>newAllocationContext</h4>
<pre>public&nbsp;<a href="../../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;newAllocationContext(boolean&nbsp;isolated)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/bigdata/rwstore/IAllocationManager.html#newAllocationContext(boolean)">IAllocationManager</a></code></strong></div>
<div class="block">Creates a context to be used to isolate updates to within the context until it
 is released to the parent environment.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/bigdata/rwstore/IAllocationManager.html#newAllocationContext(boolean)">newAllocationContext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/bigdata/rwstore/IAllocationManager.html" title="interface in com.bigdata.rwstore">IAllocationManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>a new IAlocationContext</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemStrategy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/rwstore/sector/MemStore.html" title="class in com.bigdata.rwstore.sector"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/rwstore/sector/PSInputStream.html" title="class in com.bigdata.rwstore.sector"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/rwstore/sector/MemStrategy.html" target="_top">Frames</a></li>
<li><a href="MemStrategy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
