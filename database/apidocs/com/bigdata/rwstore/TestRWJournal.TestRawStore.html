<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Sat Jun 18 19:37:58 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TestRWJournal.TestRawStore (Blazegraph Database Platform 2.1.2 API)</title>
<meta name="date" content="2016-06-18">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TestRWJournal.TestRawStore (Blazegraph Database Platform 2.1.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestRWJournal.TestRawStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/rwstore/TestRWJournal.TestMROW.html" title="class in com.bigdata.rwstore"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/rwstore/TestRWJournal.TestRawStore.html" target="_top">Frames</a></li>
<li><a href="TestRWJournal.TestRawStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_junit.framework.TestCase2">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_com.bigdata.rawstore.AbstractRawStoreTestCase">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.rwstore</div>
<h2 title="Class TestRWJournal.TestRawStore" class="title">Class TestRWJournal.TestRawStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>junit.framework.Assert</li>
<li>
<ul class="inheritance">
<li>junit.framework.TestCase</li>
<li>
<ul class="inheritance">
<li><a href="../../../junit/framework/TestCase2.html" title="class in junit.framework">junit.framework.TestCase2</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/io/TestCase3.html" title="class in com.bigdata.io">com.bigdata.io.TestCase3</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html" title="class in com.bigdata.rawstore">com.bigdata.rawstore.AbstractRawStoreTestCase</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html" title="class in com.bigdata.journal">com.bigdata.journal.AbstractBufferStrategyTestCase</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/journal/AbstractRestartSafeTestCase.html" title="class in com.bigdata.journal">com.bigdata.journal.AbstractRestartSafeTestCase</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.rwstore.TestRWJournal.TestRawStore</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>junit.framework.Test</dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../com/bigdata/rwstore/TestRWJournal.html" title="class in com.bigdata.rwstore">TestRWJournal</a></dd>
</dl>
<hr>
<br>
<pre>public static class <span class="strong">TestRWJournal.TestRawStore</span>
extends <a href="../../../com/bigdata/journal/AbstractRestartSafeTestCase.html" title="class in com.bigdata.journal">AbstractRestartSafeTestCase</a></pre>
<div class="block">Test suite integration for <a href="../../../com/bigdata/journal/AbstractRestartSafeTestCase.html" title="class in com.bigdata.journal"><code>AbstractRestartSafeTestCase</code></a>.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan
         Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_junit.framework.TestCase2">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;junit.framework.<a href="../../../junit/framework/TestCase2.html" title="class in junit.framework">TestCase2</a></h3>
<code><a href="../../../junit/framework/TestCase2.MyProperties.html" title="class in junit.framework">TestCase2.MyProperties</a>, <a href="../../../junit/framework/TestCase2.RandomType.html" title="class in junit.framework">TestCase2.RandomType</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.rawstore.AbstractRawStoreTestCase">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.rawstore.<a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html" title="class in com.bigdata.rawstore">AbstractRawStoreTestCase</a></h3>
<code><a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#r">r</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_junit.framework.TestCase2">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;junit.framework.<a href="../../../junit/framework/TestCase2.html" title="class in junit.framework">TestCase2</a></h3>
<code><a href="../../../junit/framework/TestCase2.html#_randomType">_randomType</a>, <a href="../../../junit/framework/TestCase2.html#log">log</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#TestRWJournal.TestRawStore()">TestRWJournal.TestRawStore</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#TestRWJournal.TestRawStore(java.lang.String)">TestRWJournal.TestRawStore</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#doStressCommitIndex(long,%20int)">doStressCommitIndex</a></strong>(long&nbsp;retention,
                   int&nbsp;runs)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/journal/BufferMode.html" title="enum in com.bigdata.journal">BufferMode</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#getBufferMode()">getBufferMode</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#getProperties()">getProperties</a></strong>()</code>
<div class="block">Reads in the configuration properties for the test from a
 variety of resources and returns a properties hierarchy.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#getSmallSlotStore()">getSmallSlotStore</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#getSmallSlotStore(int)">getSmallSlotStore</a></strong>(int&nbsp;slotSize)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#getSmallSlotStore(int,%20int,%20float)">getSmallSlotStore</a></strong>(int&nbsp;slotSize,
                 int&nbsp;nWasteAllocators,
                 float&nbsp;maxWaste)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#getStore()">getStore</a></strong>()</code>
<div class="block">Return a new store that will serve as the fixture for the test.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/journal/Journal.html" title="class in com.bigdata.journal">Journal</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#getStore(long)">getStore</a></strong>(long&nbsp;retentionMillis)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#notest_stress_alloc_performance()">notest_stress_alloc_performance</a></strong>()</code>
<div class="block">Test to determine that allocation performance does not degrade at scale.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#notest_stressReallocationWithReadAndReopen()">notest_stressReallocationWithReadAndReopen</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_addressing()">test_addressing</a></strong>()</code>
<div class="block">Ensures the allocation of unique addresses by mapping allocated
 address with uniqueness assertion against physical address.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_addressingContiguous()">test_addressingContiguous</a></strong>()</code>
<div class="block">Ensures the allocation of unique addresses by mapping allocated
 address with uniqueness assertion against physical address.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocate_then_read()">test_allocate_then_read</a></strong>()</code>
<div class="block">Test allocate()+read() where the record was never written (the data
 are undefined unless written so there is nothing really to test here
 except for exceptions which might be through for this condition).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocationContexts()">test_allocationContexts</a></strong>()</code>
<div class="block">From a RWStore, creates multiple AllocationContexts to isolate
 updates, re-allocate storage and protect against by concurrent
 Contexts.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocations()">test_allocations</a></strong>()</code>
<div class="block">Basic allocation test to ensure the FixedAllocators are operating
 efficiently.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocBlobBoundariesCommitFreeCommitWithHistory()">test_allocBlobBoundariesCommitFreeCommitWithHistory</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocBlobCommitFreeCommitWithHistory()">test_allocBlobCommitFreeCommitWithHistory</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocCommitFree()">test_allocCommitFree</a></strong>()</code>
<div class="block">State1
 
 Allocate - Commit - Free
 
 assert that allocation remains committed</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocCommitFreeCommit()">test_allocCommitFreeCommit</a></strong>()</code>
<div class="block">State2
 
 Allocate - Commit - Free - Commit
 
 assert that allocation is no longer committed</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocCommitFreeCommitAllocSessionWriteCache()">test_allocCommitFreeCommitAllocSessionWriteCache</a></strong>()</code>
<div class="block">State5
 
 Allocate - Commit - Free - Commit
 
 Tracks writeCache state through allocation</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocCommitFreeCommitSessionWriteCache()">test_allocCommitFreeCommitSessionWriteCache</a></strong>()</code>
<div class="block">State4
 
 Allocate - Commit - Free - Commit
 
 ..but with session protection using a RawTx</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocCommitFreeCommitWithHistory()">test_allocCommitFreeCommitWithHistory</a></strong>()</code>
<div class="block">In order to see deferred recycling we need to make two
 commits (with modifications) after the retention period
 has expired.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocCommitFreeCommitWriteCache()">test_allocCommitFreeCommitWriteCache</a></strong>()</code>
<div class="block">State3
 
 Allocate - Commit - Free - Commit
 
 Tracks writeCache state through allocation</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocCommitFreeCommitWriteCacheWithHistory()">test_allocCommitFreeCommitWriteCacheWithHistory</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_allocCommitFreeWithHistory()">test_allocCommitFreeWithHistory</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_blob_allocs()">test_blob_allocs</a></strong>()</code>
<div class="block">Test of blob allocation, does not check on read back, just the
 allocation</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_blob_readBack()">test_blob_readBack</a></strong>()</code>
<div class="block">Test of blob allocation and read-back, firstly from cache and then
 from disk.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_blob_realloc()">test_blob_realloc</a></strong>()</code>
<div class="block">Test of blob allocation and read-back, firstly from cache and then
 from disk.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_blobDeferredFrees()">test_blobDeferredFrees</a></strong>()</code>
<div class="block">This test releases over a blobs worth of deferred frees</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_commitState()">test_commitState</a></strong>()</code>
<div class="block">Verify that we correctly restore the RWStore commit state if
 <a href="../../../com/bigdata/rwstore/RWStore.html#commit()"><code>RWStore.commit()</code></a> is followed by <a href="../../../com/bigdata/rwstore/RWStore.html#reset()"><code>RWStore.reset()</code></a>
 rather than <a href="../../../com/bigdata/rwstore/RWStore.html#postCommit()"><code>RWStore.postCommit()</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_commitStateError()">test_commitStateError</a></strong>()</code>
<div class="block">Test verifies that a failure to retain the commit state in
 <a href="../../../com/bigdata/rwstore/RWStore.html#commit()"><code>RWStore.commit()</code></a> will cause problems if the write set is
 discarded by <a href="../../../com/bigdata/rwstore/RWStore.html#reset()"><code>RWStore.reset()</code></a> such that subsequent write sets
 run into persistent addressing errors.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_commitStateIllegal()">test_commitStateIllegal</a></strong>()</code>
<div class="block">Verify that a double-commit causes an illegal state exception.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_isolatedReset()">test_isolatedReset</a></strong>()</code>
<div class="block">Tests semantics of a simple isolated reset
 
 Commit some data
 UnIsolated: Delete committed and allocate new data
 Isolated: Delete committed and allocate new data
 Reset
 Test that deletion and new allocation are void for
 unisolated actions but not isolated</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_metaAlloc()">test_metaAlloc</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_multiVoidCommit()">test_multiVoidCommit</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_notSoSimpleIsolatedReset()">test_notSoSimpleIsolatedReset</a></strong>()</code>
<div class="block">Tests semantics of a more complex isolated reset
 
 Primarily the same as the simple isolated but ensuring
 more unisolated interactions after isolation is
 established.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_pureAlloc()">test_pureAlloc</a></strong>()</code>
<div class="block">The pureAlloc test is to test the allocation aspect of the memory
 management rather than worrying about writing the data</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_reallocate()">test_reallocate</a></strong>()</code>
<div class="block">Reallocates the same object several times, then commits and tests
 read back.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_reallocation()">test_reallocation</a></strong>()</code>
<div class="block">Reallocation tests the freeing of allocated address and the re-use
 within a transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_reallocationWithReadAndReopen()">test_reallocationWithReadAndReopen</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_reopenReset()">test_reopenReset</a></strong>()</code>
<div class="block">Tests semantics of a simple reset after reopen to emulate
 an HAJournal reopen
 
 As for simple reset but also re-open, then write and abort.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_sessionProtection()">test_sessionProtection</a></strong>()</code>
<div class="block">Tests whether tasks are able to access and modify data safely by
 emulating transactions by calling activateTx and deactivateTx
 directly.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_simpleConcurrentReadersWithResets()">test_simpleConcurrentReadersWithResets</a></strong>()</code>
<div class="block">Concurrent readers should no longer be an issue now that
 reset() is not re-initializing from the root block.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_simpleReset()">test_simpleReset</a></strong>()</code>
<div class="block">Tests semantics of a simple reset
 
 Commit some data
 Delete committed and allocate new data
 Reset
 Test that deletion and new allocation are void</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_smallSlotRecycling()">test_smallSlotRecycling</a></strong>()</code>
<div class="block">Tests the recycling of small slot alloctors and outputs statistics related
 to contiguous allocations indicative of reduced IOPS.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_smallSlotWasteRecylcing()">test_smallSlotWasteRecylcing</a></strong>()</code>
<div class="block">At scale the small slot handling can lead to large amounts of store
 waste, tending to the small slot allocation thresholds of 50%,
 dependent on use case.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_snapshotData()">test_snapshotData</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_stressAlloc()">test_stressAlloc</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_stressBlobBlobHeaderBlobDataDeferredFrees()">test_stressBlobBlobHeaderBlobDataDeferredFrees</a></strong>()</code>
<div class="block">Repeats the BlobBlobHeader of deferred frees, but also with blob data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_stressBlobBlobHeaderDeferredFrees()">test_stressBlobBlobHeaderDeferredFrees</a></strong>()</code>
<div class="block">This test releases over a blobs worth of deferred frees where the
 blob requires a blob header.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_stressBlobDeferredFrees()">test_stressBlobDeferredFrees</a></strong>()</code>
<div class="block">This is the test that was able to reproduce the recycler failure for
 BLZG-1236 when run with 10M deferred frees.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_stressBlobReadBack()">test_stressBlobReadBack</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_stressCommit()">test_stressCommit</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_stressCommitIndexNoRetention()">test_stressCommitIndexNoRetention</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_stressCommitIndexWithRetention()">test_stressCommitIndexWithRetention</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_stressReallocationWithRead()">test_stressReallocationWithRead</a></strong>()</code>
<div class="block">Adjust tcount to increase stress levels</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_stressSessionProtection()">test_stressSessionProtection</a></strong>()</code>
<div class="block">To stress the session protection, we will allocate a batch of
 addresses, then free half with protection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#test_write_flush_update()">test_write_flush_update</a></strong>()</code>
<div class="block">Ttest write() + flush() + update() - for this case the data have been
 flushed from the write cache so the update will be a random write on
 the file rather than being buffered by the write cache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#testAllocationContexts()">testAllocationContexts</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#testAllocationReserves()">testAllocationReserves</a></strong>()</code>
<div class="block">Not so much a test as a code coverage exercise.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#testResetHARootBlock()">testResetHARootBlock</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#testSimpleReplication()">testSimpleReplication</a></strong>()</code>
<div class="block">Test low level RWStore add/removeAddress methods as used in HA
 WriteCache replication to ensure Allocation consistency</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#testSimpleReset()">testSimpleReset</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#testSimpleUnisolatedAllocationContextRecycling()">testSimpleUnisolatedAllocationContextRecycling</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#testStressAllocationContextRecycling()">testStressAllocationContextRecycling</a></strong>()</code>
<div class="block">This tests whether AllocationContexts efficiently recycle transient
 allocations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#testStressReplication()">testStressReplication</a></strong>()</code>
<div class="block">Test low level RWStore add/removeAddress methods as used in HA
 WriteCache replication to ensure Allocation consistency</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#testStressUnisolatedAllocationContextRecycling()">testStressUnisolatedAllocationContextRecycling</a></strong>()</code>
<div class="block">This tests whether AllocationContexts efficiently recycle transient
 allocations with an Unisolated AllocationContext.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#testUnisolatedAllocationContextRecycling()">testUnisolatedAllocationContextRecycling</a></strong>()</code>
<div class="block">Need to test the handling of aborted Unisolated connections and specifically the
 logic behind freed addresses.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/rwstore/TestRWJournal.TestRawStore.html#testVerifyCommitRecordIndex()">testVerifyCommitRecordIndex</a></strong>()</code>
<div class="block">Can be tested by removing RWStore call to journal.removeCommitRecordEntries
 in freeDeferrals.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.AbstractRestartSafeTestCase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/AbstractRestartSafeTestCase.html" title="class in com.bigdata.journal">AbstractRestartSafeTestCase</a></h3>
<code><a href="../../../com/bigdata/journal/AbstractRestartSafeTestCase.html#reopenStore(com.bigdata.rawstore.IRawStore)">reopenStore</a>, <a href="../../../com/bigdata/journal/AbstractRestartSafeTestCase.html#test_abort()">test_abort</a>, <a href="../../../com/bigdata/journal/AbstractRestartSafeTestCase.html#test_closeForWrites()">test_closeForWrites</a>, <a href="../../../com/bigdata/journal/AbstractRestartSafeTestCase.html#test_restartSafe_multipleWrites()">test_restartSafe_multipleWrites</a>, <a href="../../../com/bigdata/journal/AbstractRestartSafeTestCase.html#test_restartSafe_oneWrite()">test_restartSafe_oneWrite</a>, <a href="../../../com/bigdata/journal/AbstractRestartSafeTestCase.html#test_restartSafe_oneWriteNoCommit()">test_restartSafe_oneWriteNoCommit</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.AbstractBufferStrategyTestCase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html" title="class in com.bigdata.journal">AbstractBufferStrategyTestCase</a></h3>
<code><a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html#test_overflow()">test_overflow</a>, <a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html#test_writeNoExtend()">test_writeNoExtend</a>, <a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html#test_writeWithExtend()">test_writeWithExtend</a>, <a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html#writeRandomData(com.bigdata.journal.Journal,%20long,%20boolean)">writeRandomData</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.rawstore.AbstractRawStoreTestCase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.rawstore.<a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html" title="class in com.bigdata.rawstore">AbstractRawStoreTestCase</a></h3>
<code><a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#getRandomData()">getRandomData</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#test_close()">test_close</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#test_multipleWrites()">test_multipleWrites</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#test_read_correctRejection_0L()">test_read_correctRejection_0L</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#test_read_correctRejection_zeroLength()">test_read_correctRejection_zeroLength</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#test_readImmutable()">test_readImmutable</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#test_write_correctRejection_emptyRecord()">test_write_correctRejection_emptyRecord</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#test_write_correctRejection_null()">test_write_correctRejection_null</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#test_writeImmutable()">test_writeImmutable</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#test_writeRead()">test_writeRead</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#test_writeReadRead()">test_writeReadRead</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#testBlobObjectStreams()">testBlobObjectStreams</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#testEmptyStream()">testEmptyStream</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#testSimpleStringStream()">testSimpleStringStream</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#testSimpleStringStreamFromStandardAllocation()">testSimpleStringStreamFromStandardAllocation</a>, <a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#testZipStreams()">testZipStreams</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.io.TestCase3">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.io.<a href="../../../com/bigdata/io/TestCase3.html" title="class in com.bigdata.io">TestCase3</a></h3>
<code><a href="../../../com/bigdata/io/TestCase3.html#assertCondition(java.lang.Runnable)">assertCondition</a>, <a href="../../../com/bigdata/io/TestCase3.html#assertCondition(java.lang.Runnable,%20long,%20java.util.concurrent.TimeUnit)">assertCondition</a>, <a href="../../../com/bigdata/io/TestCase3.html#assertEquals(byte[],%20java.nio.ByteBuffer)">assertEquals</a>, <a href="../../../com/bigdata/io/TestCase3.html#assertEquals(java.nio.ByteBuffer,%20java.nio.ByteBuffer)">assertEquals</a>, <a href="../../../com/bigdata/io/TestCase3.html#getBytes(java.nio.ByteBuffer)">getBytes</a>, <a href="../../../com/bigdata/io/TestCase3.html#getPort(int)">getPort</a>, <a href="../../../com/bigdata/io/TestCase3.html#getRandomData(java.nio.ByteBuffer,%20int)">getRandomData</a>, <a href="../../../com/bigdata/io/TestCase3.html#getRandomData(int)">getRandomData</a>, <a href="../../../com/bigdata/io/TestCase3.html#setUp()">setUp</a>, <a href="../../../com/bigdata/io/TestCase3.html#tearDown()">tearDown</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_junit.framework.TestCase2">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;junit.framework.<a href="../../../junit/framework/TestCase2.html" title="class in junit.framework">TestCase2</a></h3>
<code><a href="../../../junit/framework/TestCase2.html#assertEquals(boolean[],%20boolean[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(byte[],%20byte[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(char[],%20char[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(double[],%20double[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(double,%20double)">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(float[],%20float[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(float,%20float)">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(int[],%20int[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(long[],%20long[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.Object[],%20java.lang.Object[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(short[],%20short[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20boolean[],%20boolean[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20byte[],%20byte[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20char[],%20char[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20double[],%20double[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20double,%20double)">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20float[],%20float[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20float,%20float)">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20int[],%20int[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20long[],%20long[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20java.lang.Object[],%20java.lang.Object[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEquals(java.lang.String,%20short[],%20short[])">assertEquals</a>, <a href="../../../junit/framework/TestCase2.html#assertEqualsWithinUlps(java.lang.String,%20double,%20double,%20long)">assertEqualsWithinUlps</a>, <a href="../../../junit/framework/TestCase2.html#assertSameArray(java.lang.Object[],%20java.lang.Object[])">assertSameArray</a>, <a href="../../../junit/framework/TestCase2.html#assertSameArray(java.lang.String,%20java.lang.Object[],%20java.lang.Object[])">assertSameArray</a>, <a href="../../../junit/framework/TestCase2.html#assertSameBigDecimal(java.math.BigDecimal,%20java.math.BigDecimal)">assertSameBigDecimal</a>, <a href="../../../junit/framework/TestCase2.html#assertSameBigDecimal(java.lang.String,%20java.math.BigDecimal,%20java.math.BigDecimal)">assertSameBigDecimal</a>, <a href="../../../junit/framework/TestCase2.html#assertSameBigInteger(java.math.BigInteger,%20java.math.BigInteger)">assertSameBigInteger</a>, <a href="../../../junit/framework/TestCase2.html#assertSameBigInteger(java.lang.String,%20java.math.BigInteger,%20java.math.BigInteger)">assertSameBigInteger</a>, <a href="../../../junit/framework/TestCase2.html#assertSameIterator(java.lang.Object[],%20java.util.Iterator)">assertSameIterator</a>, <a href="../../../junit/framework/TestCase2.html#assertSameIterator(java.lang.String,%20java.lang.Object[],%20java.util.Iterator)">assertSameIterator</a>, <a href="../../../junit/framework/TestCase2.html#assertSameIteratorAnyOrder(java.lang.Object[],%20java.util.Iterator)">assertSameIteratorAnyOrder</a>, <a href="../../../junit/framework/TestCase2.html#assertSameIteratorAnyOrder(java.lang.String,%20java.lang.Object[],%20java.util.Iterator)">assertSameIteratorAnyOrder</a>, <a href="../../../junit/framework/TestCase2.html#assertSameValue(java.lang.Object,%20java.lang.Object)">assertSameValue</a>, <a href="../../../junit/framework/TestCase2.html#assertSameValue(java.lang.String,%20java.lang.Object,%20java.lang.Object)">assertSameValue</a>, <a href="../../../junit/framework/TestCase2.html#assertZeroUlps(double,%20double)">assertZeroUlps</a>, <a href="../../../junit/framework/TestCase2.html#assertZeroUlps(float,%20float)">assertZeroUlps</a>, <a href="../../../junit/framework/TestCase2.html#fail(java.lang.String,%20java.lang.Throwable)">fail</a>, <a href="../../../junit/framework/TestCase2.html#getInnerCause(java.lang.Throwable,%20java.lang.Class)">getInnerCause</a>, <a href="../../../junit/framework/TestCase2.html#getNormalInt(int)">getNormalInt</a>, <a href="../../../junit/framework/TestCase2.html#getProjectBuildPath()">getProjectBuildPath</a>, <a href="../../../junit/framework/TestCase2.html#getRandomObject(boolean)">getRandomObject</a>, <a href="../../../junit/framework/TestCase2.html#getRandomObject(java.util.Random,%20boolean)">getRandomObject</a>, <a href="../../../junit/framework/TestCase2.html#getRandomOrder(int)">getRandomOrder</a>, <a href="../../../junit/framework/TestCase2.html#getRandomString(int,%20int)">getRandomString</a>, <a href="../../../junit/framework/TestCase2.html#getTestInputStream(java.lang.String)">getTestInputStream</a>, <a href="../../../junit/framework/TestCase2.html#getTestResource(java.lang.String)">getTestResource</a>, <a href="../../../junit/framework/TestCase2.html#getTestResource(java.lang.String,%20java.lang.String)">getTestResource</a>, <a href="../../../junit/framework/TestCase2.html#getUlps(double,%20double)">getUlps</a>, <a href="../../../junit/framework/TestCase2.html#getUlps(float,%20float)">getUlps</a>, <a href="../../../junit/framework/TestCase2.html#isDEBUG()">isDEBUG</a>, <a href="../../../junit/framework/TestCase2.html#isDEBUG(org.apache.log4j.Logger)">isDEBUG</a>, <a href="../../../junit/framework/TestCase2.html#isINFO()">isINFO</a>, <a href="../../../junit/framework/TestCase2.html#isINFO(org.apache.log4j.Logger)">isINFO</a>, <a href="../../../junit/framework/TestCase2.html#isInnerCause(java.lang.Throwable,%20java.lang.Class)">isInnerCause</a>, <a href="../../../junit/framework/TestCase2.html#logProperties(junit.framework.TestCase2.MyProperties,%20int)">logProperties</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_junit.framework.TestCase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;junit.framework.TestCase</h3>
<code>assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertEquals, assertFalse, assertFalse, assertNotNull, assertNotNull, assertNotSame, assertNotSame, assertNull, assertNull, assertSame, assertSame, assertTrue, assertTrue, countTestCases, createResult, fail, fail, failNotEquals, failNotSame, failSame, format, getName, run, run, runBare, runTest, setName, toString</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TestRWJournal.TestRawStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TestRWJournal.TestRawStore</h4>
<pre>public&nbsp;TestRWJournal.TestRawStore()</pre>
</li>
</ul>
<a name="TestRWJournal.TestRawStore(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TestRWJournal.TestRawStore</h4>
<pre>public&nbsp;TestRWJournal.TestRawStore(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getBufferMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBufferMode</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/journal/BufferMode.html" title="enum in com.bigdata.journal">BufferMode</a>&nbsp;getBufferMode()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html#getBufferMode()">getBufferMode</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html" title="class in com.bigdata.journal">AbstractBufferStrategyTestCase</a></code></dd>
</dl>
</li>
</ul>
<a name="getProperties()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProperties</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;getProperties()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../junit/framework/TestCase2.html#getProperties()">TestCase2</a></code></strong></div>
<div class="block">Reads in the configuration properties for the test from a
 variety of resources and returns a properties hierarchy.  If a
 property name is not bound at the top-level of the returned
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util"><code>Properties</code></a> object, then the lower levels of the
 hierarchy are recursively searched.<p>

 The hierarchy is constructed from the following properties
 files in the following order.  The first property file in this
 list corresponds to the top of the property hierarchy.  The
 last property file in this list corresponds to the bottom of
 the property hierarchy.  The property resources are:<ol>

 <li> The System properties specified using the -D argument on
 the command line.
 
 <li> ${user.home}/build.properties.  ${user.home} is the value
 of the Java system environment variable named "user.home" and
 corresponds to the user home directory.  A warning is logged if
 this properties file does not exist.  <em>Note: The JUnit UI
 can wind up with a different value for this property than when
 you execute tests without the UI.</em> It is an error if the
 properties file exists but can not be read.

 <li> {class}.properties, where {class} is the class name
 reported by Java reflection, is loaded iff it is found.

 <li> {class} is repeatedly truncated by dropping the last
 package name component to generate a package name.  If a
 properties file named "test.properties" exists in that package
 then those properties are loaded.

 </ol></div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html#getProperties()">getProperties</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html" title="class in com.bigdata.journal">AbstractBufferStrategyTestCase</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>A <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util"><code>Properties</code></a> object that supplies bindings for
 property names according to the described hierarchy among
 property resources.  The returned <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util"><code>Properties</code></a> is NOT
 cached.

 TODO This does not handle the recursive truncation of the
 class name to search for "test.properties" yet.</dd></dl>
</li>
</ul>
<a name="getStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStore</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;getStore()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/rawstore/AbstractRawStoreTestCase.html#getStore()">AbstractRawStoreTestCase</a></code></strong></div>
<div class="block">Return a new store that will serve as the fixture for the test. A stable
 store must remove the pre-existing store. A transient store should open a
 new store every time.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html#getStore()">getStore</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/journal/AbstractBufferStrategyTestCase.html" title="class in com.bigdata.journal">AbstractBufferStrategyTestCase</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The fixture for the test.</dd></dl>
</li>
</ul>
<a name="getSmallSlotStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSmallSlotStore</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;getSmallSlotStore()</pre>
</li>
</ul>
<a name="getSmallSlotStore(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSmallSlotStore</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;getSmallSlotStore(int&nbsp;slotSize)</pre>
</li>
</ul>
<a name="getSmallSlotStore(int, int, float)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSmallSlotStore</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>&nbsp;getSmallSlotStore(int&nbsp;slotSize,
                          int&nbsp;nWasteAllocators,
                          float&nbsp;maxWaste)</pre>
</li>
</ul>
<a name="getStore(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStore</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/journal/Journal.html" title="class in com.bigdata.journal">Journal</a>&nbsp;getStore(long&nbsp;retentionMillis)</pre>
</li>
</ul>
<a name="test_allocate_then_read()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocate_then_read</h4>
<pre>public&nbsp;void&nbsp;test_allocate_then_read()</pre>
<div class="block">Test allocate()+read() where the record was never written (the data
 are undefined unless written so there is nothing really to test here
 except for exceptions which might be through for this condition).</div>
</li>
</ul>
<a name="test_reallocate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_reallocate</h4>
<pre>public&nbsp;void&nbsp;test_reallocate()</pre>
<div class="block">Reallocates the same object several times, then commits and tests
 read back.
 
 Has been amended to exercise different cache read paths.</div>
</li>
</ul>
<a name="test_addressing()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_addressing</h4>
<pre>public&nbsp;void&nbsp;test_addressing()</pre>
<div class="block">Ensures the allocation of unique addresses by mapping allocated
 address with uniqueness assertion against physical address.</div>
</li>
</ul>
<a name="test_addressingContiguous()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_addressingContiguous</h4>
<pre>public&nbsp;void&nbsp;test_addressingContiguous()</pre>
<div class="block">Ensures the allocation of unique addresses by mapping allocated
 address with uniqueness assertion against physical address.</div>
</li>
</ul>
<a name="test_smallSlotRecycling()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_smallSlotRecycling</h4>
<pre>public&nbsp;void&nbsp;test_smallSlotRecycling()</pre>
<div class="block">Tests the recycling of small slot alloctors and outputs statistics related
 to contiguous allocations indicative of reduced IOPS.</div>
</li>
</ul>
<a name="test_smallSlotWasteRecylcing()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_smallSlotWasteRecylcing</h4>
<pre>public&nbsp;void&nbsp;test_smallSlotWasteRecylcing()</pre>
<div class="block">At scale the small slot handling can lead to large amounts of store
 waste, tending to the small slot allocation thresholds of 50%,
 dependent on use case.
 <p>
 To mitigate this problem, when more than some minimum number of
 allocators are in use the storage stats are used to check on overall
 usage. If the waste is above some specified amount, then an attempt
 is made to locate a "reasonable" candidate allocator to be used.
 <p>
 To test below sets thresholds to quickly trigger this behaviour, with
 a low minimum number of allocators, and low "candidate" re-use
 threshold.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>(Small slot optimization to minimize waste).</code></dd></dl>
</li>
</ul>
<a name="test_allocations()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocations</h4>
<pre>public&nbsp;void&nbsp;test_allocations()</pre>
<div class="block">Basic allocation test to ensure the FixedAllocators are operating
 efficiently.
 
 A 90 byte allocation is expected to fit in a 128byte block. If we
 only allocate this fixed block size, then we would expect the
 physical address to increase by 128 bytes for each allocation.</div>
</li>
</ul>
<a name="testAllocationReserves()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testAllocationReserves</h4>
<pre>public&nbsp;void&nbsp;testAllocationReserves()</pre>
<div class="block">Not so much a test as a code coverage exercise.
 
 The output from showAllocReserve confirms the relative merits of
 optimizing for space vs density. The DirectFixedAllocators will
 allocate from DirectBuffers, where locality of reference is less
 important than efficient management of the memory, which is optimized
 by allocations in smaller amounts that match the demands at a finer
 granularity.</div>
</li>
</ul>
<a name="test_reallocation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_reallocation</h4>
<pre>public&nbsp;void&nbsp;test_reallocation()
                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Reallocation tests the freeing of allocated address and the re-use
 within a transaction.
 
 The repeated runs with full reopening of the store check the
 initialization of the allocators on reload.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="test_reallocationWithReadAndReopen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_reallocationWithReadAndReopen</h4>
<pre>public&nbsp;void&nbsp;test_reallocationWithReadAndReopen()</pre>
</li>
</ul>
<a name="notest_stressReallocationWithReadAndReopen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notest_stressReallocationWithReadAndReopen</h4>
<pre>public&nbsp;void&nbsp;notest_stressReallocationWithReadAndReopen()</pre>
</li>
</ul>
<a name="testAllocationContexts()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testAllocationContexts</h4>
<pre>public&nbsp;void&nbsp;testAllocationContexts()</pre>
</li>
</ul>
<a name="testStressAllocationContextRecycling()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testStressAllocationContextRecycling</h4>
<pre>public&nbsp;void&nbsp;testStressAllocationContextRecycling()</pre>
<div class="block">This tests whether AllocationContexts efficiently recycle transient
 allocations.
 
 To do this it will allocate and free 1 million 50 byte regions, in batches
 of 10K.</div>
</li>
</ul>
<a name="testStressUnisolatedAllocationContextRecycling()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testStressUnisolatedAllocationContextRecycling</h4>
<pre>public&nbsp;void&nbsp;testStressUnisolatedAllocationContextRecycling()</pre>
<div class="block">This tests whether AllocationContexts efficiently recycle transient
 allocations with an Unisolated AllocationContext.
 
 To do this it will allocate and free 1 million 50 byte regions, in batches
 of 10K.</div>
</li>
</ul>
<a name="testUnisolatedAllocationContextRecycling()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testUnisolatedAllocationContextRecycling</h4>
<pre>public&nbsp;void&nbsp;testUnisolatedAllocationContextRecycling()</pre>
<div class="block">Need to test the handling of aborted Unisolated connections and specifically the
 logic behind freed addresses.
 <p>
 The process is to: 
        Allocate a range of data (to establish a number of Allocators)
  Create an Isolated context and allocate a handful more
  Create an Unisolated context
  Free some committed addreses
  Abort the Unisolated context - calling abort on the Journal
  Commit the Isolated context
  Observe if any of the previously committed data is freed!</div>
</li>
</ul>
<a name="testSimpleUnisolatedAllocationContextRecycling()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testSimpleUnisolatedAllocationContextRecycling</h4>
<pre>public&nbsp;void&nbsp;testSimpleUnisolatedAllocationContextRecycling()</pre>
</li>
</ul>
<a name="test_stressReallocationWithRead()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_stressReallocationWithRead</h4>
<pre>public&nbsp;void&nbsp;test_stressReallocationWithRead()</pre>
<div class="block">Adjust tcount to increase stress levels</div>
</li>
</ul>
<a name="notest_stress_alloc_performance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notest_stress_alloc_performance</h4>
<pre>public&nbsp;void&nbsp;notest_stress_alloc_performance()</pre>
<div class="block">Test to determine that allocation performance does not degrade at scale.
 
 The idea is to first create 128K  allocations, and measure recycling
 performance.
 
 Then to add an additional 128K allocations and re-measure recycling to
 observe if performance degrades.
 
 The test is "observational" and console output should be monitored.
 
 Should be disabled for CI.</div>
</li>
</ul>
<a name="test_blob_allocs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_blob_allocs</h4>
<pre>public&nbsp;void&nbsp;test_blob_allocs()</pre>
<div class="block">Test of blob allocation, does not check on read back, just the
 allocation</div>
</li>
</ul>
<a name="test_blob_readBack()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_blob_readBack</h4>
<pre>public&nbsp;void&nbsp;test_blob_readBack()</pre>
<div class="block">Test of blob allocation and read-back, firstly from cache and then
 from disk.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="test_stressBlobReadBack()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_stressBlobReadBack</h4>
<pre>public&nbsp;void&nbsp;test_stressBlobReadBack()</pre>
</li>
</ul>
<a name="test_blob_realloc()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_blob_realloc</h4>
<pre>public&nbsp;void&nbsp;test_blob_realloc()
                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Test of blob allocation and read-back, firstly from cache and then
 from disk.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="test_write_flush_update()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_write_flush_update</h4>
<pre>public&nbsp;void&nbsp;test_write_flush_update()</pre>
<div class="block">Ttest write() + flush() + update() - for this case the data have been
 flushed from the write cache so the update will be a random write on
 the file rather than being buffered by the write cache.</div>
</li>
</ul>
<a name="test_metaAlloc()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_metaAlloc</h4>
<pre>public&nbsp;void&nbsp;test_metaAlloc()</pre>
</li>
</ul>
<a name="test_multiVoidCommit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_multiVoidCommit</h4>
<pre>public&nbsp;void&nbsp;test_multiVoidCommit()</pre>
</li>
</ul>
<a name="test_allocationContexts()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocationContexts</h4>
<pre>public&nbsp;void&nbsp;test_allocationContexts()
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">From a RWStore, creates multiple AllocationContexts to isolate
 updates, re-allocate storage and protect against by concurrent
 Contexts. This is the core functionality required to support
 Transactions.
 
 If an allocation is made for an AllocationContext then this will
 result in a ContextAllocation object being created in the RWStore
 within which "shadow" allocations can be made. If such a shadow
 allocation is deleted, within the AllocationContext, then this can be
 removed immediately.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="test_stressCommitIndexWithRetention()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_stressCommitIndexWithRetention</h4>
<pre>public&nbsp;void&nbsp;test_stressCommitIndexWithRetention()</pre>
</li>
</ul>
<a name="test_stressCommitIndexNoRetention()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_stressCommitIndexNoRetention</h4>
<pre>public&nbsp;void&nbsp;test_stressCommitIndexNoRetention()</pre>
</li>
</ul>
<a name="test_stressCommit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_stressCommit</h4>
<pre>public&nbsp;void&nbsp;test_stressCommit()</pre>
</li>
</ul>
<a name="doStressCommitIndex(long, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doStressCommitIndex</h4>
<pre>public&nbsp;int&nbsp;doStressCommitIndex(long&nbsp;retention,
                      int&nbsp;runs)</pre>
</li>
</ul>
<a name="test_stressAlloc()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_stressAlloc</h4>
<pre>public&nbsp;void&nbsp;test_stressAlloc()</pre>
</li>
</ul>
<a name="test_snapshotData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_snapshotData</h4>
<pre>public&nbsp;void&nbsp;test_snapshotData()
                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="test_sessionProtection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_sessionProtection</h4>
<pre>public&nbsp;void&nbsp;test_sessionProtection()</pre>
<div class="block">Tests whether tasks are able to access and modify data safely by
 emulating transactions by calling activateTx and deactivateTx
 directly.</div>
</li>
</ul>
<a name="test_stressSessionProtection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_stressSessionProtection</h4>
<pre>public&nbsp;void&nbsp;test_stressSessionProtection()</pre>
<div class="block">To stress the session protection, we will allocate a batch of
 addresses, then free half with protection.  Then reallocate half
 again after releasing the session.
 This should result in all the original batch being allocated,
 exercising both session protection and write cache clearing</div>
</li>
</ul>
<a name="testSimpleReplication()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testSimpleReplication</h4>
<pre>public&nbsp;void&nbsp;testSimpleReplication()
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Test low level RWStore add/removeAddress methods as used in HA
 WriteCache replication to ensure Allocation consistency</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="testStressReplication()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testStressReplication</h4>
<pre>public&nbsp;void&nbsp;testStressReplication()
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Test low level RWStore add/removeAddress methods as used in HA
 WriteCache replication to ensure Allocation consistency</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="test_pureAlloc()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_pureAlloc</h4>
<pre>public&nbsp;void&nbsp;test_pureAlloc()</pre>
<div class="block">The pureAlloc test is to test the allocation aspect of the memory
 management rather than worrying about writing the data</div>
</li>
</ul>
<a name="test_allocCommitFree()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocCommitFree</h4>
<pre>public&nbsp;void&nbsp;test_allocCommitFree()</pre>
<div class="block">State1
 
 Allocate - Commit - Free
 
 assert that allocation remains committed</div>
</li>
</ul>
<a name="test_commitState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_commitState</h4>
<pre>public&nbsp;void&nbsp;test_commitState()</pre>
<div class="block">Verify that we correctly restore the RWStore commit state if
 <a href="../../../com/bigdata/rwstore/RWStore.html#commit()"><code>RWStore.commit()</code></a> is followed by <a href="../../../com/bigdata/rwstore/RWStore.html#reset()"><code>RWStore.reset()</code></a>
 rather than <a href="../../../com/bigdata/rwstore/RWStore.html#postCommit()"><code>RWStore.postCommit()</code></a>.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="http://trac.blazegraph.com/ticket/973" >RWStore commit is
      not robust to internal failure.</a></dd></dl>
</li>
</ul>
<a name="test_commitStateError()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_commitStateError</h4>
<pre>public&nbsp;void&nbsp;test_commitStateError()</pre>
<div class="block">Test verifies that a failure to retain the commit state in
 <a href="../../../com/bigdata/rwstore/RWStore.html#commit()"><code>RWStore.commit()</code></a> will cause problems if the write set is
 discarded by <a href="../../../com/bigdata/rwstore/RWStore.html#reset()"><code>RWStore.reset()</code></a> such that subsequent write sets
 run into persistent addressing errors.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="http://trac.blazegraph.com/ticket/973" >RWStore commit is
      not robust to internal failure.</a></dd></dl>
</li>
</ul>
<a name="test_commitStateIllegal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_commitStateIllegal</h4>
<pre>public&nbsp;void&nbsp;test_commitStateIllegal()</pre>
<div class="block">Verify that a double-commit causes an illegal state exception.
 Further verify that an <a href="../../../com/bigdata/rwstore/RWStore.html#reset()"><code>RWStore.reset()</code></a> allwos us to then
 apply and commit new write sets.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="http://trac.blazegraph.com/ticket/973" >RWStore commit is
      not robust to internal failure.</a></dd></dl>
</li>
</ul>
<a name="test_allocCommitFreeWithHistory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocCommitFreeWithHistory</h4>
<pre>public&nbsp;void&nbsp;test_allocCommitFreeWithHistory()</pre>
</li>
</ul>
<a name="test_blobDeferredFrees()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_blobDeferredFrees</h4>
<pre>public&nbsp;void&nbsp;test_blobDeferredFrees()</pre>
<div class="block">This test releases over a blobs worth of deferred frees</div>
</li>
</ul>
<a name="test_stressBlobDeferredFrees()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_stressBlobDeferredFrees</h4>
<pre>public&nbsp;void&nbsp;test_stressBlobDeferredFrees()</pre>
<div class="block">This is the test that was able to reproduce the recycler failure for
 BLZG-1236 when run with 10M deferred frees.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>(recycler error)</code></dd></dl>
</li>
</ul>
<a name="test_stressBlobBlobHeaderDeferredFrees()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_stressBlobBlobHeaderDeferredFrees</h4>
<pre>public&nbsp;void&nbsp;test_stressBlobBlobHeaderDeferredFrees()</pre>
<div class="block">This test releases over a blobs worth of deferred frees where the
 blob requires a blob header.
 
 To test this we use a max fixed alloc of 192 bytes, so 24 8 bytes addresses can be stored
 in each "leaf" and 48 leaves can be addressed in a standard blob header.
 
 This should set the allocation threshold at 48 * 24 = 1152 deferred addresses
 
 Anything greater than that requires that the blob header itself is a blob and this is
 what we need to test.</div>
</li>
</ul>
<a name="test_stressBlobBlobHeaderBlobDataDeferredFrees()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_stressBlobBlobHeaderBlobDataDeferredFrees</h4>
<pre>public&nbsp;void&nbsp;test_stressBlobBlobHeaderBlobDataDeferredFrees()</pre>
<div class="block">Repeats the BlobBlobHeader of deferred frees, but also with blob data.</div>
</li>
</ul>
<a name="testVerifyCommitRecordIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testVerifyCommitRecordIndex</h4>
<pre>public&nbsp;void&nbsp;testVerifyCommitRecordIndex()</pre>
<div class="block">Can be tested by removing RWStore call to journal.removeCommitRecordEntries
 in freeDeferrals.
 
 final int commitPointsRemoved = journal.removeCommitRecordEntries(fromKey, toKey);
 
 replaced with
 
 final int commitPointsRemoved = commitPointsRecycled;</div>
</li>
</ul>
<a name="testResetHARootBlock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testResetHARootBlock</h4>
<pre>public&nbsp;void&nbsp;testResetHARootBlock()</pre>
</li>
</ul>
<a name="testSimpleReset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testSimpleReset</h4>
<pre>public&nbsp;void&nbsp;testSimpleReset()</pre>
</li>
</ul>
<a name="test_allocCommitFreeCommit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocCommitFreeCommit</h4>
<pre>public&nbsp;void&nbsp;test_allocCommitFreeCommit()</pre>
<div class="block">State2
 
 Allocate - Commit - Free - Commit
 
 assert that allocation is no longer committed</div>
</li>
</ul>
<a name="test_allocCommitFreeCommitWithHistory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocCommitFreeCommitWithHistory</h4>
<pre>public&nbsp;void&nbsp;test_allocCommitFreeCommitWithHistory()</pre>
<div class="block">In order to see deferred recycling we need to make two
 commits (with modifications) after the retention period
 has expired.
 
 To be able to check for the address release, we must ensure that
 the same address cannot be re-allocated, so a different size
 allocation is requested.</div>
</li>
</ul>
<a name="test_allocBlobCommitFreeCommitWithHistory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocBlobCommitFreeCommitWithHistory</h4>
<pre>public&nbsp;void&nbsp;test_allocBlobCommitFreeCommitWithHistory()</pre>
</li>
</ul>
<a name="test_allocBlobBoundariesCommitFreeCommitWithHistory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocBlobBoundariesCommitFreeCommitWithHistory</h4>
<pre>public&nbsp;void&nbsp;test_allocBlobBoundariesCommitFreeCommitWithHistory()</pre>
</li>
</ul>
<a name="test_allocCommitFreeCommitWriteCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocCommitFreeCommitWriteCache</h4>
<pre>public&nbsp;void&nbsp;test_allocCommitFreeCommitWriteCache()</pre>
<div class="block">State3
 
 Allocate - Commit - Free - Commit
 
 Tracks writeCache state through allocation</div>
</li>
</ul>
<a name="test_allocCommitFreeCommitWriteCacheWithHistory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocCommitFreeCommitWriteCacheWithHistory</h4>
<pre>public&nbsp;void&nbsp;test_allocCommitFreeCommitWriteCacheWithHistory()</pre>
</li>
</ul>
<a name="test_allocCommitFreeCommitSessionWriteCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocCommitFreeCommitSessionWriteCache</h4>
<pre>public&nbsp;void&nbsp;test_allocCommitFreeCommitSessionWriteCache()</pre>
<div class="block">State4
 
 Allocate - Commit - Free - Commit
 
 ..but with session protection using a RawTx</div>
</li>
</ul>
<a name="test_allocCommitFreeCommitAllocSessionWriteCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_allocCommitFreeCommitAllocSessionWriteCache</h4>
<pre>public&nbsp;void&nbsp;test_allocCommitFreeCommitAllocSessionWriteCache()</pre>
<div class="block">State5
 
 Allocate - Commit - Free - Commit
 
 Tracks writeCache state through allocation</div>
</li>
</ul>
<a name="test_simpleReset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_simpleReset</h4>
<pre>public&nbsp;void&nbsp;test_simpleReset()</pre>
<div class="block">Tests semantics of a simple reset
 
 Commit some data
 Delete committed and allocate new data
 Reset
 Test that deletion and new allocation are void</div>
</li>
</ul>
<a name="test_reopenReset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_reopenReset</h4>
<pre>public&nbsp;void&nbsp;test_reopenReset()
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Tests semantics of a simple reset after reopen to emulate
 an HAJournal reopen
 
 As for simple reset but also re-open, then write and abort.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="test_isolatedReset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_isolatedReset</h4>
<pre>public&nbsp;void&nbsp;test_isolatedReset()</pre>
<div class="block">Tests semantics of a simple isolated reset
 
 Commit some data
 UnIsolated: Delete committed and allocate new data
 Isolated: Delete committed and allocate new data
 Reset
 Test that deletion and new allocation are void for
 unisolated actions but not isolated</div>
</li>
</ul>
<a name="test_notSoSimpleIsolatedReset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test_notSoSimpleIsolatedReset</h4>
<pre>public&nbsp;void&nbsp;test_notSoSimpleIsolatedReset()</pre>
<div class="block">Tests semantics of a more complex isolated reset
 
 Primarily the same as the simple isolated but ensuring
 more unisolated interactions after isolation is
 established.
 
 Commit some data
 UnIsolated: Delete committed and allocate new data
 Isolated: Delete committed and allocate new data
 UnIsolated: Delete committed and allocate new data
 Reset
 Test that deletion and new allocation are void for
 unisolated actions but not isolated</div>
</li>
</ul>
<a name="test_simpleConcurrentReadersWithResets()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>test_simpleConcurrentReadersWithResets</h4>
<pre>public&nbsp;void&nbsp;test_simpleConcurrentReadersWithResets()
                                            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Concurrent readers should no longer be an issue now that
 reset() is not re-initializing from the root block.
 
 This test should confirm that.
 
 Establishes some committed data and runs two readers
 concurrent with a single writer intermittently aborting</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestRWJournal.TestRawStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/rwstore/TestRWJournal.TestMROW.html" title="class in com.bigdata.rwstore"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/rwstore/TestRWJournal.TestRawStore.html" target="_top">Frames</a></li>
<li><a href="TestRWJournal.TestRawStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_junit.framework.TestCase2">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_com.bigdata.rawstore.AbstractRawStoreTestCase">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
