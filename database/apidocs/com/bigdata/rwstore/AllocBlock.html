<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_51) on Thu Jan 21 00:30:59 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AllocBlock (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-21">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AllocBlock (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AllocBlock.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/rwstore/Allocator.html" title="interface in com.bigdata.rwstore"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/bigdata/rwstore/FixedAllocator.html" title="class in com.bigdata.rwstore"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/rwstore/AllocBlock.html" target="_top">Frames</a></li>
<li><a href="AllocBlock.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.rwstore</div>
<h2 title="Class AllocBlock" class="title">Class AllocBlock</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.rwstore.AllocBlock</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">AllocBlock</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Bit maps for an allocator. The allocator is a bit map managed as int[]s.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#abortshadow-com.bigdata.rwstore.RWWriteCacheService-">abortshadow</a></span>(<a href="../../../com/bigdata/rwstore/RWWriteCacheService.html" title="class in com.bigdata.rwstore">RWWriteCacheService</a>&nbsp;cache)</code>
<div class="block">Must release allocations made by this allocator.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#addAddresses-java.util.ArrayList-int-">addAddresses</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&nbsp;addrs,
            int&nbsp;rootAddr)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#addressInRange-int-int-">addressInRange</a></span>(int&nbsp;addr,
              int&nbsp;size)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#alloc-int-">alloc</a></span>(int&nbsp;size)</code>
<div class="block">The shadow, if non-null defines the context for this request.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#deshadow--">deshadow</a></span>()</code>
<div class="block">The transient bits will have been added to correctly, we now just need to
 restore the commit bits from the m_saveCommit, to allow re-allocation
 of non-committed storage.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#free-int-int-">free</a></span>(int&nbsp;addr,
    int&nbsp;size)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#freeBit-int-">freeBit</a></span>(int&nbsp;bit)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#freeBit-int-boolean-">freeBit</a></span>(int&nbsp;bit,
       boolean&nbsp;sessionProtect)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#getAllocBits--">getAllocBits</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#getStats-com.bigdata.rwstore.RWStore.AllocationStats-">getStats</a></span>(<a href="../../../com/bigdata/rwstore/RWStore.AllocationStats.html" title="class in com.bigdata.rwstore">RWStore.AllocationStats</a>&nbsp;stats)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#hasFree--">hasFree</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#shadow--">shadow</a></span>()</code>
<div class="block">Store m_commit bits in m_saveCommit then duplicate transients to m_commit.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#show--">show</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/bigdata/rwstore/AllocBlock.html#verify-int-int-">verify</a></span>(int&nbsp;addr,
      int&nbsp;size)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="verify-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verify</h4>
<pre>public&nbsp;boolean&nbsp;verify(int&nbsp;addr,
                      int&nbsp;size)</pre>
</li>
</ul>
<a name="addressInRange-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addressInRange</h4>
<pre>public&nbsp;boolean&nbsp;addressInRange(int&nbsp;addr,
                              int&nbsp;size)</pre>
</li>
</ul>
<a name="free-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>free</h4>
<pre>public&nbsp;boolean&nbsp;free(int&nbsp;addr,
                    int&nbsp;size)</pre>
</li>
</ul>
<a name="freeBit-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeBit</h4>
<pre>public&nbsp;boolean&nbsp;freeBit(int&nbsp;bit)</pre>
</li>
</ul>
<a name="freeBit-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeBit</h4>
<pre>public&nbsp;boolean&nbsp;freeBit(int&nbsp;bit,
                       boolean&nbsp;sessionProtect)</pre>
</li>
</ul>
<a name="alloc-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alloc</h4>
<pre>public&nbsp;int&nbsp;alloc(int&nbsp;size)</pre>
<div class="block">The shadow, if non-null defines the context for this request.
 
 If an existing shadow is registered, then the allocation fails
 immediately.
 
 If no existing shadow is registered, and a new allocation can be made
 then this AllocBlock is registered with the shadow.
 
 Note that when shadows are used, an allocator on a free list may not have
 allocations available for all contexts, so the assumption that presence
 on the free list implies availability is not assertable.</div>
</li>
</ul>
<a name="hasFree--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasFree</h4>
<pre>public&nbsp;boolean&nbsp;hasFree()</pre>
</li>
</ul>
<a name="getAllocBits--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllocBits</h4>
<pre>public&nbsp;int&nbsp;getAllocBits()</pre>
</li>
</ul>
<a name="getStats-com.bigdata.rwstore.RWStore.AllocationStats-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStats</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getStats(<a href="../../../com/bigdata/rwstore/RWStore.AllocationStats.html" title="class in com.bigdata.rwstore">RWStore.AllocationStats</a>&nbsp;stats)</pre>
</li>
</ul>
<a name="addAddresses-java.util.ArrayList-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAddresses</h4>
<pre>public&nbsp;void&nbsp;addAddresses(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&nbsp;addrs,
                         int&nbsp;rootAddr)</pre>
</li>
</ul>
<a name="shadow--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shadow</h4>
<pre>public&nbsp;void&nbsp;shadow()</pre>
<div class="block">Store m_commit bits in m_saveCommit then duplicate transients to m_commit.
 
 This ensures, that while shadowed, the allocator will not re-use storage
 that was allocated prior to the shadow creation.</div>
</li>
</ul>
<a name="deshadow--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deshadow</h4>
<pre>public&nbsp;void&nbsp;deshadow()</pre>
<div class="block">The transient bits will have been added to correctly, we now just need to
 restore the commit bits from the m_saveCommit, to allow re-allocation
 of non-committed storage.</div>
</li>
</ul>
<a name="abortshadow-com.bigdata.rwstore.RWWriteCacheService-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortshadow</h4>
<pre>public&nbsp;void&nbsp;abortshadow(<a href="../../../com/bigdata/rwstore/RWWriteCacheService.html" title="class in com.bigdata.rwstore">RWWriteCacheService</a>&nbsp;cache)</pre>
<div class="block">Must release allocations made by this allocator.
 
 The commit bits are the old transient bits, so any allocated bits
 set in live, but not in commit, were set within this context.
 
 The m_commit is the m_transients bits at the point of the
 link of the allocationContext with this allocator, bits set in m_live
 that are not set in m_commit, were made by this allocator for the
 aborted context.
 
 L 1100 0110    AC      0111    AB      0110
 T 1100 1110            1111            1110    
 C 1100 1100            1110            1100
 
 BUT the shadow abort must not undo transients bits that were deleted
 from other contexts.  This issue is resolved with the deferred free mechanism
 linked to the ContextAllocation.</div>
</li>
</ul>
<a name="show--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>show</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;show()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AllocBlock.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/rwstore/Allocator.html" title="interface in com.bigdata.rwstore"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/bigdata/rwstore/FixedAllocator.html" title="class in com.bigdata.rwstore"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/rwstore/AllocBlock.html" target="_top">Frames</a></li>
<li><a href="AllocBlock.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
