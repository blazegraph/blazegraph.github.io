<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Thu Feb 25 05:11:34 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AbstractResourceManagerTestCase.MockMetadataService (Blazegraph Database Platform 2.0.1 API)</title>
<meta name="date" content="2016-02-25">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractResourceManagerTestCase.MockMetadataService (Blazegraph Database Platform 2.0.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractResourceManagerTestCase.MockMetadataService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockFederation.html" title="class in com.bigdata.resources"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/resources/AbstractResult.html" title="class in com.bigdata.resources"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html" target="_top">Frames</a></li>
<li><a href="AbstractResourceManagerTestCase.MockMetadataService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.resources</div>
<h2 title="Class AbstractResourceManagerTestCase.MockMetadataService" class="title">Class AbstractResourceManagerTestCase.MockMetadataService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.resources.AbstractResourceManagerTestCase.MockMetadataService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a>, <a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service">IMetadataService</a>, <a href="../../../com/bigdata/service/IRemoteExecutor.html" title="interface in com.bigdata.service">IRemoteExecutor</a>, <a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a>, <a href="../../../com/bigdata/service/ITxCommitProtocol.html" title="interface in com.bigdata.service">ITxCommitProtocol</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/Remote.html?is-external=true" title="class or interface in java.rmi">Remote</a></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.html" title="class in com.bigdata.resources">AbstractResourceManagerTestCase</a></dd>
</dl>
<hr>
<br>
<pre>protected static class <span class="strong">AbstractResourceManagerTestCase.MockMetadataService</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service">IMetadataService</a></pre>
<div class="block">A minimal implementation of <a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service"><code>IMetadataService</code></a> - only those methods
 actually used by the <a href="../../../com/bigdata/resources/ResourceManager.html" title="class in com.bigdata.resources"><code>ResourceManager</code></a> are implemented. This avoids
 conflicts with the <a href="../../../com/bigdata/resources/ResourceManager.html" title="class in com.bigdata.resources"><code>ResourceManager</code></a> instance whose behavior we are
 trying to test.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#AbstractResourceManagerTestCase.MockMetadataService()">AbstractResourceManagerTestCase.MockMetadataService</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#abort(long)">abort</a></strong>(long&nbsp;tx)</code>
<div class="block">Request abort of the transaction by the data service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#destroy()">destroy</a></strong>()</code>
<div class="block">Destroy the service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#dropIndex(java.lang.String)">dropIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Drops the named index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#dropScaleOutIndex(java.lang.String)">dropScaleOutIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Drop the named scale-out index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#find(java.lang.String,%20long,%20byte[])">find</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
    long&nbsp;timestamp,
    byte[]&nbsp;key)</code>
<div class="block">Find and return the partition spanning the given key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#forceOverflow(boolean,%20boolean)">forceOverflow</a></strong>(boolean&nbsp;immediate,
             boolean&nbsp;compactingMerge)</code>
<div class="block">Method sets a flag that will force overflow processing during the next
 group commit and optionally forces a group commit <strong>(Note: This
 method exists primarily for unit tests and benchmarking activities and
 SHOULD NOT be used on a deployed federation as the overhead associated
 with a compacting merge of each index partition can be significant).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#get(java.lang.String,%20long,%20byte[])">get</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
   long&nbsp;timestamp,
   byte[]&nbsp;key)</code>
<div class="block">The partition with that separator key or <code>null</code> (exact match
 on the separator key).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#getAsynchronousOverflowCounter()">getAsynchronousOverflowCounter</a></strong>()</code>
<div class="block">The #of asynchronous overflows that have taken place on this data service
 (the counter is not restart safe).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#getHostname()">getHostname</a></strong>()</code>
<div class="block">The host on which this service is running.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#getIndexMetadata(java.lang.String,%20long)">getIndexMetadata</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                long&nbsp;timestamp)</code>
<div class="block">Return the metadata for the named index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine">IQueryPeer</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#getQueryEngine()">getQueryEngine</a></strong>()</code>
<div class="block">Return the <a href="../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine"><code>IQueryPeer</code></a> running on this service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#getServiceIface()">getServiceIface</a></strong>()</code>
<div class="block">Return the most interesting interface for the service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#getServiceName()">getServiceName</a></strong>()</code>
<div class="block">Return name by which a user might recognize this service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#getServiceUUID()">getServiceUUID</a></strong>()</code>
<div class="block">The unique identifier for this service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/service/Session.html" title="class in com.bigdata.service">Session</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#getSession()">getSession</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#getStatistics()">getStatistics</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#isOverflowActive()">isOverflowActive</a></strong>()</code>
<div class="block">Return <code>true</code> iff the data service is currently engaged in
 overflow processing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#joinIndexPartition(java.lang.String,%20com.bigdata.mdi.PartitionLocator[],%20com.bigdata.mdi.PartitionLocator)">joinIndexPartition</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                  <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>[]&nbsp;oldLocators,
                  <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;newLocator)</code>
<div class="block">Updates the <a href="../../../com/bigdata/mdi/MetadataIndex.html" title="class in com.bigdata.mdi"><code>MetadataIndex</code></a> for the named scale-out index to
 reflect the join of N index partitions (which must be siblings) into a
 single index partition.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#moveIndexPartition(java.lang.String,%20com.bigdata.mdi.PartitionLocator,%20com.bigdata.mdi.PartitionLocator)">moveIndexPartition</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                  <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;oldLocator,
                  <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;newLocator)</code>
<div class="block">Updates the <a href="../../../com/bigdata/mdi/MetadataIndex.html" title="class in com.bigdata.mdi"><code>MetadataIndex</code></a> for the named scale-out index to
 reflect the move of an index partition from one data service to another.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#nextPartitionId(java.lang.String)">nextPartitionId</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Return the next unique partition identifier to be assigned to the named
 scale-out index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#prepare(long,%20long)">prepare</a></strong>(long&nbsp;tx,
       long&nbsp;revisionTime)</code>
<div class="block">Request that the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> participate in a 3-phase commit.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#purgeOldResources(long,%20boolean)">purgeOldResources</a></strong>(long&nbsp;timeout,
                 boolean&nbsp;truncateJournal)</code>
<div class="block">This attempts to pause the service accepting <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a>
 writes and then purges any resources that are no longer required based on
 the <code>StoreManager.Options#MIN_RELEASE_AGE</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ResultSet.html" title="class in com.bigdata.btree">ResultSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#rangeIterator(long,%20java.lang.String,%20byte[],%20byte[],%20int,%20int,%20cutthecrap.utils.striterators.IFilter)">rangeIterator</a></strong>(long&nbsp;tx,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
             byte[]&nbsp;fromKey,
             byte[]&nbsp;toKey,
             int&nbsp;capacity,
             int&nbsp;flags,
             <a href="../../../cutthecrap/utils/striterators/IFilter.html" title="interface in cutthecrap.utils.striterators">IFilter</a>&nbsp;filter)</code>
<div class="block">
 Streaming traversal of keys and/or values in a key range.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/rawstore/IBlock.html" title="interface in com.bigdata.rawstore">IBlock</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#readBlock(com.bigdata.mdi.IResourceMetadata,%20long)">readBlock</a></strong>(<a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi">IResourceMetadata</a>&nbsp;resource,
         long&nbsp;addr)</code>
<div class="block">Read a low-level record from the described <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a> described by
 the <a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi"><code>IResourceMetadata</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#registerIndex(java.lang.String,%20com.bigdata.btree.IndexMetadata)">registerIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
             <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)</code>
<div class="block">Register a named mutable index on the <a href="../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#registerScaleOutIndex(com.bigdata.btree.IndexMetadata,%20byte[][],%20java.util.UUID[])">registerScaleOutIndex</a></strong>(<a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata,
                     byte[][]&nbsp;separatorKeys,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>[]&nbsp;dataServices)</code>
<div class="block">Register and statically partition a scale-out index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#setReleaseTime(long)">setReleaseTime</a></strong>(long&nbsp;releaseTime)</code>
<div class="block">Notify a data service that it MAY release data required to support views
 for up to the specified <i>releaseTime </i>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#singlePhaseCommit(long)">singlePhaseCommit</a></strong>(long&nbsp;tx)</code>
<div class="block">Request commit of the transaction by the data service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#splitIndexPartition(java.lang.String,%20com.bigdata.mdi.PartitionLocator,%20com.bigdata.mdi.PartitionLocator[])">splitIndexPartition</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                   <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;oldLocator,
                   <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>[]&nbsp;newLocators)</code>
<div class="block">Updates the <a href="../../../com/bigdata/mdi/MetadataIndex.html" title="class in com.bigdata.mdi"><code>MetadataIndex</code></a> for the named scale-out index to
 reflect the split of an index partition into N new index partitions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;? extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#submit(java.util.concurrent.Callable)">submit</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;? extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;proc)</code>
<div class="block">Submit a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent"><code>Callable</code></a> and return its <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html#submit(long,%20java.lang.String,%20com.bigdata.btree.proc.IIndexProcedure)">submit</a></strong>(long&nbsp;tx,
      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
      <a href="../../../com/bigdata/btree/proc/IIndexProcedure.html" title="interface in com.bigdata.btree.proc">IIndexProcedure</a>&nbsp;proc)</code>
<div class="block">
 Submit a procedure.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AbstractResourceManagerTestCase.MockMetadataService()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractResourceManagerTestCase.MockMetadataService</h4>
<pre>protected&nbsp;AbstractResourceManagerTestCase.MockMetadataService()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="nextPartitionId(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextPartitionId</h4>
<pre>public&nbsp;int&nbsp;nextPartitionId(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)
                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                           <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html#nextPartitionId(java.lang.String)">IMetadataService</a></code></strong></div>
<div class="block">Return the next unique partition identifier to be assigned to the named
 scale-out index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IMetadataService.html#nextPartitionId(java.lang.String)">nextPartitionId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service">IMetadataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name of the scale-out index.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The next partition identifier.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="registerScaleOutIndex(com.bigdata.btree.IndexMetadata, byte[][], java.util.UUID[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerScaleOutIndex</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;registerScaleOutIndex(<a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata,
                         byte[][]&nbsp;separatorKeys,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>[]&nbsp;dataServices)
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                  <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                  <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html#registerScaleOutIndex(com.bigdata.btree.IndexMetadata,%20byte[][],%20java.util.UUID[])">IMetadataService</a></code></strong></div>
<div class="block">Register and statically partition a scale-out index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IMetadataService.html#registerScaleOutIndex(com.bigdata.btree.IndexMetadata,%20byte[][],%20java.util.UUID[])">registerScaleOutIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service">IMetadataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>metadata</code> - The metadata template describing the scale-out index,
            including the name to be assigned to that index.</dd><dd><code>separatorKeys</code> - The array of separator keys. Each separator key is interpreted
            as an <em>unsigned byte[]</em>. The first entry MUST be an
            empty byte[]. The entries MUST be in sorted order.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The UUID of the scale-out index.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="dropScaleOutIndex(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropScaleOutIndex</h4>
<pre>public&nbsp;void&nbsp;dropScaleOutIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)
                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html#dropScaleOutIndex(java.lang.String)">IMetadataService</a></code></strong></div>
<div class="block">Drop the named scale-out index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IMetadataService.html#dropScaleOutIndex(java.lang.String)">dropScaleOutIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service">IMetadataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name of the scale-out index.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="getServiceUUID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceUUID</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;getServiceUUID()
                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IService.html#getServiceUUID()">IService</a></code></strong></div>
<div class="block">The unique identifier for this service.
 <p>
 Note: Some service discovery frameworks (Jini) will assign the service a
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> asynchronously after a new service starts, in which case
 this method will return <code>null</code> until the service
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> has been assigned.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IService.html#getServiceUUID()">getServiceUUID</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The unique data service identifier.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - since you can use this method with RMI.</dd></dl>
</li>
</ul>
<a name="getStatistics()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatistics</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getStatistics()
                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="registerIndex(java.lang.String, com.bigdata.btree.IndexMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerIndex</h4>
<pre>public&nbsp;void&nbsp;registerIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                 <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#registerIndex(java.lang.String,%20com.bigdata.btree.IndexMetadata)">IDataService</a></code></strong></div>
<div class="block">Register a named mutable index on the <a href="../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a>.
 <p>
 Note: In order to register an index partition the
 <a href="../../../com/bigdata/btree/IndexMetadata.html#getPartitionMetadata()"><code>partition metadata</code></a> property
 MUST be set. The <a href="../../../com/bigdata/mdi/LocalPartitionMetadata.html#getResources()"><code>resources</code></a>
 property will then be overriden when the index is actually registered so
 as to reflect the <a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi"><code>IResourceMetadata</code></a> description of the journal on
 which the index actually resides.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#registerIndex(java.lang.String,%20com.bigdata.btree.IndexMetadata)">registerIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name that can be used to recover the index. In order to
            create a partition of an index you must form the name of the
            index partition using
            <a href="../../../com/bigdata/service/DataService.html#getIndexPartitionName(java.lang.String,%20int)"><code>DataService.getIndexPartitionName(String, int)</code></a> (this
            operation is generally performed by the
            <a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service"><code>IMetadataService</code></a> which manages scale-out indices).</dd><dd><code>metadata</code> - The metadata describing the index.
            <p>
            The <a href="../../../com/bigdata/mdi/LocalPartitionMetadata.html#getResources()"><code>LocalPartitionMetadata.getResources()</code></a> property on
            the <a href="../../../com/bigdata/btree/IndexMetadata.html#getPartitionMetadata()"><code>IndexMetadata.getPartitionMetadata()</code></a> SHOULD NOT be
            set. The correct <a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi"><code>IResourceMetadata</code></a>[] will be assigned
            when the index is registered on the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="getIndexMetadata(java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexMetadata</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;getIndexMetadata(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                             long&nbsp;timestamp)
                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#getIndexMetadata(java.lang.String,%20long)">IDataService</a></code></strong></div>
<div class="block">Return the metadata for the named index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#getIndexMetadata(java.lang.String,%20long)">getIndexMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The index name.</dd><dd><code>timestamp</code> - A transaction identifier, <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> for the
            unisolated index view, <a href="../../../com/bigdata/journal/ITx.html#READ_COMMITTED"><code>ITx.READ_COMMITTED</code></a>, or
            <code>timestamp</code> for a historical view no later than
            the specified timestamp.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The metadata for the named index.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="dropIndex(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropIndex</h4>
<pre>public&nbsp;void&nbsp;dropIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)
               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#dropIndex(java.lang.String)">IDataService</a></code></strong></div>
<div class="block">Drops the named index.
 <p>
 Note: In order to drop a partition of an index you must form the name of
 the index partition using
 <a href="../../../com/bigdata/service/DataService.html#getIndexPartitionName(java.lang.String,%20int)"><code>DataService.getIndexPartitionName(String, int)</code></a> (this operation is
 generally performed by the <a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service"><code>IMetadataService</code></a> which manages
 scale-out indices).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#dropIndex(java.lang.String)">dropIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The index name.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="rangeIterator(long, java.lang.String, byte[], byte[], int, int, cutthecrap.utils.striterators.IFilter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rangeIterator</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/ResultSet.html" title="class in com.bigdata.btree">ResultSet</a>&nbsp;rangeIterator(long&nbsp;tx,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                      byte[]&nbsp;fromKey,
                      byte[]&nbsp;toKey,
                      int&nbsp;capacity,
                      int&nbsp;flags,
                      <a href="../../../cutthecrap/utils/striterators/IFilter.html" title="interface in cutthecrap.utils.striterators">IFilter</a>&nbsp;filter)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#rangeIterator(long,%20java.lang.String,%20byte[],%20byte[],%20int,%20int,%20cutthecrap.utils.striterators.IFilter)">IDataService</a></code></strong></div>
<div class="block"><p>
 Streaming traversal of keys and/or values in a key range.
 </p>
 <p>
 Note: In order to visit all keys in a range, clients are expected to
 issue repeated calls in which the <i>fromKey</i> is incremented to the
 successor of the last key visited until either an empty <a href="../../../com/bigdata/btree/ResultSet.html" title="class in com.bigdata.btree"><code>ResultSet</code></a>
 is returned or the <code>ResultSet#isLast()</code> flag is set, indicating
 that all keys up to (but not including) the <i>startKey</i> have been
 visited. See <a href="../../../com/bigdata/service/ndx/ClientIndexView.html" title="class in com.bigdata.service.ndx"><code>ClientIndexView</code></a> (scale-out indices) and
 <a href="../../../com/bigdata/service/ndx/DataServiceTupleIterator.html" title="class in com.bigdata.service.ndx"><code>DataServiceTupleIterator</code></a> (unpartitioned indices), both of which
 encapsulate this method.
 </p>
 <p>
 Note: If the iterator can be determined to be read-only and it is
 submitted as <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> then it will be run as
 <a href="../../../com/bigdata/journal/ITx.html#READ_COMMITTED"><code>ITx.READ_COMMITTED</code></a> to improve concurrency.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#rangeIterator(long,%20java.lang.String,%20byte[],%20byte[],%20int,%20int,%20cutthecrap.utils.striterators.IFilter)">rangeIterator</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier -or- <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> IFF the
            operation is NOT isolated by a transaction -or-
            <code> - tx </code> to read from the most recent commit point
            not later than the absolute value of <i>tx</i> (a fully
            isolated read-only transaction using a historical start time).</dd><dd><code>name</code> - The index name (required).</dd><dd><code>fromKey</code> - The starting key for the scan (or <code>null</code> iff
            there is no lower bound).</dd><dd><code>toKey</code> - The first key that will not be visited (or <code>null</code>
            iff there is no upper bound).</dd><dd><code>capacity</code> - When non-zero, this is the maximum #of entries to process.</dd><dd><code>flags</code> - One or more flags formed by bitwise OR of zero or more of the
            constants defined by <a href="../../../com/bigdata/btree/IRangeQuery.html" title="interface in com.bigdata.btree"><code>IRangeQuery</code></a>.</dd><dd><code>filter</code> - An optional object that may be used to layer additional
            semantics onto the iterator. The filter will be constructed on
            the server and in the execution context for the iterator, so
            it will execute directly against the index for the maximum
            efficiency.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the operation was interrupted.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code> - If the operation caused an error. See
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true#getCause()" title="class or interface in java.lang"><code>Throwable.getCause()</code></a> for the underlying
                error.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="submit(long, java.lang.String, com.bigdata.btree.proc.IIndexProcedure)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&nbsp;submit(long&nbsp;tx,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
            <a href="../../../com/bigdata/btree/proc/IIndexProcedure.html" title="interface in com.bigdata.btree.proc">IIndexProcedure</a>&nbsp;proc)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#submit(long,%20java.lang.String,%20com.bigdata.btree.proc.IIndexProcedure)">IDataService</a></code></strong></div>
<div class="block"><p>
 Submit a procedure.
 </p>
 <p>
 Unisolated operations SHOULD be used to achieve "auto-commit" semantics.
 Fully isolated transactions are useful IFF multiple operations must be
 composed into a ACID unit.
 </p>
 <p>
 While unisolated batch operations on a single data service are ACID,
 clients are required to locate all index partitions for the logical
 operation and distribute their operation across the distinct data service
 instances holding the affected index partitions. In practice, this means
 that contract for ACID unisolated operations is limited to operations
 where the data is located on a single data service instance. For ACID
 operations that cross multiple data service instances the client MUST use
 a fully isolated transaction.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#submit(long,%20java.lang.String,%20com.bigdata.btree.proc.IIndexProcedure)">submit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier, <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> for an ACID
            operation NOT isolated by a transaction,
            <a href="../../../com/bigdata/journal/ITx.html#READ_COMMITTED"><code>ITx.READ_COMMITTED</code></a> for a read-committed operation not
            protected by a transaction (no global read lock), or any valid
            commit time for a read-historical operation not protected by a
            transaction (no global read lock).</dd><dd><code>name</code> - The name of the index partition.</dd><dd><code>proc</code> - The procedure to be executed.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> from which the outcome of the procedure may be
         obtained.</dd></dl>
</li>
</ul>
<a name="readBlock(com.bigdata.mdi.IResourceMetadata, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readBlock</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/rawstore/IBlock.html" title="interface in com.bigdata.rawstore">IBlock</a>&nbsp;readBlock(<a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi">IResourceMetadata</a>&nbsp;resource,
               long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#readBlock(com.bigdata.mdi.IResourceMetadata,%20long)">IDataService</a></code></strong></div>
<div class="block">Read a low-level record from the described <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a> described by
 the <a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi"><code>IResourceMetadata</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#readBlock(com.bigdata.mdi.IResourceMetadata,%20long)">readBlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>resource</code> - The description of the resource containing that block.</dd><dd><code>addr</code> - The address of the block in that resource.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An object that may be used to read the block from the data
         service.</dd></dl>
</li>
</ul>
<a name="splitIndexPartition(java.lang.String, com.bigdata.mdi.PartitionLocator, com.bigdata.mdi.PartitionLocator[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitIndexPartition</h4>
<pre>public&nbsp;void&nbsp;splitIndexPartition(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                       <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;oldLocator,
                       <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>[]&nbsp;newLocators)
                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html#splitIndexPartition(java.lang.String,%20com.bigdata.mdi.PartitionLocator,%20com.bigdata.mdi.PartitionLocator[])">IMetadataService</a></code></strong></div>
<div class="block">Updates the <a href="../../../com/bigdata/mdi/MetadataIndex.html" title="class in com.bigdata.mdi"><code>MetadataIndex</code></a> for the named scale-out index to
 reflect the split of an index partition into N new index partitions. The
 old index partition locator is removed from the <a href="../../../com/bigdata/mdi/MetadataIndex.html" title="class in com.bigdata.mdi"><code>MetadataIndex</code></a> and
 the new index partition locators are inserted in a single atomic
 operation.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IMetadataService.html#splitIndexPartition(java.lang.String,%20com.bigdata.mdi.PartitionLocator,%20com.bigdata.mdi.PartitionLocator[])">splitIndexPartition</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service">IMetadataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name of the scale-out index.</dd><dd><code>oldLocator</code> - The partition locator that is being split.</dd><dd><code>newLocators</code> - The locator information for the new index partitions that were
            created by the split of the old index partition.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="joinIndexPartition(java.lang.String, com.bigdata.mdi.PartitionLocator[], com.bigdata.mdi.PartitionLocator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinIndexPartition</h4>
<pre>public&nbsp;void&nbsp;joinIndexPartition(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                      <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>[]&nbsp;oldLocators,
                      <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;newLocator)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html#joinIndexPartition(java.lang.String,%20com.bigdata.mdi.PartitionLocator[],%20com.bigdata.mdi.PartitionLocator)">IMetadataService</a></code></strong></div>
<div class="block">Updates the <a href="../../../com/bigdata/mdi/MetadataIndex.html" title="class in com.bigdata.mdi"><code>MetadataIndex</code></a> for the named scale-out index to
 reflect the join of N index partitions (which must be siblings) into a
 single index partition. The old index partition locators are removed from
 the <a href="../../../com/bigdata/mdi/MetadataIndex.html" title="class in com.bigdata.mdi"><code>MetadataIndex</code></a> and the new index partition locator is inserted
 in a single atomic operation.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IMetadataService.html#joinIndexPartition(java.lang.String,%20com.bigdata.mdi.PartitionLocator[],%20com.bigdata.mdi.PartitionLocator)">joinIndexPartition</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service">IMetadataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name of the scale-out index.</dd><dd><code>oldLocators</code> - The partition locators for the index partitions that were
            joined.</dd><dd><code>newLocator</code> - The locator for the new index partition created by that join.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="moveIndexPartition(java.lang.String, com.bigdata.mdi.PartitionLocator, com.bigdata.mdi.PartitionLocator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveIndexPartition</h4>
<pre>public&nbsp;void&nbsp;moveIndexPartition(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                      <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;oldLocator,
                      <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;newLocator)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html#moveIndexPartition(java.lang.String,%20com.bigdata.mdi.PartitionLocator,%20com.bigdata.mdi.PartitionLocator)">IMetadataService</a></code></strong></div>
<div class="block">Updates the <a href="../../../com/bigdata/mdi/MetadataIndex.html" title="class in com.bigdata.mdi"><code>MetadataIndex</code></a> for the named scale-out index to
 reflect the move of an index partition from one data service to another.
 The old index partition locator is removed from the <a href="../../../com/bigdata/mdi/MetadataIndex.html" title="class in com.bigdata.mdi"><code>MetadataIndex</code></a>
 and the new index partition locator is inserted in a single atomic
 operation.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IMetadataService.html#moveIndexPartition(java.lang.String,%20com.bigdata.mdi.PartitionLocator,%20com.bigdata.mdi.PartitionLocator)">moveIndexPartition</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service">IMetadataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name of the scale-out index.</dd><dd><code>oldLocator</code> - The partition locator for the source index partition.</dd><dd><code>newLocator</code> - The locator for the target index partition.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="get(java.lang.String, long, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;get(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                   long&nbsp;timestamp,
                   byte[]&nbsp;key)
                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a>,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html#get(java.lang.String,%20long,%20byte[])">IMetadataService</a></code></strong></div>
<div class="block">The partition with that separator key or <code>null</code> (exact match
 on the separator key).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IMetadataService.html#get(java.lang.String,%20long,%20byte[])">get</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service">IMetadataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name of the scale-out index.</dd><dd><code>key</code> - The separator key (the first key that would go into that
            partition).</dd>
<dt><span class="strong">Returns:</span></dt><dd>The partition with that separator key or <code>null</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="find(java.lang.String, long, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>find</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi">PartitionLocator</a>&nbsp;find(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                    long&nbsp;timestamp,
                    byte[]&nbsp;key)
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                             <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a>,
                             <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html#find(java.lang.String,%20long,%20byte[])">IMetadataService</a></code></strong></div>
<div class="block">Find and return the partition spanning the given key.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IMetadataService.html#find(java.lang.String,%20long,%20byte[])">find</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service">IMetadataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name of the scale-out index.</dd><dd><code>key</code> - A key of interest for the scale-out index.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The partition spanning the given key or <code>null</code> if
         there are no partitions defined.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="forceOverflow(boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceOverflow</h4>
<pre>public&nbsp;void&nbsp;forceOverflow(boolean&nbsp;immediate,
                 boolean&nbsp;compactingMerge)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#forceOverflow(boolean,%20boolean)">IDataService</a></code></strong></div>
<div class="block">Method sets a flag that will force overflow processing during the next
 group commit and optionally forces a group commit <strong>(Note: This
 method exists primarily for unit tests and benchmarking activities and
 SHOULD NOT be used on a deployed federation as the overhead associated
 with a compacting merge of each index partition can be significant).
 </strong>
 <p>
 Normally there is no reason to invoke this method directly. Overflow
 processing is triggered automatically on a bottom-up basis when the
 extent of the live journal nears the <a href="../../../com/bigdata/journal/Options.html#MAXIMUM_EXTENT"><code>Options.MAXIMUM_EXTENT</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#forceOverflow(boolean,%20boolean)">forceOverflow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>immediate</code> - The purpose of this argument is to permit the caller to
            trigger an overflow event even though there are no writes
            being made against the data service. When <code>true</code>
            the method will write a token record on the live journal in
            order to provoke a group commit. In this case synchronous
            overflow processing will have occurred by the time the method
            returns. When <code>false</code> a flag is set and overflow
            processing will occur on the next commit.</dd><dd><code>compactingMerge</code> - The purpose of this flag is to permit the caller to indicate
            that a compacting merge should be performed for all indices on
            the data service (at least, all indices whose data are not
            simply copied onto the new journal) during the next
            synchronous overflow. Note that compacting merges of indices
            are performed automatically from time to time so this flag
            exists mainly for people who want to force a compacting merge
            for some reason.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isOverflowActive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOverflowActive</h4>
<pre>public&nbsp;boolean&nbsp;isOverflowActive()
                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#isOverflowActive()">IDataService</a></code></strong></div>
<div class="block">Return <code>true</code> iff the data service is currently engaged in
 overflow processing.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#isOverflowActive()">isOverflowActive</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getAsynchronousOverflowCounter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAsynchronousOverflowCounter</h4>
<pre>public&nbsp;long&nbsp;getAsynchronousOverflowCounter()
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#getAsynchronousOverflowCounter()">IDataService</a></code></strong></div>
<div class="block">The #of asynchronous overflows that have taken place on this data service
 (the counter is not restart safe).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#getAsynchronousOverflowCounter()">getAsynchronousOverflowCounter</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="destroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IService.html#destroy()">IService</a></code></strong></div>
<div class="block">Destroy the service. If the service is running, it is shutdown
 immediately and then destroyed. This method has the same signature as
 <code>DestroyAdmin#destroy()</code>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IService.html#destroy()">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a></code></dd>
</dl>
</li>
</ul>
<a name="submit(java.util.concurrent.Callable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;? extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;submit(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;? extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;proc)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#submit(java.util.concurrent.Callable)">IDataService</a></code></strong></div>
<div class="block">Submit a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent"><code>Callable</code></a> and return its <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>. The
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent"><code>Callable</code></a> will execute on the
 <a href="../../../com/bigdata/service/IBigdataFederation.html#getExecutorService()"><code>IBigdataFederation.getExecutorService()</code></a>.
 <p>
 Note: This interface is specialized by the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> for tasks
 which need to gain access to the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> in order to gain
 local access to index partitions, etc. Such tasks declare the
 <a href="../../../com/bigdata/service/IDataServiceCallable.html" title="interface in com.bigdata.service"><code>IDataServiceCallable</code></a>. For example, scale-out joins use
 this mechanism.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#submit(java.util.concurrent.Callable)">submit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IRemoteExecutor.html#submit(java.util.concurrent.Callable)">submit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IRemoteExecutor.html" title="interface in com.bigdata.service">IRemoteExecutor</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> for that task.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/service/IDataServiceCallable.html" title="interface in com.bigdata.service"><code>IDataServiceCallable</code></a></dd></dl>
</li>
</ul>
<a name="getHostname()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHostname</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getHostname()
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IService.html#getHostname()">IService</a></code></strong></div>
<div class="block">The host on which this service is running.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IService.html#getHostname()">getHostname</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - since you can use this method with RMI.</dd></dl>
</li>
</ul>
<a name="getServiceIface()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceIface</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;getServiceIface()
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IService.html#getServiceIface()">IService</a></code></strong></div>
<div class="block">Return the most interesting interface for the service.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IService.html#getServiceIface()">getServiceIface</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - since you can use this method with RMI.</dd></dl>
</li>
</ul>
<a name="getServiceName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceName</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getServiceName()
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IService.html#getServiceName()">IService</a></code></strong></div>
<div class="block">Return name by which a user might recognize this service.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IService.html#getServiceName()">getServiceName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - since you can use this method with RMI.</dd></dl>
</li>
</ul>
<a name="purgeOldResources(long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purgeOldResources</h4>
<pre>public&nbsp;boolean&nbsp;purgeOldResources(long&nbsp;timeout,
                        boolean&nbsp;truncateJournal)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#purgeOldResources(long,%20boolean)">IDataService</a></code></strong></div>
<div class="block">This attempts to pause the service accepting <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a>
 writes and then purges any resources that are no longer required based on
 the <code>StoreManager.Options#MIN_RELEASE_AGE</code>.
 <p>
 Note: Resources are normally purged during synchronous overflow handling.
 However, asynchronous overflow handling can cause resources to no longer
 be needed as new index partition views are defined. This method MAY be
 used to trigger a release before the next overflow event.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#purgeOldResources(long,%20boolean)">purgeOldResources</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - The timeout (in milliseconds) that the method will await the
            pause of the write service.</dd><dd><code>truncateJournal</code> - When <code>true</code>, the live journal will be truncated
            to its minimum extent (all writes will be preserved but there
            will be no free space left in the journal). This may be used
            to force the <a href="../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a> to its minimum possible
            footprint for the configured history retention policy.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful and <code>false</code> if the
         write service could not be paused after the specified timeout.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="setReleaseTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReleaseTime</h4>
<pre>public&nbsp;void&nbsp;setReleaseTime(long&nbsp;releaseTime)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/ITxCommitProtocol.html#setReleaseTime(long)">ITxCommitProtocol</a></code></strong></div>
<div class="block">Notify a data service that it MAY release data required to support views
 for up to the specified <i>releaseTime </i>. This is the mechanism by
 which read locks are released. In effect, a read lock is a requirement
 that the releaseTime not be advanced as far as the start time of the
 transaction holding that read lock. Periodically and as transactions
 complete, the transaction manager will advance the releaseTime, thereby
 releasing read locks.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/ITxCommitProtocol.html#setReleaseTime(long)">setReleaseTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/ITxCommitProtocol.html" title="interface in com.bigdata.service">ITxCommitProtocol</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>releaseTime</code> - The new release time (strictly advanced by the transaction
            manager).</dd></dl>
</li>
</ul>
<a name="abort(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abort</h4>
<pre>public&nbsp;void&nbsp;abort(long&nbsp;tx)
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/ITxCommitProtocol.html#abort(long)">ITxCommitProtocol</a></code></strong></div>
<div class="block">Request abort of the transaction by the data service. This message is
 sent in response to <a href="../../../com/bigdata/journal/ITransactionService.html#abort(long)"><code>ITransactionService.abort(long)</code></a> to each
 <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> on which the transaction has written. It is NOT sent
 for read-only transactions since they have no local state on the
 <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/ITxCommitProtocol.html#abort(long)">abort</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/ITxCommitProtocol.html" title="interface in com.bigdata.service">ITxCommitProtocol</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an RMI problem.</dd></dl>
</li>
</ul>
<a name="singlePhaseCommit(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>singlePhaseCommit</h4>
<pre>public&nbsp;long&nbsp;singlePhaseCommit(long&nbsp;tx)
                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a>,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/ITxCommitProtocol.html#singlePhaseCommit(long)">ITxCommitProtocol</a></code></strong></div>
<div class="block">Request commit of the transaction by the data service. In the case where
 the transaction is entirely contained on the data service this method may
 be used to both prepare (validate) and commit the transaction (a single
 phase commit). Otherwise a 2-/3- phase commit is required and a separate
 <code>#prepare(long)</code> message MUST be used.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/ITxCommitProtocol.html#singlePhaseCommit(long)">singlePhaseCommit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/ITxCommitProtocol.html" title="interface in com.bigdata.service">ITxCommitProtocol</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The commit time assigned to that transaction.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if interrupted.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code> - This will wrap a <a href="../../../com/bigdata/journal/ValidationError.html" title="class in com.bigdata.journal"><code>ValidationError</code></a> if validation fails.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an RMI problem.</dd></dl>
</li>
</ul>
<a name="prepare(long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepare</h4>
<pre>public&nbsp;void&nbsp;prepare(long&nbsp;tx,
           long&nbsp;revisionTime)
             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a>,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)">ITxCommitProtocol</a></code></strong></div>
<div class="block">Request that the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> participate in a 3-phase commit.
 <p>
 When the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> is sent the <a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)"><code>ITxCommitProtocol.prepare(long, long)</code></a>
 message it executes a task which will handle commit processing for the
 transaction. That task MUST hold exclusive locks for the unisolated
 indices to which the transaction write sets will be applied. While
 holding those locks, the task must first validate the transaction's write
 set and then merge down the write set onto the corresponding unisolated
 indices using the specified <i>revisionTime</i> and checkpoint the
 indices in order to reduce all possible sources of latency. Note that
 each <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> is able to independently prepare exactly those
 parts of the transaction's write set which are mapped onto index
 partitions hosted by a given <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>.
 <p>
 Once validation is complete and all possible steps have been taken to
 reduce sources of latency (e.g., checkpoint the indices and pre-extending
 the store if necessary), the task notifies the
 <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal"><code>ITransactionService</code></a> that it has prepared using
 <code>ITransactionService#prepared(long)</code>. The
 <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal"><code>ITransactionService</code></a> will wait until all tasks have prepared. If a
 task CAN NOT prepare the transaction, then it MUST throw an exception out
 of its <a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)"><code>ITxCommitProtocol.prepare(long, long)</code></a> method.
 <p>
 Once all tasks have send an <code>ITransactionService#prepared(long)</code>
 message to the <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal"><code>ITransactionService</code></a>, it will assign a commitTime
 to the transaction and permit those methods to return that commitTime to
 the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s. Once the task receives the assigned commit
 time, it must obtain an exclusive write lock for the live journal (this
 is a higher requirement than just an exclusive lock on the necessary
 indices and will lock out all other write requests for the journal),
 register the checkpointed indices on the commit list and then request a
 commit of the journal using the specified commitTime. The task then
 notifies the transaction service that it has completed its commit using
 <code>ITransactionService#committed(long)</code> and awaits a response. If the
 <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal"><code>ITransactionService</code></a> indicates that the commit was not successful,
 the task rolls back the live journal to the prior commit point and throws
 an exception out of <a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)"><code>ITxCommitProtocol.prepare(long, long)</code></a>.
 <p>
 A sample flow for successful a distributed transaction commit is shown
 below. This example shows two <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s on which the client
 has written. (If the client only writes on a single data service then we
 use a single-phase commit protocol).
 
 <pre>
 client -------+----txService----+--dataService1--+--dataService2--+...           
   | [1]                    
   | commit(tx) -------- + [2]
   |                     | prepare(tx,rev) +
   |                     | [3]             |
   |                     | prepare(tx,rev) ------------------+
   |                     |                 |                 |
   |                     | &lt;--prepared(tx) +                 |
   |                     |                                   |
   |                     | &lt;------------------- prepared(tx) +
   |                     |  
   |       "prepared" barrier [4]
   |                     |
   |                     | -- (commitTime) +  
   |                     | -------------------- (commitTime) +
   |                     | [5]             |                 |
   |                     | &lt;--committed(tx)------------------+  
   |                     | [6]             |
   |                     | &lt;--committed(tx)+
   |                     | 
   |       "committed" barrier [7]
   |                     | [8]
   |                     | ------ (success)+  
   |                     | [9]             |
   |                     | (void)----------+
   |                     |                 halt
   |                     | [10]             
   |                     | ------------------------ (success)+
   |                     | [11]                              |
   |                     | (void)----------------------------+
   |                [12] |                                   halt
   | (commitTime)--------+  
   |                   
 </pre>
 
 <ul>
 <li> [1] The client issues an <a href="../../../com/bigdata/journal/ITransactionService.html#commit(long)"><code>ITransactionService.commit(long)</code></a>
 request, in which it specifies the transaction identifier (tx). </li>
 <li> [2,3] The transaction service issues concurrent
 <a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)"><code>ITxCommitProtocol.prepare(long, long)</code></a> requests to the participating
 <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s, specifying the transaction identifier (tx) and
 the revision timestamp (rev) to be used and then waits at a barrier until
 it receives <code>ITransactionService#prepared(long)</code> messages from
 those <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s.</li>
 <li> [4] When all participants have prepared, the barrier breaks and the
 <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal"><code>ITransactionService</code></a> assigns a <i>commitTime</i> and returns that
 commitTime as the return value for the prepared messages.</li>
 <li> [5,6] Once the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> obtains that commitTime, it
 proceeds with its atomic commit using the specified commitTime and then
 sends an <code>ITransactionService#committed(long)</code> message to the
 <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal"><code>ITransactionService</code></a>.</li>
 <li> [7] The <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal"><code>ITransactionService</code></a> waits at another barrier.</li>
 <li> [8,10] Once it has received an
 <code>ITransactionService#committed(long)</code> message from each
 participating <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> the transaction has been successfully
 committed and the barrier breaks. The <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal"><code>ITransactionService</code></a> now
 lets the <code>ITransactionService#committed(long)</code> messages return
 <code>true</code>, indicating success.</li>
 <li> [9,11] The <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s return (void) from their
 <a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)"><code>ITxCommitProtocol.prepare(long, long)</code></a> message and the threads running their side
 of the commit protocol halt.</li>
 <li> [12] The <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal"><code>ITransactionService</code></a> returns the commit time which
 it assigned and which was used by each participating <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>
 to the client.
 </ul>
 There are many points in the protocol where commit processing can fail.
 However, there are two primary failure classifications that are of
 interest for error handling. Up until the first barrier is satisified,
 there is no side-effect on the persistent state so error handling need
 only halt processing on the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s and discard any local
 state associated with the transaction and throw an exception out of
 <a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)"><code>ITxCommitProtocol.prepare(long, long)</code></a>. Once the first barrier has been
 satisfied, persistent side-effects MAY occur. Error handling in this
 case must rollback the state of the live journal for each of the
 participating <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s. If error handling was performed in
 response to a local error, then the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> must throw that
 error out of <a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)"><code>ITxCommitProtocol.prepare(long, long)</code></a>. However, if error handling
 was initiated because <code>ITransactionService#committed(long)</code>
 returned <code>false</code> then it should return normally (after
 rolling back the journal).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)">prepare</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/ITxCommitProtocol.html" title="interface in com.bigdata.service">ITxCommitProtocol</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier.</dd><dd><code>revisionTime</code> - The timestamp that will be written into the <a href="../../../com/bigdata/btree/ITuple.html" title="interface in com.bigdata.btree"><code>ITuple</code></a>s
            when the write set of the validated transaction is merged down
            onto the unisolated indices.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an RMI problem.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="getSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSession</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/service/Session.html" title="class in com.bigdata.service">Session</a>&nbsp;getSession()</pre>
</li>
</ul>
<a name="getQueryEngine()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getQueryEngine</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine">IQueryPeer</a>&nbsp;getQueryEngine()
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html#getQueryEngine()">IDataService</a></code></strong></div>
<div class="block">Return the <a href="../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine"><code>IQueryPeer</code></a> running on this service.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IDataService.html#getQueryEngine()">getQueryEngine</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service">IDataService</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractResourceManagerTestCase.MockMetadataService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockFederation.html" title="class in com.bigdata.resources"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/resources/AbstractResult.html" title="class in com.bigdata.resources"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html" target="_top">Frames</a></li>
<li><a href="AbstractResourceManagerTestCase.MockMetadataService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
