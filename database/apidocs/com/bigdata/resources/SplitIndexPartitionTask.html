<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Tue Jan 26 02:01:17 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SplitIndexPartitionTask (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)</title>
<meta name="date" content="2016-01-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SplitIndexPartitionTask (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SplitIndexPartitionTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/resources/ScatterSplitTask.html" title="class in com.bigdata.resources"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/resources/SplitIndexPartitionTask.AtomicUpdateSplitIndexPartitionTask.html" title="class in com.bigdata.resources"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/resources/SplitIndexPartitionTask.html" target="_top">Frames</a></li>
<li><a href="SplitIndexPartitionTask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.resources</div>
<h2 title="Class SplitIndexPartitionTask" class="title">Class SplitIndexPartitionTask</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal">com.bigdata.journal.AbstractTask</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/resources/AbstractResourceManagerTask.html" title="class in com.bigdata.resources">com.bigdata.resources.AbstractResourceManagerTask</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/resources/AbstractPrepareTask.html" title="class in com.bigdata.resources">com.bigdata.resources.AbstractPrepareTask</a>&lt;<a href="../../../com/bigdata/resources/AbstractResult.html" title="class in com.bigdata.resources">AbstractResult</a>&gt;</li>
<li>
<ul class="inheritance">
<li>com.bigdata.resources.SplitIndexPartitionTask</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/journal/ITask.html" title="interface in com.bigdata.journal">ITask</a>&lt;<a href="../../../com/bigdata/resources/AbstractResult.html" title="class in com.bigdata.resources">AbstractResult</a>&gt;, <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;<a href="../../../com/bigdata/resources/AbstractResult.html" title="class in com.bigdata.resources">AbstractResult</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">SplitIndexPartitionTask</span>
extends <a href="../../../com/bigdata/resources/AbstractPrepareTask.html" title="class in com.bigdata.resources">AbstractPrepareTask</a>&lt;<a href="../../../com/bigdata/resources/AbstractResult.html" title="class in com.bigdata.resources">AbstractResult</a>&gt;</pre>
<div class="block">Task splits an index partition which is a compact view (no more than one
 journal and one index segment) and should be invoked when the size of the
 index segment on the disk exceeds the nominal size of an index partition. The
 index partition is the result of a compacting merge, which could have been
 created by <a href="../../../com/bigdata/resources/IncrementalBuildTask.html" title="class in com.bigdata.resources"><code>IncrementalBuildTask</code></a> or <a href="../../../com/bigdata/resources/CompactingMergeTask.html" title="class in com.bigdata.resources"><code>CompactingMergeTask</code></a>. The
 index partition is passed into this task because it is not yet part of the
 view. Based on the nominal size of the index partition and the size of the
 segment, N=segSize/nominalSize splits will be generated, requiring N-1
 separator keys.
 <p>
 The task uses the linear list API to identify N-1 separator key which would
 split the index segment and assumes that the data is evenly distributed
 across the keys within the index segment. The buffered writes are ignored
 when determining the separator keys (most data will be on the index segment
 if the journal extent roughly the same as the nominal index segment extent
 and multiple index partitions are registered on the journal). Application
 constraints on the choice of the separator keys will be honored and can
 result in fewer splits being generated.
 <p>
 Once the N-1 split points have been selected, N index segments are built -
 one from each of the N key ranges which those N-1 split points define. Once
 the index segment for each split has been built, an
 <a href="../../../com/bigdata/resources/SplitIndexPartitionTask.AtomicUpdateSplitIndexPartitionTask.html" title="class in com.bigdata.resources"><code>SplitIndexPartitionTask.AtomicUpdateSplitIndexPartitionTask</code></a> will atomically re-define the
 source index partition as N new index partition and copy the buffered writes
 into the appropriate index partition. During the atomic update the original
 index partition becomes un-defined and new index partitions are defined in
 its place which span the same total key range and have the same data.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id: SplitIndexPartitionTask.java 2265 2009-10-26 12:51:06Z
          thompsonbry $</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd>
<dt><span class="strong">See Also:</span></dt><dd><code>AtomicUpdateSplitIndexPartitionTask, which MUST be invoked in order to
      update the index partition definitions on the live journal and the
      {@link MetadataIndex} as an atomic operation.</code></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/SplitIndexPartitionTask.AtomicUpdateSplitIndexPartitionTask.html" title="class in com.bigdata.resources">SplitIndexPartitionTask.AtomicUpdateSplitIndexPartitionTask</a></strong></code>
<div class="block">An <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> operation that splits the live index using the
 same <a href="../../../com/bigdata/service/Split.html" title="class in com.bigdata.service"><code>Split</code></a> points, generating new index partitions with new
 partition identifiers.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_com.bigdata.journal.AbstractTask">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal">AbstractTask</a></h3>
<code><a href="../../../com/bigdata/journal/AbstractTask.DelegateTask.html" title="class in com.bigdata.journal">AbstractTask.DelegateTask</a>&lt;<a href="../../../com/bigdata/journal/AbstractTask.DelegateTask.html" title="type parameter in AbstractTask.DelegateTask">T</a>&gt;, <a href="../../../com/bigdata/journal/AbstractTask.InnerReadWriteTxServiceCallable.html" title="class in com.bigdata.journal">AbstractTask.InnerReadWriteTxServiceCallable</a>&lt;<a href="../../../com/bigdata/journal/AbstractTask.InnerReadWriteTxServiceCallable.html" title="type parameter in AbstractTask.InnerReadWriteTxServiceCallable">T</a>&gt;, <a href="../../../com/bigdata/journal/AbstractTask.InnerWriteServiceCallable.html" title="class in com.bigdata.journal">AbstractTask.InnerWriteServiceCallable</a>&lt;<a href="../../../com/bigdata/journal/AbstractTask.InnerWriteServiceCallable.html" title="type parameter in AbstractTask.InnerWriteServiceCallable">T</a>&gt;, <a href="../../../com/bigdata/journal/AbstractTask.ResubmitException.html" title="class in com.bigdata.journal">AbstractTask.ResubmitException</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/SplitIndexPartitionTask.html#moveTargets">moveTargets</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected com.bigdata.resources.ViewMetadata</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/SplitIndexPartitionTask.html#vmd">vmd</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.resources.AbstractResourceManagerTask">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.resources.<a href="../../../com/bigdata/resources/AbstractResourceManagerTask.html" title="class in com.bigdata.resources">AbstractResourceManagerTask</a></h3>
<code><a href="../../../com/bigdata/resources/AbstractResourceManagerTask.html#DEBUG">DEBUG</a>, <a href="../../../com/bigdata/resources/AbstractResourceManagerTask.html#INFO">INFO</a>, <a href="../../../com/bigdata/resources/AbstractResourceManagerTask.html#log">log</a>, <a href="../../../com/bigdata/resources/AbstractResourceManagerTask.html#resourceManager">resourceManager</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.journal.AbstractTask">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal">AbstractTask</a></h3>
<code><a href="../../../com/bigdata/journal/AbstractTask.html#checkpointNanoTime">checkpointNanoTime</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#concurrencyManager">concurrencyManager</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#isReadWriteTx">isReadWriteTx</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#nanoTime_assignedWorker">nanoTime_assignedWorker</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#nanoTime_beginWork">nanoTime_beginWork</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#nanoTime_finishedWork">nanoTime_finishedWork</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#nanoTime_submitTask">nanoTime_submitTask</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#readOnly">readOnly</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#taskCounters">taskCounters</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#timestamp">timestamp</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#transactionManager">transactionManager</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#tx">tx</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/SplitIndexPartitionTask.html#SplitIndexPartitionTask(com.bigdata.resources.ViewMetadata,%20java.util.UUID)">SplitIndexPartitionTask</a></strong>(com.bigdata.resources.ViewMetadata&nbsp;vmd,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;moveTarget)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/SplitIndexPartitionTask.html#SplitIndexPartitionTask(com.bigdata.resources.ViewMetadata,%20java.util.UUID[])">SplitIndexPartitionTask</a></strong>(com.bigdata.resources.ViewMetadata&nbsp;vmd,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>[]&nbsp;moveTargets)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/SplitIndexPartitionTask.html#clearRefs()">clearRefs</a></strong>()</code>
<div class="block">Method is responsible for clearing the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ref/SoftReference.html?is-external=true" title="class or interface in java.lang.ref"><code>SoftReference</code></a>s held by
 <code>ViewMetadata</code> for the source view(s) on the old journal.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/SplitIndexPartitionTask.html#doSplitAtomicUpdate(com.bigdata.resources.ResourceManager,%20com.bigdata.resources.ViewMetadata,%20com.bigdata.resources.SplitResult,%20com.bigdata.resources.OverflowActionEnum,%20java.util.concurrent.atomic.AtomicLong,%20com.bigdata.service.Event)">doSplitAtomicUpdate</a></strong>(<a href="../../../com/bigdata/resources/ResourceManager.html" title="class in com.bigdata.resources">ResourceManager</a>&nbsp;resourceManager,
                   com.bigdata.resources.ViewMetadata&nbsp;vmd,
                   <a href="../../../com/bigdata/resources/SplitResult.html" title="class in com.bigdata.resources">SplitResult</a>&nbsp;result,
                   <a href="../../../com/bigdata/resources/OverflowActionEnum.html" title="enum in com.bigdata.resources">OverflowActionEnum</a>&nbsp;action,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicLong.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicLong</a>&nbsp;counter,
                   <a href="../../../com/bigdata/service/Event.html" title="class in com.bigdata.service">Event</a>&nbsp;parentEvent)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/resources/AbstractResult.html" title="class in com.bigdata.resources">AbstractResult</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/SplitIndexPartitionTask.html#doTask()">doTask</a></strong>()</code>
<div class="block">Decides how many index partitions should be generated (N) and builds N
 <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a>s from the source index partition.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.resources.AbstractResourceManagerTask">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.resources.<a href="../../../com/bigdata/resources/AbstractResourceManagerTask.html" title="class in com.bigdata.resources">AbstractResourceManagerTask</a></h3>
<code><a href="../../../com/bigdata/resources/AbstractResourceManagerTask.html#toString(java.lang.String,%20java.lang.Object[])">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.AbstractTask">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal">AbstractTask</a></h3>
<code><a href="../../../com/bigdata/journal/AbstractTask.html#assertResource(java.lang.String)">assertResource</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#assertRunning()">assertRunning</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#assertUnisolated()">assertUnisolated</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#call()">call</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#clearLoggingContext()">clearLoggingContext</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#dropIndex(java.lang.String)">dropIndex</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#getCommitTime()">getCommitTime</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#getIndex(java.lang.String)">getIndex</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#getJournal()">getJournal</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#getOnlyResource()">getOnlyResource</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#getResource()">getResource</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#getResourceManager()">getResourceManager</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#getTaskCounters()">getTaskCounters</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#getTaskName()">getTaskName</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#getTimestamp()">getTimestamp</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#isResource(java.lang.String)">isResource</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#registerIndex(java.lang.String,%20com.bigdata.btree.BTree)">registerIndex</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#setupLoggingContext()">setupLoggingContext</a>, <a href="../../../com/bigdata/journal/AbstractTask.html#toString()">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="vmd">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vmd</h4>
<pre>protected final&nbsp;com.bigdata.resources.ViewMetadata vmd</pre>
</li>
</ul>
<a name="moveTargets">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>moveTargets</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>[] moveTargets</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SplitIndexPartitionTask(com.bigdata.resources.ViewMetadata, java.util.UUID)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SplitIndexPartitionTask</h4>
<pre>protected&nbsp;SplitIndexPartitionTask(com.bigdata.resources.ViewMetadata&nbsp;vmd,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;moveTarget)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>vmd</code> - </dd><dd><code>moveTarget</code> - When non-<code>null</code> the new right-sibling (the tail)
            will be moved to the specified data service after the split.</dd></dl>
</li>
</ul>
<a name="SplitIndexPartitionTask(com.bigdata.resources.ViewMetadata, java.util.UUID[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SplitIndexPartitionTask</h4>
<pre>protected&nbsp;SplitIndexPartitionTask(com.bigdata.resources.ViewMetadata&nbsp;vmd,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>[]&nbsp;moveTargets)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>vmd</code> - </dd><dd><code>moveTargets</code> - When non-<code>null</code> the index partitions generated
            by the split will be moved to the identified data services. If
            this data service is included in the array, then an index
            partition will be left on this data service. If the array
            contains a single element, then only the rightSibling of the
            split will be moved.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="clearRefs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearRefs</h4>
<pre>protected&nbsp;void&nbsp;clearRefs()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/resources/AbstractPrepareTask.html#clearRefs()">AbstractPrepareTask</a></code></strong></div>
<div class="block">Method is responsible for clearing the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ref/SoftReference.html?is-external=true" title="class or interface in java.lang.ref"><code>SoftReference</code></a>s held by
 <code>ViewMetadata</code> for the source view(s) on the old journal.
 <p>
 Note: This method MUST be invoked in order to permit those references to
 be cleared more eagerly than the end of the entire asynchronous overflow
 operation (which is when the task references would themselves go out of
 scope and become available for GC).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/resources/AbstractPrepareTask.html#clearRefs()">clearRefs</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/resources/AbstractPrepareTask.html" title="class in com.bigdata.resources">AbstractPrepareTask</a>&lt;<a href="../../../com/bigdata/resources/AbstractResult.html" title="class in com.bigdata.resources">AbstractResult</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="doTask()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doTask</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/resources/AbstractResult.html" title="class in com.bigdata.resources">AbstractResult</a>&nbsp;doTask()
                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Decides how many index partitions should be generated (N) and builds N
 <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a>s from the source index partition. If N will be ONE
 (1) if a detailed inspection of the source index partition reveals that
 it SHOULD NOT be split.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/AbstractTask.html#doTask()">doTask</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal">AbstractTask</a>&lt;<a href="../../../com/bigdata/resources/AbstractResult.html" title="class in com.bigdata.resources">AbstractResult</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>A <a href="../../../com/bigdata/resources/SplitResult.html" title="class in com.bigdata.resources"><code>SplitResult</code></a> if the index partition was split into 2 or
         more index partitions -or- a <a href="../../../com/bigdata/resources/BuildResult.html" title="class in com.bigdata.resources"><code>BuildResult</code></a> iff the index
         partition was not split.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - The exception that will be thrown by <a href="../../../com/bigdata/journal/AbstractTask.html#call()"><code>AbstractTask.call()</code></a> iff the
             operation fails.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - This exception SHOULD be thrown if
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html?is-external=true#interrupted()" title="class or interface in java.lang"><code>Thread.interrupted()</code></a> becomes true during
                execution.</dd></dl>
</li>
</ul>
<a name="doSplitAtomicUpdate(com.bigdata.resources.ResourceManager, com.bigdata.resources.ViewMetadata, com.bigdata.resources.SplitResult, com.bigdata.resources.OverflowActionEnum, java.util.concurrent.atomic.AtomicLong, com.bigdata.service.Event)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>doSplitAtomicUpdate</h4>
<pre>protected static&nbsp;void&nbsp;doSplitAtomicUpdate(<a href="../../../com/bigdata/resources/ResourceManager.html" title="class in com.bigdata.resources">ResourceManager</a>&nbsp;resourceManager,
                       com.bigdata.resources.ViewMetadata&nbsp;vmd,
                       <a href="../../../com/bigdata/resources/SplitResult.html" title="class in com.bigdata.resources">SplitResult</a>&nbsp;result,
                       <a href="../../../com/bigdata/resources/OverflowActionEnum.html" title="enum in com.bigdata.resources">OverflowActionEnum</a>&nbsp;action,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicLong.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicLong</a>&nbsp;counter,
                       <a href="../../../com/bigdata/service/Event.html" title="class in com.bigdata.service">Event</a>&nbsp;parentEvent)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>resourceManager</code> - </dd><dd><code>vmd</code> - </dd><dd><code>splits</code> - </dd><dd><code>result</code> - </dd><dd><code>action</code> - </dd><dd><code>counter</code> - </dd><dd><code>parentEvent</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SplitIndexPartitionTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/resources/ScatterSplitTask.html" title="class in com.bigdata.resources"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/resources/SplitIndexPartitionTask.AtomicUpdateSplitIndexPartitionTask.html" title="class in com.bigdata.resources"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/resources/SplitIndexPartitionTask.html" target="_top">Frames</a></li>
<li><a href="SplitIndexPartitionTask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
