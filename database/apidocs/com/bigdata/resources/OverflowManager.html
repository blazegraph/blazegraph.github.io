<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Fri Apr 08 18:36:17 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>OverflowManager (Blazegraph Database Platform 2.1.0 API)</title>
<meta name="date" content="2016-04-08">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="OverflowManager (Blazegraph Database Platform 2.1.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OverflowManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/resources/OverflowCounters.html" title="class in com.bigdata.resources"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/resources/OverflowManager.IIndexPartitionTaskCounters.html" title="interface in com.bigdata.resources"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/resources/OverflowManager.html" target="_top">Frames</a></li>
<li><a href="OverflowManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.resources</div>
<h2 title="Class OverflowManager" class="title">Class OverflowManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/resources/ResourceEvents.html" title="class in com.bigdata.resources">com.bigdata.resources.ResourceEvents</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/resources/StoreManager.html" title="class in com.bigdata.resources">com.bigdata.resources.StoreManager</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/resources/IndexManager.html" title="class in com.bigdata.resources">com.bigdata.resources.IndexManager</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.resources.OverflowManager</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/journal/IResourceManager.html" title="interface in com.bigdata.journal">IResourceManager</a>, <a href="../../../com/bigdata/service/IServiceShutdown.html" title="interface in com.bigdata.service">IServiceShutdown</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../com/bigdata/resources/ResourceManager.html" title="class in com.bigdata.resources">ResourceManager</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">OverflowManager</span>
extends <a href="../../../com/bigdata/resources/IndexManager.html" title="class in com.bigdata.resources">IndexManager</a></pre>
<div class="block">Class encapsulates logic for handling journal overflow events. Overflow is
 triggered automatically when the user data extent on the journal nears a
 configured threshold. Once the preconditions for overflow are satisfied,
 the <a href="../../../com/bigdata/journal/WriteExecutorService.html" title="class in com.bigdata.journal"><code>WriteExecutorService</code></a>s for the journal are paused and all running
 tasks on those services are allowed to complete and commit. Once no writers
 are running, the <a href="../../../com/bigdata/journal/WriteExecutorService.html" title="class in com.bigdata.journal"><code>WriteExecutorService</code></a> triggers synchronous overflow.
 Synchronous overflow is a low-latency process which creates a new journal to
 absorb future writes, re-defines the views for all index partitions found on
 the old journal to include the new journal as their first source, and
 initiates a background thread performing asynchronous overflow
 post-processing.
 <p>
 Asynchronous overflow post-processing is responsible for identifying index
 partitions overflow (resulting in a split into two or more index partitions),
 index partition underflow (resulting in the join of the under-capacity index
 partition with its rightSibling), index partition moves (the index partition
 is moved to a different <a href="../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a>), and index partition builds (an
 <a href="../../../com/bigdata/btree/IndexSegment.html" title="class in com.bigdata.btree"><code>IndexSegment</code></a> is created from the current view in what is effectively
 a compacting merge). Overflow processing is suspended during asynchronous
 post-processing, but is automatically re-enabled once post-processing
 completes.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.IIndexPartitionTaskCounters.html" title="interface in com.bigdata.resources">OverflowManager.IIndexPartitionTaskCounters</a></strong></code>
<div class="block">Performance counters for the index partition tasks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.IOverflowManagerCounters.html" title="interface in com.bigdata.resources">OverflowManager.IOverflowManagerCounters</a></strong></code>
<div class="block">Performance counters for the <a href="../../../com/bigdata/resources/OverflowManager.html" title="class in com.bigdata.resources"><code>OverflowManager</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.Options.html" title="interface in com.bigdata.resources">OverflowManager.Options</a></strong></code>
<div class="block">Options understood by the <a href="../../../com/bigdata/resources/OverflowManager.html" title="class in com.bigdata.resources"><code>OverflowManager</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.ResourceScores.html" title="class in com.bigdata.resources">OverflowManager.ResourceScores</a></strong></code>
<div class="block">Helper class reports performance counters of interest for this service.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_com.bigdata.resources.IndexManager">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.bigdata.resources.<a href="../../../com/bigdata/resources/IndexManager.html" title="class in com.bigdata.resources">IndexManager</a></h3>
<code><a href="../../../com/bigdata/resources/IndexManager.IIndexManagerCounters.html" title="interface in com.bigdata.resources">IndexManager.IIndexManagerCounters</a>, <a href="../../../com/bigdata/resources/IndexManager.IndexSegmentStats.html" title="class in com.bigdata.resources">IndexManager.IndexSegmentStats</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_com.bigdata.resources.StoreManager">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.bigdata.resources.<a href="../../../com/bigdata/resources/StoreManager.html" title="class in com.bigdata.resources">StoreManager</a></h3>
<code><a href="../../../com/bigdata/resources/StoreManager.IStoreManagerCounters.html" title="interface in com.bigdata.resources">StoreManager.IStoreManagerCounters</a>, <a href="../../../com/bigdata/resources/StoreManager.ManagedJournal.html" title="class in com.bigdata.resources">StoreManager.ManagedJournal</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#accelerateSplitThreshold">accelerateSplitThreshold</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#asyncOverflowEnabled">asyncOverflowEnabled</a></strong></code>
<div class="block">A flag used to disable the asynchronous overflow processing for some unit
 tests.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#buildServiceCorePoolSize">buildServiceCorePoolSize</a></strong></code>
<div class="block">The #of threads which will execute index partition build operations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#compactingMerge">compactingMerge</a></strong></code>
<div class="block">A flag that may be set to force the next asynchronous overflow to perform
 a compacting merge for all indices that are not simply copied over to the
 new journal (<strong>the use of this flag significantly raises the time
 required for asynchronous overflow processing as all shard views must be
 made compact and SHOULD NOT be used for deployed federations</strong>).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#compactingMergeWithAfterAction">compactingMergeWithAfterAction</a></strong></code>
<div class="block">FIXME This is a temporary flag used to (dis|en)able the logic for
 executing various index partition operations as after actions for a
 compacting merge.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#copyIndexThreshold">copyIndexThreshold</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#forceOverflow">forceOverflow</a></strong></code>
<div class="block">Flag may be set to force overflow processing during the next group
 commit.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#joinsEnabled">joinsEnabled</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#log">log</a></strong></code>
<div class="block">Logger.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#maximumBuildSegmentBytes">maximumBuildSegmentBytes</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#maximumJournalsPerView">maximumJournalsPerView</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>merges are now performed in priority order while time remains
             in a given asynchronous overflow cycle.</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#maximumMovePercentOfSplit">maximumMovePercentOfSplit</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#maximumMoves">maximumMoves</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>Moves are now decided on a case by case basis. An alternative
             parameter might be introduced in the future to restrict the
             rate at which a DS can shed shards by moving them to other
             nodes.</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#maximumMovesPerTarget">maximumMovesPerTarget</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>Moves are now decided on a case by case basis. An alternative
             parameter might be introduced in the future to restrict the
             rate at which a DS can shed shards by moving them to other
             nodes.
             <p>
             Note: This is also used to disable moves by some of the unit
             tests so we need a way to replace that functionality before
             this can be taken out.</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#maximumOptionalMergesPerOverflow">maximumOptionalMergesPerOverflow</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>merges are now performed in priority order while time remains
             in a given asynchronous overflow cycle.</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#maximumSegmentsPerView">maximumSegmentsPerView</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>merges are now performed in priority order while time remains
             in a given asynchronous overflow cycle.</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#mergeServiceCorePoolSize">mergeServiceCorePoolSize</a></strong></code>
<div class="block">The #of threads which will execute index partition merge operations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#minimumActiveIndexPartitions">minimumActiveIndexPartitions</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#movePercentCpuTimeThreshold">movePercentCpuTimeThreshold</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#nominalShardSize">nominalShardSize</a></strong></code>
<div class="block">Index partitions are split when they approach this size on the disk.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#overflowAllowed">overflowAllowed</a></strong></code>
<div class="block">A flag used to disable overflow of the live journal until asynchronous
 post-processing of the old journal has been completed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#overflowCancelledWhenJournalFull">overflowCancelledWhenJournalFull</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/resources/OverflowCounters.html" title="class in com.bigdata.resources">OverflowCounters</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#overflowCounters">overflowCounters</a></strong></code>
<div class="block">The "live" overflow counters which are maintained by the service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#overflowTasksConcurrent">overflowTasksConcurrent</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>by <a href="../../../com/bigdata/resources/OverflowManager.html#mergeServiceCorePoolSize"><code>mergeServiceCorePoolSize</code></a> and
             <a href="../../../com/bigdata/resources/OverflowManager.html#buildServiceCorePoolSize"><code>buildServiceCorePoolSize</code></a></i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#overflowThreshold">overflowThreshold</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#overflowTimeout">overflowTimeout</a></strong></code>
<div class="block">The timeout for asynchronous overflow processing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#percentOfJoinThreshold">percentOfJoinThreshold</a></strong></code>
<div class="block">FIXME configuration option.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#percentOfSplitThreshold">percentOfSplitThreshold</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#scatterSplitEnabled">scatterSplitEnabled</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#serviceName">serviceName</a></strong></code>
<div class="block">The name of the service (iff available).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#shardOverextensionLimit">shardOverextensionLimit</a></strong></code>
<div class="block">If an index partition refuses to split it will be disabled once its size
 on disk (for a compact view) is greater than this multiplier.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#tailSplitThreshold">tailSplitThreshold</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.resources.IndexManager">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.resources.<a href="../../../com/bigdata/resources/IndexManager.html" title="class in com.bigdata.resources">IndexManager</a></h3>
<code><a href="../../../com/bigdata/resources/IndexManager.html#buildTasks">buildTasks</a>, <a href="../../../com/bigdata/resources/IndexManager.html#concurrentBuildTaskCount">concurrentBuildTaskCount</a>, <a href="../../../com/bigdata/resources/IndexManager.html#concurrentMergeTaskCount">concurrentMergeTaskCount</a>, <a href="../../../com/bigdata/resources/IndexManager.html#staleLocatorCache">staleLocatorCache</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.resources.StoreManager">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.resources.<a href="../../../com/bigdata/resources/StoreManager.html" title="class in com.bigdata.resources">StoreManager</a></h3>
<code><a href="../../../com/bigdata/resources/StoreManager.html#accelerateOverflowThreshold">accelerateOverflowThreshold</a>, <a href="../../../com/bigdata/resources/StoreManager.html#bytesDeleted">bytesDeleted</a>, <a href="../../../com/bigdata/resources/StoreManager.html#bytesUnderManagement">bytesUnderManagement</a>, <a href="../../../com/bigdata/resources/StoreManager.html#dataDir">dataDir</a>, <a href="../../../com/bigdata/resources/StoreManager.html#indexCacheLock">indexCacheLock</a>, <a href="../../../com/bigdata/resources/StoreManager.html#journalBytesUnderManagement">journalBytesUnderManagement</a>, <a href="../../../com/bigdata/resources/StoreManager.html#journalDeleteCount">journalDeleteCount</a>, <a href="../../../com/bigdata/resources/StoreManager.html#journalReopenCount">journalReopenCount</a>, <a href="../../../com/bigdata/resources/StoreManager.html#journalsDir">journalsDir</a>, <a href="../../../com/bigdata/resources/StoreManager.html#lastCommitTimePreserved">lastCommitTimePreserved</a>, <a href="../../../com/bigdata/resources/StoreManager.html#lastOverflowTime">lastOverflowTime</a>, <a href="../../../com/bigdata/resources/StoreManager.html#liveJournalRef">liveJournalRef</a>, <a href="../../../com/bigdata/resources/StoreManager.html#maximumJournalSizeAtOverflow">maximumJournalSizeAtOverflow</a>, <a href="../../../com/bigdata/resources/StoreManager.html#purgeResourcesMillis">purgeResourcesMillis</a>, <a href="../../../com/bigdata/resources/StoreManager.html#segmentBytesUnderManagement">segmentBytesUnderManagement</a>, <a href="../../../com/bigdata/resources/StoreManager.html#segmentsDir">segmentsDir</a>, <a href="../../../com/bigdata/resources/StoreManager.html#segmentStoreDeleteCount">segmentStoreDeleteCount</a>, <a href="../../../com/bigdata/resources/StoreManager.html#segmentStoreReopenCount">segmentStoreReopenCount</a>, <a href="../../../com/bigdata/resources/StoreManager.html#storeCache">storeCache</a>, <a href="../../../com/bigdata/resources/StoreManager.html#tmpDir">tmpDir</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#OverflowManager(java.util.Properties)">OverflowManager</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/resources/OverflowMetadata.html" title="class in com.bigdata.resources">OverflowMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#doSynchronousOverflow()">doSynchronousOverflow</a></strong>()</code>
<div class="block">Synchronous overflow processing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#getAsynchronousOverflowCount()">getAsynchronousOverflowCount</a></strong>()</code>
<div class="block">#of asynchronous overflows that have taken place.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#getHostCounter(java.lang.String,%20double)">getHostCounter</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
              double&nbsp;defaultValue)</code>
<div class="block">Return the value of a host counter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/resources/OverflowCounters.html" title="class in com.bigdata.resources">OverflowCounters</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#getOverflowCounters()">getOverflowCounters</a></strong>()</code>
<div class="block">Return a copy of the <a href="../../../com/bigdata/resources/OverflowCounters.html" title="class in com.bigdata.resources"><code>OverflowCounters</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#getServiceCounter(java.lang.String,%20double)">getServiceCounter</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                 double&nbsp;defaultValue)</code>
<div class="block">Return the value of a service counter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#getSynchronousOverflowCount()">getSynchronousOverflowCount</a></strong>()</code>
<div class="block">#of synchronous overflows that have taken place.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#isOverflowAllowed()">isOverflowAllowed</a></strong>()</code>
<div class="block"><code>true</code> unless an overflow event is currently being
 processed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#isOverflowEnabled()">isOverflowEnabled</a></strong>()</code>
<div class="block"><code>true</code> if overflow processing is enabled and
 <code>false</code> if overflow processing was disabled as a
 configuration option or if a maximum overflow count was configured and
 has been satisfied, in which case the live journal will NOT overflow.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#overflow()">overflow</a></strong>()</code>
<div class="block">Core method for overflow with post-processing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#shouldOverflow()">shouldOverflow</a></strong>()</code>
<div class="block">An overflow condition is recognized when the journal is within some
 declared percentage of <a href="../../../com/bigdata/journal/Options.html#MAXIMUM_EXTENT"><code>Options.MAXIMUM_EXTENT</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#shutdown()">shutdown</a></strong>()</code>
<div class="block">The service will no longer accept new requests, but existing requests
 will be processed (sychronous).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/resources/OverflowManager.html#shutdownNow()">shutdownNow</a></strong>()</code>
<div class="block">The service will no longer accept new requests and will make a best
 effort attempt to terminate all existing requests and return ASAP.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.resources.IndexManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.resources.<a href="../../../com/bigdata/resources/IndexManager.html" title="class in com.bigdata.resources">IndexManager</a></h3>
<code><a href="../../../com/bigdata/resources/IndexManager.html#buildIndexSegment(java.lang.String,%20com.bigdata.btree.ILocalBTreeView,%20boolean,%20long,%20byte[],%20byte[],%20com.bigdata.service.Event)">buildIndexSegment</a>, <a href="../../../com/bigdata/resources/IndexManager.html#disableWrites(java.lang.String)">disableWrites</a>, <a href="../../../com/bigdata/resources/IndexManager.html#enableWrites(java.lang.String)">enableWrites</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndex(java.lang.String,%20long)">getIndex</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndexCacheCapacity()">getIndexCacheCapacity</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndexCacheSize()">getIndexCacheSize</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndexCounters()">getIndexCounters</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndexCounters(java.lang.String)">getIndexCounters</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndexOnStore(java.lang.String,%20long,%20com.bigdata.rawstore.IRawStore)">getIndexOnStore</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndexPartitionGone(java.lang.String)">getIndexPartitionGone</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndexRetentionTime()">getIndexRetentionTime</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndexSegmentCacheCapacity()">getIndexSegmentCacheCapacity</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndexSegmentCacheSize()">getIndexSegmentCacheSize</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndexSources(java.lang.String,%20long)">getIndexSources</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getIndexSources(java.lang.String,%20long,%20com.bigdata.btree.BTree)">getIndexSources</a>, <a href="../../../com/bigdata/resources/IndexManager.html#getStaleLocatorCount()">getStaleLocatorCount</a>, <a href="../../../com/bigdata/resources/IndexManager.html#isDisabledWrites(java.lang.String)">isDisabledWrites</a>, <a href="../../../com/bigdata/resources/IndexManager.html#listIndexPartitions(long)">listIndexPartitions</a>, <a href="../../../com/bigdata/resources/IndexManager.html#markAndGetDelta()">markAndGetDelta</a>, <a href="../../../com/bigdata/resources/IndexManager.html#setIndexPartitionGone(java.lang.String,%20com.bigdata.resources.StaleLocatorReason)">setIndexPartitionGone</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.resources.StoreManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.resources.<a href="../../../com/bigdata/resources/StoreManager.html" title="class in com.bigdata.resources">StoreManager</a></h3>
<code><a href="../../../com/bigdata/resources/StoreManager.html#addResource(com.bigdata.mdi.IResourceMetadata,%20java.io.File)">addResource</a>, <a href="../../../com/bigdata/resources/StoreManager.html#assertNotOpen()">assertNotOpen</a>, <a href="../../../com/bigdata/resources/StoreManager.html#assertOpen()">assertOpen</a>, <a href="../../../com/bigdata/resources/StoreManager.html#assertRunning()">assertRunning</a>, <a href="../../../com/bigdata/resources/StoreManager.html#awaitRunning()">awaitRunning</a>, <a href="../../../com/bigdata/resources/StoreManager.html#deleteResource(java.util.UUID,%20boolean)">deleteResource</a>, <a href="../../../com/bigdata/resources/StoreManager.html#deleteResources()">deleteResources</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getBytesUnderManagement()">getBytesUnderManagement</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getCommitTimeStrictlyGreaterThan(long)">getCommitTimeStrictlyGreaterThan</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getConcurrencyManager()">getConcurrencyManager</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getDataDir()">getDataDir</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getDataDirFreeSpace()">getDataDirFreeSpace</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getIndexSegmentFile(com.bigdata.btree.IndexMetadata)">getIndexSegmentFile</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getIndexSegmentFile(java.lang.String,%20java.util.UUID,%20int)">getIndexSegmentFile</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getJournal(long)">getJournal</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getJournalBytesUnderManagement()">getJournalBytesUnderManagement</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getLiveJournal()">getLiveJournal</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getManagedJournalCount()">getManagedJournalCount</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getManagedSegmentCount()">getManagedSegmentCount</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getProperties()">getProperties</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getReleaseTime()">getReleaseTime</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getResourceService()">getResourceService</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getResourcesForTimestamp(long)">getResourcesForTimestamp</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getSegmentBytesUnderManagement()">getSegmentBytesUnderManagement</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getStoreCacheSize()">getStoreCacheSize</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getStoreCounters()">getStoreCounters</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getTempDirFreeSpace()">getTempDirFreeSpace</a>, <a href="../../../com/bigdata/resources/StoreManager.html#getTmpDir()">getTmpDir</a>, <a href="../../../com/bigdata/resources/StoreManager.html#isOpen()">isOpen</a>, <a href="../../../com/bigdata/resources/StoreManager.html#isRunning()">isRunning</a>, <a href="../../../com/bigdata/resources/StoreManager.html#isStarting()">isStarting</a>, <a href="../../../com/bigdata/resources/StoreManager.html#isTransient()">isTransient</a>, <a href="../../../com/bigdata/resources/StoreManager.html#munge(java.lang.String)">munge</a>, <a href="../../../com/bigdata/resources/StoreManager.html#newFileFilter()">newFileFilter</a>, <a href="../../../com/bigdata/resources/StoreManager.html#nextTimestamp()">nextTimestamp</a>, <a href="../../../com/bigdata/resources/StoreManager.html#openStore(java.util.UUID)">openStore</a>, <a href="../../../com/bigdata/resources/StoreManager.html#overrideJournalExtent(java.util.Properties)">overrideJournalExtent</a>, <a href="../../../com/bigdata/resources/StoreManager.html#purgeOldResources()">purgeOldResources</a>, <a href="../../../com/bigdata/resources/StoreManager.html#purgeOldResources(long,%20boolean)">purgeOldResources</a>, <a href="../../../com/bigdata/resources/StoreManager.html#retentionSetAdd(java.util.UUID)">retentionSetAdd</a>, <a href="../../../com/bigdata/resources/StoreManager.html#retentionSetRemove(java.util.UUID)">retentionSetRemove</a>, <a href="../../../com/bigdata/resources/StoreManager.html#setConcurrencyManager(com.bigdata.journal.IConcurrencyManager)">setConcurrencyManager</a>, <a href="../../../com/bigdata/resources/StoreManager.html#setReleaseTime(long)">setReleaseTime</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.resources.ResourceEvents">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.resources.<a href="../../../com/bigdata/resources/ResourceEvents.html" title="class in com.bigdata.resources">ResourceEvents</a></h3>
<code><a href="../../../com/bigdata/resources/ResourceEvents.html#closeJournal(java.lang.String)">closeJournal</a>, <a href="../../../com/bigdata/resources/ResourceEvents.html#closeTx(long,%20long,%20boolean)">closeTx</a>, <a href="../../../com/bigdata/resources/ResourceEvents.html#closeUnisolatedIndex(java.lang.String)">closeUnisolatedIndex</a>, <a href="../../../com/bigdata/resources/ResourceEvents.html#deleteJournal(java.lang.String)">deleteJournal</a>, <a href="../../../com/bigdata/resources/ResourceEvents.html#dropUnisolatedIndex(java.lang.String)">dropUnisolatedIndex</a>, <a href="../../../com/bigdata/resources/ResourceEvents.html#extendJournal(java.lang.String,%20long)">extendJournal</a>, <a href="../../../com/bigdata/resources/ResourceEvents.html#isolateIndex(long,%20java.lang.String)">isolateIndex</a>, <a href="../../../com/bigdata/resources/ResourceEvents.html#openJournal(java.lang.String,%20long,%20com.bigdata.journal.BufferMode)">openJournal</a>, <a href="../../../com/bigdata/resources/ResourceEvents.html#openTx(long)">openTx</a>, <a href="../../../com/bigdata/resources/ResourceEvents.html#openUnisolatedIndex(java.lang.String)">openUnisolatedIndex</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.IResourceManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/IResourceManager.html" title="interface in com.bigdata.journal">IResourceManager</a></h3>
<code><a href="../../../com/bigdata/journal/IResourceManager.html#getCounters()">getCounters</a>, <a href="../../../com/bigdata/journal/IResourceManager.html#getDataService()">getDataService</a>, <a href="../../../com/bigdata/journal/IResourceManager.html#getDataServiceUUID()">getDataServiceUUID</a>, <a href="../../../com/bigdata/journal/IResourceManager.html#getFederation()">getFederation</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre>protected static final&nbsp;org.apache.log4j.Logger log</pre>
<div class="block">Logger.</div>
</li>
</ul>
<a name="compactingMergeWithAfterAction">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compactingMergeWithAfterAction</h4>
<pre>protected final&nbsp;boolean compactingMergeWithAfterAction</pre>
<div class="block">FIXME This is a temporary flag used to (dis|en)able the logic for
 executing various index partition operations as after actions for a
 compacting merge.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.resources.OverflowManager.compactingMergeWithAfterAction">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="copyIndexThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyIndexThreshold</h4>
<pre>protected final&nbsp;int copyIndexThreshold</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#COPY_INDEX_THRESHOLD"><code>OverflowManager.Options.COPY_INDEX_THRESHOLD</code></a></dd></dl>
</li>
</ul>
<a name="accelerateSplitThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accelerateSplitThreshold</h4>
<pre>protected final&nbsp;int accelerateSplitThreshold</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#ACCELERATE_SPLIT_THRESHOLD"><code>OverflowManager.Options.ACCELERATE_SPLIT_THRESHOLD</code></a></dd></dl>
</li>
</ul>
<a name="percentOfSplitThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>percentOfSplitThreshold</h4>
<pre>protected final&nbsp;double percentOfSplitThreshold</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#PERCENT_OF_SPLIT_THRESHOLD"><code>OverflowManager.Options.PERCENT_OF_SPLIT_THRESHOLD</code></a></dd></dl>
</li>
</ul>
<a name="percentOfJoinThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>percentOfJoinThreshold</h4>
<pre>protected final&nbsp;double percentOfJoinThreshold</pre>
<div class="block">FIXME configuration option.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.resources.OverflowManager.percentOfJoinThreshold">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="tailSplitThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tailSplitThreshold</h4>
<pre>protected final&nbsp;double tailSplitThreshold</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#TAIL_SPLIT_THRESHOLD"><code>OverflowManager.Options.TAIL_SPLIT_THRESHOLD</code></a></dd></dl>
</li>
</ul>
<a name="scatterSplitEnabled">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scatterSplitEnabled</h4>
<pre>protected final&nbsp;boolean scatterSplitEnabled</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#SCATTER_SPLIT_ENABLED"><code>OverflowManager.Options.SCATTER_SPLIT_ENABLED</code></a></dd></dl>
</li>
</ul>
<a name="joinsEnabled">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinsEnabled</h4>
<pre>protected final&nbsp;boolean joinsEnabled</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#JOINS_ENABLED"><code>OverflowManager.Options.JOINS_ENABLED</code></a></dd></dl>
</li>
</ul>
<a name="minimumActiveIndexPartitions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>minimumActiveIndexPartitions</h4>
<pre>protected final&nbsp;int minimumActiveIndexPartitions</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#MINIMUM_ACTIVE_INDEX_PARTITIONS"><code>OverflowManager.Options.MINIMUM_ACTIVE_INDEX_PARTITIONS</code></a></dd></dl>
</li>
</ul>
<a name="maximumMoves">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumMoves</h4>
<pre>protected final&nbsp;int maximumMoves</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>Moves are now decided on a case by case basis. An alternative
             parameter might be introduced in the future to restrict the
             rate at which a DS can shed shards by moving them to other
             nodes.</i></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#MAXIMUM_MOVES"><code>OverflowManager.Options.MAXIMUM_MOVES</code></a></dd></dl>
</li>
</ul>
<a name="maximumMovesPerTarget">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumMovesPerTarget</h4>
<pre>protected final&nbsp;int maximumMovesPerTarget</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>Moves are now decided on a case by case basis. An alternative
             parameter might be introduced in the future to restrict the
             rate at which a DS can shed shards by moving them to other
             nodes.
             <p>
             Note: This is also used to disable moves by some of the unit
             tests so we need a way to replace that functionality before
             this can be taken out.</i></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#MAXIMUM_MOVES_PER_TARGET"><code>OverflowManager.Options.MAXIMUM_MOVES_PER_TARGET</code></a></dd></dl>
</li>
</ul>
<a name="maximumMovePercentOfSplit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumMovePercentOfSplit</h4>
<pre>protected final&nbsp;double maximumMovePercentOfSplit</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#MAXIMUM_MOVE_PERCENT_OF_SPLIT"><code>OverflowManager.Options.MAXIMUM_MOVE_PERCENT_OF_SPLIT</code></a></dd></dl>
</li>
</ul>
<a name="movePercentCpuTimeThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>movePercentCpuTimeThreshold</h4>
<pre>protected final&nbsp;double movePercentCpuTimeThreshold</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#MOVE_PERCENT_CPU_TIME_THRESHOLD"><code>OverflowManager.Options.MOVE_PERCENT_CPU_TIME_THRESHOLD</code></a></dd></dl>
</li>
</ul>
<a name="maximumOptionalMergesPerOverflow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumOptionalMergesPerOverflow</h4>
<pre>protected final&nbsp;int maximumOptionalMergesPerOverflow</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>merges are now performed in priority order while time remains
             in a given asynchronous overflow cycle.</i></div>
<div class="block">The maximum #of optional compacting merge operations that will be
 performed during a single overflow event.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#MAXIMUM_OPTIONAL_MERGES_PER_OVERFLOW"><code>OverflowManager.Options.MAXIMUM_OPTIONAL_MERGES_PER_OVERFLOW</code></a></dd></dl>
</li>
</ul>
<a name="maximumJournalsPerView">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumJournalsPerView</h4>
<pre>protected final&nbsp;int maximumJournalsPerView</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>merges are now performed in priority order while time remains
             in a given asynchronous overflow cycle.</i></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#MAXIMUM_JOURNALS_PER_VIEW"><code>OverflowManager.Options.MAXIMUM_JOURNALS_PER_VIEW</code></a></dd></dl>
</li>
</ul>
<a name="maximumSegmentsPerView">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumSegmentsPerView</h4>
<pre>protected final&nbsp;int maximumSegmentsPerView</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>merges are now performed in priority order while time remains
             in a given asynchronous overflow cycle.</i></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#MAXIMUM_SEGMENTS_PER_VIEW"><code>OverflowManager.Options.MAXIMUM_SEGMENTS_PER_VIEW</code></a></dd></dl>
</li>
</ul>
<a name="maximumBuildSegmentBytes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumBuildSegmentBytes</h4>
<pre>protected final&nbsp;long maximumBuildSegmentBytes</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#MAXIMUM_BUILD_SEGMENT_BYTES"><code>OverflowManager.Options.MAXIMUM_BUILD_SEGMENT_BYTES</code></a></dd></dl>
</li>
</ul>
<a name="buildServiceCorePoolSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildServiceCorePoolSize</h4>
<pre>protected final&nbsp;int buildServiceCorePoolSize</pre>
<div class="block">The #of threads which will execute index partition build operations.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#BUILD_SERVICE_CORE_POOL_SIZE"><code>OverflowManager.Options.BUILD_SERVICE_CORE_POOL_SIZE</code></a></dd></dl>
</li>
</ul>
<a name="mergeServiceCorePoolSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeServiceCorePoolSize</h4>
<pre>protected final&nbsp;int mergeServiceCorePoolSize</pre>
<div class="block">The #of threads which will execute index partition merge operations.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#MERGE_SERVICE_CORE_POOL_SIZE"><code>OverflowManager.Options.MERGE_SERVICE_CORE_POOL_SIZE</code></a></dd></dl>
</li>
</ul>
<a name="serviceName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serviceName</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> serviceName</pre>
<div class="block">The name of the service (iff available). This is used to help label
 thread pools and the like.</div>
</li>
</ul>
<a name="overflowThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overflowThreshold</h4>
<pre>protected final&nbsp;double overflowThreshold</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#OVERFLOW_THRESHOLD"><code>OverflowManager.Options.OVERFLOW_THRESHOLD</code></a></dd></dl>
</li>
</ul>
<a name="overflowAllowed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overflowAllowed</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a> overflowAllowed</pre>
<div class="block">A flag used to disable overflow of the live journal until asynchronous
 post-processing of the old journal has been completed.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/AsynchronousOverflowTask.html" title="class in com.bigdata.resources"><code>AsynchronousOverflowTask</code></a></dd></dl>
</li>
</ul>
<a name="asyncOverflowEnabled">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncOverflowEnabled</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a> asyncOverflowEnabled</pre>
<div class="block">A flag used to disable the asynchronous overflow processing for some unit
 tests.</div>
</li>
</ul>
<a name="forceOverflow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceOverflow</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a> forceOverflow</pre>
<div class="block">Flag may be set to force overflow processing during the next group
 commit. The flag is cleared by <a href="../../../com/bigdata/resources/OverflowManager.html#overflow()"><code>overflow()</code></a>.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/service/DataService.html#forceOverflow(boolean,%20boolean)"><code>DataService.forceOverflow(boolean, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="compactingMerge">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compactingMerge</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a> compactingMerge</pre>
<div class="block">A flag that may be set to force the next asynchronous overflow to perform
 a compacting merge for all indices that are not simply copied over to the
 new journal (<strong>the use of this flag significantly raises the time
 required for asynchronous overflow processing as all shard views must be
 made compact and SHOULD NOT be used for deployed federations</strong>).
 The state of the flag is cleared each time asynchronous overflow
 processing begins.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/service/DataService.html#forceOverflow(boolean,%20boolean)"><code>DataService.forceOverflow(boolean, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="overflowCounters">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overflowCounters</h4>
<pre>protected final&nbsp;<a href="../../../com/bigdata/resources/OverflowCounters.html" title="class in com.bigdata.resources">OverflowCounters</a> overflowCounters</pre>
<div class="block">The "live" overflow counters which are maintained by the service.</div>
</li>
</ul>
<a name="overflowTimeout">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overflowTimeout</h4>
<pre>protected final&nbsp;long overflowTimeout</pre>
<div class="block">The timeout for asynchronous overflow processing.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#OVERFLOW_TIMEOUT"><code>OverflowManager.Options.OVERFLOW_TIMEOUT</code></a></dd></dl>
</li>
</ul>
<a name="overflowTasksConcurrent">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overflowTasksConcurrent</h4>
<pre>protected final&nbsp;int overflowTasksConcurrent</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>by <a href="../../../com/bigdata/resources/OverflowManager.html#mergeServiceCorePoolSize"><code>mergeServiceCorePoolSize</code></a> and
             <a href="../../../com/bigdata/resources/OverflowManager.html#buildServiceCorePoolSize"><code>buildServiceCorePoolSize</code></a></i></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#OVERFLOW_TASKS_CONCURRENT"><code>OverflowManager.Options.OVERFLOW_TASKS_CONCURRENT</code></a></dd></dl>
</li>
</ul>
<a name="overflowCancelledWhenJournalFull">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overflowCancelledWhenJournalFull</h4>
<pre>protected final&nbsp;boolean overflowCancelledWhenJournalFull</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#OVERFLOW_CANCELLED_WHEN_JOURNAL_FULL"><code>OverflowManager.Options.OVERFLOW_CANCELLED_WHEN_JOURNAL_FULL</code></a></dd></dl>
</li>
</ul>
<a name="nominalShardSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nominalShardSize</h4>
<pre>public final&nbsp;long nominalShardSize</pre>
<div class="block">Index partitions are split when they approach this size on the disk.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#NOMINAL_SHARD_SIZE"><code>OverflowManager.Options.NOMINAL_SHARD_SIZE</code></a></dd></dl>
</li>
</ul>
<a name="shardOverextensionLimit">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shardOverextensionLimit</h4>
<pre>public final&nbsp;double shardOverextensionLimit</pre>
<div class="block">If an index partition refuses to split it will be disabled once its size
 on disk (for a compact view) is greater than this multiplier. The most
 common cause for this is a bad <a href="../../../com/bigdata/btree/ISimpleSplitHandler.html" title="interface in com.bigdata.btree"><code>ISimpleSplitHandler</code></a> implementation
 provided by the application when it registered the index. By disallowing
 further writes on the shard we prevent it from dragging down performance
 for the entire data service and push the problem back on the application.
 In order to remedy this issue on a pre-existing index you must fix the
 split handler, register the new split handler on the MDS and on each
 shard on the index, and then re-enable writes for the index.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.resources.OverflowManager.shardOverextensionLimit">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="OverflowManager(java.util.Properties)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OverflowManager</h4>
<pre>public&nbsp;OverflowManager(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>properties</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getOverflowCounters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOverflowCounters</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/resources/OverflowCounters.html" title="class in com.bigdata.resources">OverflowCounters</a>&nbsp;getOverflowCounters()</pre>
<div class="block">Return a copy of the <a href="../../../com/bigdata/resources/OverflowCounters.html" title="class in com.bigdata.resources"><code>OverflowCounters</code></a>.</div>
</li>
</ul>
<a name="getSynchronousOverflowCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSynchronousOverflowCount</h4>
<pre>public&nbsp;long&nbsp;getSynchronousOverflowCount()</pre>
<div class="block">#of synchronous overflows that have taken place. This counter is
 incremented each time the synchronous overflow operation.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.html#getOverflowCounters()"><code>getOverflowCounters()</code></a></dd></dl>
</li>
</ul>
<a name="getAsynchronousOverflowCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAsynchronousOverflowCount</h4>
<pre>public&nbsp;long&nbsp;getAsynchronousOverflowCount()</pre>
<div class="block">#of asynchronous overflows that have taken place. This counter is
 incremented each time the entire overflow operation is complete,
 including any post-processing of the old journal.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.html#getOverflowCounters()"><code>getOverflowCounters()</code></a></dd></dl>
</li>
</ul>
<a name="isOverflowEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOverflowEnabled</h4>
<pre>public&nbsp;boolean&nbsp;isOverflowEnabled()</pre>
<div class="block"><code>true</code> if overflow processing is enabled and
 <code>false</code> if overflow processing was disabled as a
 configuration option or if a maximum overflow count was configured and
 has been satisfied, in which case the live journal will NOT overflow.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/resources/OverflowManager.Options.html#OVERFLOW_ENABLED"><code>OverflowManager.Options.OVERFLOW_ENABLED</code></a>, 
<a href="../../../com/bigdata/resources/OverflowManager.Options.html#OVERFLOW_MAX_COUNT"><code>OverflowManager.Options.OVERFLOW_MAX_COUNT</code></a></dd></dl>
</li>
</ul>
<a name="isOverflowAllowed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOverflowAllowed</h4>
<pre>public&nbsp;boolean&nbsp;isOverflowAllowed()</pre>
<div class="block"><code>true</code> unless an overflow event is currently being
 processed.</div>
</li>
</ul>
<a name="shutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IServiceShutdown.html#shutdown()">IServiceShutdown</a></code></strong></div>
<div class="block">The service will no longer accept new requests, but existing requests
 will be processed (sychronous). This method should await the termination
 of pending requests, but no longer than the timeout specified by
 <a href="../../../com/bigdata/service/IServiceShutdown.Options.html#SHUTDOWN_TIMEOUT"><code>IServiceShutdown.Options.SHUTDOWN_TIMEOUT</code></a>. Implementations SHOULD be
 <strong>synchronized</strong>.  If the service is aleady shutdown, then
 this method should be a NOP.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IServiceShutdown.html#shutdown()">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IServiceShutdown.html" title="interface in com.bigdata.service">IServiceShutdown</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/resources/StoreManager.html#shutdown()">shutdown</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/resources/StoreManager.html" title="class in com.bigdata.resources">StoreManager</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdownNow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownNow</h4>
<pre>public&nbsp;void&nbsp;shutdownNow()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IServiceShutdown.html#shutdownNow()">IServiceShutdown</a></code></strong></div>
<div class="block">The service will no longer accept new requests and will make a best
 effort attempt to terminate all existing requests and return ASAP. This
 method should terminate any asynchronous processing, release all
 resources and return immediately. Implementations SHOULD be
 <strong>synchronized</strong>. If the service is aleady shutdown, then
 this method should be a NOP.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IServiceShutdown.html#shutdownNow()">shutdownNow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IServiceShutdown.html" title="interface in com.bigdata.service">IServiceShutdown</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/resources/StoreManager.html#shutdownNow()">shutdownNow</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/resources/StoreManager.html" title="class in com.bigdata.resources">StoreManager</a></code></dd>
</dl>
</li>
</ul>
<a name="shouldOverflow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldOverflow</h4>
<pre>public&nbsp;boolean&nbsp;shouldOverflow()</pre>
<div class="block">An overflow condition is recognized when the journal is within some
 declared percentage of <a href="../../../com/bigdata/journal/Options.html#MAXIMUM_EXTENT"><code>Options.MAXIMUM_EXTENT</code></a>. However, this
 method will return <code>false</code> if overflow has been disabled
 or if there is an asynchronous overflow operation in progress.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if overflow processing should occur.</dd></dl>
</li>
</ul>
<a name="overflow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overflow</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;overflow()</pre>
<div class="block">Core method for overflow with post-processing.
 <p>
 Note: This method does not test preconditions based on the extent of the
 journal.
 <p>
 Note: The caller is responsible for ensuring that this method is invoked
 with an exclusive lock on the write service.
 <p>
 Preconditions:
 <ol>
 <li>Exclusive lock on the <a href="../../../com/bigdata/journal/WriteExecutorService.html" title="class in com.bigdata.journal"><code>WriteExecutorService</code></a></li>
 <li><a href="../../../com/bigdata/resources/OverflowManager.html#isOverflowAllowed()"><code>isOverflowAllowed()</code></a></li>
 </ol>
 <p>
 Post-conditions:
 <ol>
 <li>Overflowed onto new journal</li>
 <li><code>PostProcessOldJournal</code> task was submitted.</li>
 <li><a href="../../../com/bigdata/resources/OverflowManager.html#isOverflowAllowed()"><code>isOverflowAllowed()</code></a> was set <code>false</code> and will
 remain <code>false</code> until <code>PostProcessOldJournal</code></li>
 </ol></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> for the task handling post-processing of the
         old journal.</dd></dl>
</li>
</ul>
<a name="doSynchronousOverflow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSynchronousOverflow</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/resources/OverflowMetadata.html" title="class in com.bigdata.resources">OverflowMetadata</a>&nbsp;doSynchronousOverflow()</pre>
<div class="block">Synchronous overflow processing.
 <p>
 This is invoked once all preconditions have been satisfied.
 <p>
 Index partitions that have fewer than some threshold #of index entries
 will be copied onto the new journal. Otherwise the view of the index will
 be re-defined to place writes on the new journal and read historical data
 from the old journal.
 <p>
 This uses <a href="../../../com/bigdata/resources/StoreManager.html#purgeOldResources()"><code>StoreManager.purgeOldResources()</code></a> to delete old resources from the
 local file system that are no longer required as determined by
 <a href="../../../com/bigdata/resources/StoreManager.html#setReleaseTime(long)"><code>StoreManager.setReleaseTime(long)</code></a> and <code>#getEffectiveReleaseTime()</code>.
 <p>
 Note: This method does NOT start a <a href="../../../com/bigdata/resources/AsynchronousOverflowTask.html" title="class in com.bigdata.resources"><code>AsynchronousOverflowTask</code></a>.
 <P>
 Note: You MUST have an exclusive lock on the <a href="../../../com/bigdata/journal/WriteExecutorService.html" title="class in com.bigdata.journal"><code>WriteExecutorService</code></a>
 before you invoke this method!</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Metadata about the overflow operation including whether or not
         asynchronous should be performed.</dd></dl>
</li>
</ul>
<a name="getHostCounter(java.lang.String, double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHostCounter</h4>
<pre>protected&nbsp;double&nbsp;getHostCounter(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                    double&nbsp;defaultValue)</pre>
<div class="block">Return the value of a host counter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - The path (relative to the host root).</dd><dd><code>defaultValue</code> - The default value to use if the counter was not found.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The value if found and otherwise the defaultValue.</dd></dl>
</li>
</ul>
<a name="getServiceCounter(java.lang.String, double)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getServiceCounter</h4>
<pre>protected&nbsp;double&nbsp;getServiceCounter(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                       double&nbsp;defaultValue)</pre>
<div class="block">Return the value of a service counter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - The path (relative to the service root).</dd><dd><code>defaultValue</code> - The default value to use if the counter was not found.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The value if found and otherwise the defaultValue.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OverflowManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/resources/OverflowCounters.html" title="class in com.bigdata.resources"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/resources/OverflowManager.IIndexPartitionTaskCounters.html" title="interface in com.bigdata.resources"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/resources/OverflowManager.html" target="_top">Frames</a></li>
<li><a href="OverflowManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
