<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Wed Jan 20 23:38:56 EST 2016 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>IDataService (Blazegraph Database Platform 2.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IDataService (Blazegraph Database Platform 2.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IDataService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/service/IClientService.html" title="interface in com.bigdata.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/service/IDataServiceCallable.html" title="interface in com.bigdata.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/service/IDataService.html" target="_top">Frames</a></li>
<li><a href="IDataService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.service</div>
<h2 title="Interface IDataService" class="title">Interface IDataService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../com/bigdata/service/IRemoteExecutor.html" title="interface in com.bigdata.service">IRemoteExecutor</a>, <a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a>, <a href="../../../com/bigdata/service/ITxCommitProtocol.html" title="interface in com.bigdata.service">ITxCommitProtocol</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/Remote.html?is-external=true" title="class or interface in java.rmi">Remote</a></dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service">IMetadataService</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../com/bigdata/service/AbstractEmbeddedDataService.html" title="class in com.bigdata.service">AbstractEmbeddedDataService</a>, <a href="../../../com/bigdata/resources/AbstractResourceManagerTestCase.MockMetadataService.html" title="class in com.bigdata.resources">AbstractResourceManagerTestCase.MockMetadataService</a>, <a href="../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service">DataService</a>, <a href="../../../com/bigdata/service/EmbeddedFederation.EmbeddedDataServiceImpl.html" title="class in com.bigdata.service">EmbeddedFederation.EmbeddedDataServiceImpl</a>, <a href="../../../com/bigdata/service/EmbeddedMetadataService.html" title="class in com.bigdata.service">EmbeddedMetadataService</a>, <a href="../../../com/bigdata/service/MetadataService.html" title="class in com.bigdata.service">MetadataService</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">IDataService</span>
extends <a href="../../../com/bigdata/service/ITxCommitProtocol.html" title="interface in com.bigdata.service">ITxCommitProtocol</a>, <a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a>, <a href="../../../com/bigdata/service/IRemoteExecutor.html" title="interface in com.bigdata.service">IRemoteExecutor</a></pre>
<div class="block"><p>
 The data service interface provides remote access to named indices, provides
 for both unisolated and isolated operations on those indices, and exposes the
 <a href="../../../com/bigdata/service/ITxCommitProtocol.html" title="interface in com.bigdata.service"><code>ITxCommitProtocol</code></a> interface to the <code>ITransactionManagerService</code>
 service for the coordination of distributed transactions. Clients normally
 write to the <a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a> interface. The <a href="../../../com/bigdata/service/ndx/ClientIndexView.html" title="class in com.bigdata.service.ndx"><code>ClientIndexView</code></a> provides
 an implementation of that interface supporting range partitioned scale-out
 indices which transparently handles lookup of data services in the metadata
 index and mapping of operations across the appropriate data services.
 </p>
 <p>
 Indices are identified by name. Scale-out indices are broken into index
 partitions, each of which is a named index hosted on a data service. The name
 of an index partition is given by
 <a href="../../../com/bigdata/service/DataService.html#getIndexPartitionName(java.lang.String,%20int)"><code>DataService.getIndexPartitionName(String, int)</code></a>. Clients are
 <em>strongly</em> encouraged to use the <a href="../../../com/bigdata/service/ndx/ClientIndexView.html" title="class in com.bigdata.service.ndx"><code>ClientIndexView</code></a> which
 encapsulates lookup and distribution of operations on range partitioned
 scale-out indices.
 </p>
 <p>
 The data service exposes both fully isolated read-write transactions,
 read-only transactions, lightweight read-historical operations, and
 unisolated operations on named indices. These choices are captured by the
 timestamp associated with the operation. When it is a transaction, this is
 also known as the transaction identifier or <i>tx</i>. The following
 distinctions are available:
 <dl>
 
 <dt>Unisolated</dt>
 
 <dd>
 <p>
 Unisolated operation specify <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> as their transaction
 identifier. Unisolated operations are ACID, but their scope is limited to the
 commit group on the data service where the operation is executed. Unisolated
 operations correspond more or less to read-committed semantics except that
 writes are immediately visible to other operations in the same commit group.
 </p>
 <p>
 Unisolated operations that allow writes obtain an exclusive lock on the live
 version of the named index for the duration of the operation. Unisolated
 operations that are declared as read-only read from the last committed state
 of the named index and therefore do not compete with read-write unisolated
 operations. This allows unisolated read operations to achieve higher
 concurrency. The effect is as if the unisolated read operation runs before
 the unisolated writes in a given commit group since the impact of those
 writes are not visible to unisolated readers until the next commit point.
 </p>
 <p>
 Unisolated write operations MAY be used to achieve "auto-commit" semantics
 when distributed transactions are not required. Fully isolated transactions
 are useful when multiple operations must be composed into a ACID unit.
 </p>
 <p>
 While unisolated operations on a single data service are ACID, clients
 generally operate against scale-out indices having multiple index partitions
 hosted on multiple data services. Therefore client MUST NOT assume that an
 unisolated operation described by the client against a scale-out index will
 be ACID when that operation is distributed across the various index
 partitions relevant to the client's request. In practice, this means that
 contract for ACID unisolated operations is limited to either: (a) operations
 where the data is located on a single data service instance; or (b)
 unisolated operations that are inherently designed to achieve a
 <em>consistent</em> result. Sometimes it is sufficient to configure a
 scale-out index such that index partitions never split some logical unit -
 for example, the {schema + primaryKey} for a <a href="../../../com/bigdata/sparse/SparseRowStore.html" title="class in com.bigdata.sparse"><code>SparseRowStore</code></a>, thereby
 obtaining an ACID guarentee since operations on a logical row will always
 occur within the same index partition.
 </p>
 </dd>
 
 <dt>Light weight historical reads</dt>
 
 <dd>Historical reads are indicated using <code>tx</code>, where <i>tx</i>
 is a timestamp and is associated with the closest commit point LTE to the
 timestamp. A historical read is fully isolated but has very low overhead and
 does NOT require the caller to open the transaction. The read will have a
 consistent view of the data as of the most recent commit point not greater
 than <i>tx</i>. Unlike a distributed read-only transaction, a historical
 read does NOT impose a distributed read lock. While the operation will have
 access to the necessary resources on the local data service, it is possible
 that resources for the same timestamp will be concurrently released on other
 data services. If you need to map a read operation across the distributed
 database, the you must use a read only transaction which will assert the
 necessary read-lock.</dd>
 
 <dt>Distributed transactions</dt>
 
 <dd>Distributed transactions are coordinated using an
 <code>ITransactionManagerService</code> service and incur more overhead than both
 unisolated and historical read operations. Transactions are assigned a start
 time (the transaction identifier) when they begin and must be explicitly
 closed by either an abort or a commit. Both read-only and read-write
 transactions assert read locks which force the retention of resources
 required for a consistent view as of the transaction start time until the
 transaction is closed.</dd>
 </dl>
 </p>
 <p>
 Implementations of this interface MUST be thread-safe. Methods declared by
 this interface MUST block for each operation. Client operations SHOULD be
 buffered by a thread pool with a FIFO policy so that client requests may be
 decoupled from data service operations and clients may achieve greater
 parallelism.
 </p>
 
 <h2>Index Partitions: Split, Join, and Move</h2>
 
 <p>
 
 Scale-out indices are broken tranparently down into index partitions. When a
 scale-out index is initially registered, one or more index partitions are
 created and registered on one or more data services.
 </p>
 
 <p>
 
 Note that each index partitions is just an <a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a> registered under
 the name assigned by <a href="../../../com/bigdata/service/DataService.html#getIndexPartitionName(java.lang.String,%20int)"><code>DataService.getIndexPartitionName(String, int)</code></a>
 and whose <a href="../../../com/bigdata/btree/IndexMetadata.html#getPartitionMetadata()"><code>IndexMetadata.getPartitionMetadata()</code></a> returns a description
 of the resources required to compose a view of that index partition from the
 resources located on a <a href="../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a>. The <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> will
 respond for that index partition IFF there is an index under that name
 registered on the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> as of the <i>timestamp</i> associated
 with the request. If the index is not registered then a
 <a href="../../../com/bigdata/journal/NoSuchIndexException.html" title="class in com.bigdata.journal"><code>NoSuchIndexException</code></a> will be thrown. If the index was registered and
 has since been split, joined or moved then a <a href="../../../com/bigdata/resources/StaleLocatorException.html" title="class in com.bigdata.resources"><code>StaleLocatorException</code></a>
 will be thrown (this will occur only for index partitions of scale-out
 indices). <strong>All methods on this and derived interfaces which are
 defined for an index name and timestamp MUST conform to these semantics.</strong>
 
 </p>
 
 <p>
 
 As index partitions grow in size they may be <em>split</em> into 2 or more
 index partitions covering the same key range as the original index partition.
 When this happens a new index partition identifier is assigned by the
 metadata service to each of the new index partitions and the old index
 partition is retired in an atomic operation. A similar operation can
 <em>move</em> an index partition to a different <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> in
 order to load balance a federation. Finally, when two index partitions shrink
 in size, they maybe moved to the same <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> and an atomic
 <i>join</i> operation may re-combine them into a single index partition
 spanning the same key range.
 
 </p>
 
 <p>
 
 Split, join, and move operations all result in the old index partition being
 dropped on the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>. Clients having a stale
 <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi"><code>PartitionLocator</code></a> record will attempt to reach the now defunct index
 partition after it has been dropped and will receive a
 <a href="../../../com/bigdata/resources/StaleLocatorException.html" title="class in com.bigdata.resources"><code>StaleLocatorException</code></a>.
 
 </p>
 
 
 <h2><a href="../../../com/bigdata/resources/StaleLocatorException.html" title="class in com.bigdata.resources"><code>StaleLocatorException</code></a></h2>
 
 <p>
 
 <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> clients MUST handle this exception by refreshing their
 cached <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi"><code>PartitionLocator</code></a> for the key range associated with the index
 partition which they wish to query and then re-issuing their request. By
 following this simple rule the client will automatically handle index
 partition splits, joins, and moves without error and in a manner which is
 completely transparent to the application. Note that splits, joins, and moves
 DO NOT alter the <a href="../../../com/bigdata/mdi/PartitionLocator.html" title="class in com.bigdata.mdi"><code>PartitionLocator</code></a> for historical reads, only for
 ongoing writes. This exception is generally (but not always) wrapped.
 Applications typically DO NOT write directly to the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>
 interface and therefore DO NOT need to worry about this. See
 <a href="../../../com/bigdata/service/ndx/ClientIndexView.html" title="class in com.bigdata.service.ndx"><code>ClientIndexView</code></a>, which automatically handles this exception.
 
 </p>
 
 <h2><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io"><code>IOException</code></a></h2>
 
 <p>
 
 All methods on this and derived interfaces can throw an <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io"><code>IOException</code></a>.
 In all cases an <em>unwrapped</em> exception that is an instance of
 <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io"><code>IOException</code></a> indicates an error in the Remote Method Invocation (RMI)
 layer.
 
 </p>
 
 <h2><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent"><code>ExecutionException</code></a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a></h2>
 
 <p>
 
 An <em>unwrapped</em> <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent"><code>ExecutionException</code></a> or
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a> indicates a problem when running the request as
 a task in the <a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal"><code>IConcurrencyManager</code></a> on the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>. The
 exception always wraps a root cause which may indicate the underlying
 problem. Methods which do not declare these exceptions are not run under the
 <a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal"><code>IConcurrencyManager</code></a>.
 
 </p></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#dropIndex(java.lang.String)">dropIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Drops the named index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#forceOverflow(boolean,%20boolean)">forceOverflow</a></strong>(boolean&nbsp;immediate,
             boolean&nbsp;compactingMerge)</code>
<div class="block">Method sets a flag that will force overflow processing during the next
 group commit and optionally forces a group commit <strong>(Note: This
 method exists primarily for unit tests and benchmarking activities and
 SHOULD NOT be used on a deployed federation as the overhead associated
 with a compacting merge of each index partition can be significant).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#getAsynchronousOverflowCounter()">getAsynchronousOverflowCounter</a></strong>()</code>
<div class="block">The #of asynchronous overflows that have taken place on this data service
 (the counter is not restart safe).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#getIndexMetadata(java.lang.String,%20long)">getIndexMetadata</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                long&nbsp;timestamp)</code>
<div class="block">Return the metadata for the named index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine">IQueryPeer</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#getQueryEngine()">getQueryEngine</a></strong>()</code>
<div class="block">Return the <a href="../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine"><code>IQueryPeer</code></a> running on this service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#isOverflowActive()">isOverflowActive</a></strong>()</code>
<div class="block">Return <code>true</code> iff the data service is currently engaged in
 overflow processing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#purgeOldResources(long,%20boolean)">purgeOldResources</a></strong>(long&nbsp;timeout,
                 boolean&nbsp;truncateJournal)</code>
<div class="block">This attempts to pause the service accepting <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a>
 writes and then purges any resources that are no longer required based on
 the <code>StoreManager.Options#MIN_RELEASE_AGE</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ResultSet.html" title="class in com.bigdata.btree">ResultSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#rangeIterator(long,%20java.lang.String,%20byte[],%20byte[],%20int,%20int,%20cutthecrap.utils.striterators.IFilter)">rangeIterator</a></strong>(long&nbsp;tx,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
             byte[]&nbsp;fromKey,
             byte[]&nbsp;toKey,
             int&nbsp;capacity,
             int&nbsp;flags,
             <a href="../../../cutthecrap/utils/striterators/IFilter.html" title="interface in cutthecrap.utils.striterators">IFilter</a>&nbsp;filter)</code>
<div class="block">
 Streaming traversal of keys and/or values in a key range.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/rawstore/IBlock.html" title="interface in com.bigdata.rawstore">IBlock</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#readBlock(com.bigdata.mdi.IResourceMetadata,%20long)">readBlock</a></strong>(<a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi">IResourceMetadata</a>&nbsp;resource,
         long&nbsp;addr)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>This was a first try at adding support for reading low-level records
       from a journal or index segment in support of the
       <a href="../../../com/bigdata/bfs/BigdataFileSystem.html" title="class in com.bigdata.bfs"><code>BigdataFileSystem</code></a>.
       <p>
       The API should provide a means to obtain a socket from which record
       data may be streamed. The client sends the resource identifier
       (UUID of the journal or index segment) and the address of the
       record and the data service sends the record data. This is designed
       for streaming reads of up to 64M or more (a record recorded on the
       store as identified by the address).</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#registerIndex(java.lang.String,%20com.bigdata.btree.IndexMetadata)">registerIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
             <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)</code>
<div class="block">Register a named mutable index on the <a href="../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;? extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#submit(java.util.concurrent.Callable)">submit</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;? extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;proc)</code>
<div class="block">Submit a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent"><code>Callable</code></a> and return its <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;T&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/IDataService.html#submit(long,%20java.lang.String,%20com.bigdata.btree.proc.IIndexProcedure)">submit</a></strong>(long&nbsp;tx,
      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
      <a href="../../../com/bigdata/btree/proc/IIndexProcedure.html" title="interface in com.bigdata.btree.proc">IIndexProcedure</a>&lt;T&gt;&nbsp;proc)</code>
<div class="block">
 Submit a procedure.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.service.ITxCommitProtocol">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.service.<a href="../../../com/bigdata/service/ITxCommitProtocol.html" title="interface in com.bigdata.service">ITxCommitProtocol</a></h3>
<code><a href="../../../com/bigdata/service/ITxCommitProtocol.html#abort(long)">abort</a>, <a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)">prepare</a>, <a href="../../../com/bigdata/service/ITxCommitProtocol.html#setReleaseTime(long)">setReleaseTime</a>, <a href="../../../com/bigdata/service/ITxCommitProtocol.html#singlePhaseCommit(long)">singlePhaseCommit</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.service.IService">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.service.<a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a></h3>
<code><a href="../../../com/bigdata/service/IService.html#destroy()">destroy</a>, <a href="../../../com/bigdata/service/IService.html#getHostname()">getHostname</a>, <a href="../../../com/bigdata/service/IService.html#getServiceIface()">getServiceIface</a>, <a href="../../../com/bigdata/service/IService.html#getServiceName()">getServiceName</a>, <a href="../../../com/bigdata/service/IService.html#getServiceUUID()">getServiceUUID</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="registerIndex(java.lang.String, com.bigdata.btree.IndexMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerIndex</h4>
<pre>void&nbsp;registerIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                 <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Register a named mutable index on the <a href="../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a>.
 <p>
 Note: In order to register an index partition the
 <a href="../../../com/bigdata/btree/IndexMetadata.html#getPartitionMetadata()"><code>partition metadata</code></a> property
 MUST be set. The <a href="../../../com/bigdata/mdi/LocalPartitionMetadata.html#getResources()"><code>resources</code></a>
 property will then be overriden when the index is actually registered so
 as to reflect the <a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi"><code>IResourceMetadata</code></a> description of the journal on
 which the index actually resides.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name that can be used to recover the index. In order to
            create a partition of an index you must form the name of the
            index partition using
            <a href="../../../com/bigdata/service/DataService.html#getIndexPartitionName(java.lang.String,%20int)"><code>DataService.getIndexPartitionName(String, int)</code></a> (this
            operation is generally performed by the
            <a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service"><code>IMetadataService</code></a> which manages scale-out indices).</dd><dd><code>metadata</code> - The metadata describing the index.
            <p>
            The <a href="../../../com/bigdata/mdi/LocalPartitionMetadata.html#getResources()"><code>LocalPartitionMetadata.getResources()</code></a> property on
            the <a href="../../../com/bigdata/btree/IndexMetadata.html#getPartitionMetadata()"><code>IndexMetadata.getPartitionMetadata()</code></a> SHOULD NOT be
            set. The correct <a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi"><code>IResourceMetadata</code></a>[] will be assigned
            when the index is registered on the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="getIndexMetadata(java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexMetadata</h4>
<pre><a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;getIndexMetadata(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                             long&nbsp;timestamp)
                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Return the metadata for the named index.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The index name.</dd><dd><code>timestamp</code> - A transaction identifier, <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> for the
            unisolated index view, <a href="../../../com/bigdata/journal/ITx.html#READ_COMMITTED"><code>ITx.READ_COMMITTED</code></a>, or
            <code>timestamp</code> for a historical view no later than
            the specified timestamp.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The metadata for the named index.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="dropIndex(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropIndex</h4>
<pre>void&nbsp;dropIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)
               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Drops the named index.
 <p>
 Note: In order to drop a partition of an index you must form the name of
 the index partition using
 <a href="../../../com/bigdata/service/DataService.html#getIndexPartitionName(java.lang.String,%20int)"><code>DataService.getIndexPartitionName(String, int)</code></a> (this operation is
 generally performed by the <a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service"><code>IMetadataService</code></a> which manages
 scale-out indices).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The index name.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <i>name</i> does not identify a registered index.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd></dl>
</li>
</ul>
<a name="rangeIterator(long, java.lang.String, byte[], byte[], int, int, cutthecrap.utils.striterators.IFilter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rangeIterator</h4>
<pre><a href="../../../com/bigdata/btree/ResultSet.html" title="class in com.bigdata.btree">ResultSet</a>&nbsp;rangeIterator(long&nbsp;tx,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                      byte[]&nbsp;fromKey,
                      byte[]&nbsp;toKey,
                      int&nbsp;capacity,
                      int&nbsp;flags,
                      <a href="../../../cutthecrap/utils/striterators/IFilter.html" title="interface in cutthecrap.utils.striterators">IFilter</a>&nbsp;filter)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><p>
 Streaming traversal of keys and/or values in a key range.
 </p>
 <p>
 Note: In order to visit all keys in a range, clients are expected to
 issue repeated calls in which the <i>fromKey</i> is incremented to the
 successor of the last key visited until either an empty <a href="../../../com/bigdata/btree/ResultSet.html" title="class in com.bigdata.btree"><code>ResultSet</code></a>
 is returned or the <code>ResultSet#isLast()</code> flag is set, indicating
 that all keys up to (but not including) the <i>startKey</i> have been
 visited. See <a href="../../../com/bigdata/service/ndx/ClientIndexView.html" title="class in com.bigdata.service.ndx"><code>ClientIndexView</code></a> (scale-out indices) and
 <a href="../../../com/bigdata/service/ndx/DataServiceTupleIterator.html" title="class in com.bigdata.service.ndx"><code>DataServiceTupleIterator</code></a> (unpartitioned indices), both of which
 encapsulate this method.
 </p>
 <p>
 Note: If the iterator can be determined to be read-only and it is
 submitted as <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> then it will be run as
 <a href="../../../com/bigdata/journal/ITx.html#READ_COMMITTED"><code>ITx.READ_COMMITTED</code></a> to improve concurrency.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier -or- <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> IFF the
            operation is NOT isolated by a transaction -or-
            <code> - tx </code> to read from the most recent commit point
            not later than the absolute value of <i>tx</i> (a fully
            isolated read-only transaction using a historical start time).</dd><dd><code>name</code> - The index name (required).</dd><dd><code>fromKey</code> - The starting key for the scan (or <code>null</code> iff
            there is no lower bound).</dd><dd><code>toKey</code> - The first key that will not be visited (or <code>null</code>
            iff there is no upper bound).</dd><dd><code>capacity</code> - When non-zero, this is the maximum #of entries to process.</dd><dd><code>flags</code> - One or more flags formed by bitwise OR of zero or more of the
            constants defined by <a href="../../../com/bigdata/btree/IRangeQuery.html" title="interface in com.bigdata.btree"><code>IRangeQuery</code></a>.</dd><dd><code>filter</code> - An optional object that may be used to layer additional
            semantics onto the iterator. The filter will be constructed on
            the server and in the execution context for the iterator, so
            it will execute directly against the index for the maximum
            efficiency.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the operation was interrupted.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code> - If the operation caused an error. See
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true#getCause()" title="class or interface in java.lang"><code>Throwable.getCause()</code></a> for the underlying
                error.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="submit(long, java.lang.String, com.bigdata.btree.proc.IIndexProcedure)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;T&gt;&nbsp;submit(long&nbsp;tx,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                   <a href="../../../com/bigdata/btree/proc/IIndexProcedure.html" title="interface in com.bigdata.btree.proc">IIndexProcedure</a>&lt;T&gt;&nbsp;proc)
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><p>
 Submit a procedure.
 </p>
 <p>
 Unisolated operations SHOULD be used to achieve "auto-commit" semantics.
 Fully isolated transactions are useful IFF multiple operations must be
 composed into a ACID unit.
 </p>
 <p>
 While unisolated batch operations on a single data service are ACID,
 clients are required to locate all index partitions for the logical
 operation and distribute their operation across the distinct data service
 instances holding the affected index partitions. In practice, this means
 that contract for ACID unisolated operations is limited to operations
 where the data is located on a single data service instance. For ACID
 operations that cross multiple data service instances the client MUST use
 a fully isolated transaction.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier, <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> for an ACID
            operation NOT isolated by a transaction,
            <a href="../../../com/bigdata/journal/ITx.html#READ_COMMITTED"><code>ITx.READ_COMMITTED</code></a> for a read-committed operation not
            protected by a transaction (no global read lock), or any valid
            commit time for a read-historical operation not protected by a
            transaction (no global read lock).</dd><dd><code>name</code> - The name of the index partition.</dd><dd><code>proc</code> - The procedure to be executed.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> from which the outcome of the procedure may be
         obtained.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RejectedExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">RejectedExecutionException</a></code> - if the task can not be accepted for execution.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an RMI problem.</dd></dl>
</li>
</ul>
<a name="submit(java.util.concurrent.Callable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;? extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;submit(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;? extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;proc)
                                throws <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></pre>
<div class="block">Submit a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent"><code>Callable</code></a> and return its <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>. The
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent"><code>Callable</code></a> will execute on the
 <a href="../../../com/bigdata/service/IBigdataFederation.html#getExecutorService()"><code>IBigdataFederation.getExecutorService()</code></a>.
 <p>
 Note: This interface is specialized by the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> for tasks
 which need to gain access to the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> in order to gain
 local access to index partitions, etc. Such tasks declare the
 <a href="../../../com/bigdata/service/IDataServiceCallable.html" title="interface in com.bigdata.service"><code>IDataServiceCallable</code></a>. For example, scale-out joins use
 this mechanism.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IRemoteExecutor.html#submit(java.util.concurrent.Callable)">submit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IRemoteExecutor.html" title="interface in com.bigdata.service">IRemoteExecutor</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> for that task.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/service/IDataServiceCallable.html" title="interface in com.bigdata.service"><code>IDataServiceCallable</code></a></dd></dl>
</li>
</ul>
<a name="readBlock(com.bigdata.mdi.IResourceMetadata, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readBlock</h4>
<pre><a href="../../../com/bigdata/rawstore/IBlock.html" title="interface in com.bigdata.rawstore">IBlock</a>&nbsp;readBlock(<a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi">IResourceMetadata</a>&nbsp;resource,
               long&nbsp;addr)
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>This was a first try at adding support for reading low-level records
       from a journal or index segment in support of the
       <a href="../../../com/bigdata/bfs/BigdataFileSystem.html" title="class in com.bigdata.bfs"><code>BigdataFileSystem</code></a>.
       <p>
       The API should provide a means to obtain a socket from which record
       data may be streamed. The client sends the resource identifier
       (UUID of the journal or index segment) and the address of the
       record and the data service sends the record data. This is designed
       for streaming reads of up to 64M or more (a record recorded on the
       store as identified by the address).</i></div>
<div class="block">Read a low-level record from the described <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a> described by
 the <a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi"><code>IResourceMetadata</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>resource</code> - The description of the resource containing that block.</dd><dd><code>addr</code> - The address of the block in that resource.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An object that may be used to read the block from the data
         service.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the resource is <code>null</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the addr is <code>0L</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the resource is not available.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the record identified by addr can not be read from the
             resource.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="forceOverflow(boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceOverflow</h4>
<pre>void&nbsp;forceOverflow(boolean&nbsp;immediate,
                 boolean&nbsp;compactingMerge)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Method sets a flag that will force overflow processing during the next
 group commit and optionally forces a group commit <strong>(Note: This
 method exists primarily for unit tests and benchmarking activities and
 SHOULD NOT be used on a deployed federation as the overhead associated
 with a compacting merge of each index partition can be significant).
 </strong>
 <p>
 Normally there is no reason to invoke this method directly. Overflow
 processing is triggered automatically on a bottom-up basis when the
 extent of the live journal nears the <a href="../../../com/bigdata/journal/Options.html#MAXIMUM_EXTENT"><code>Options.MAXIMUM_EXTENT</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>immediate</code> - The purpose of this argument is to permit the caller to
            trigger an overflow event even though there are no writes
            being made against the data service. When <code>true</code>
            the method will write a token record on the live journal in
            order to provoke a group commit. In this case synchronous
            overflow processing will have occurred by the time the method
            returns. When <code>false</code> a flag is set and overflow
            processing will occur on the next commit.</dd><dd><code>compactingMerge</code> - The purpose of this flag is to permit the caller to indicate
            that a compacting merge should be performed for all indices on
            the data service (at least, all indices whose data are not
            simply copied onto the new journal) during the next
            synchronous overflow. Note that compacting merges of indices
            are performed automatically from time to time so this flag
            exists mainly for people who want to force a compacting merge
            for some reason.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - may be thrown if <i>immediate</i> is <code>true</code>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code> - may be thrown if <i>immediate</i> is <code>true</code>.</dd></dl>
</li>
</ul>
<a name="purgeOldResources(long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purgeOldResources</h4>
<pre>boolean&nbsp;purgeOldResources(long&nbsp;timeout,
                        boolean&nbsp;truncateJournal)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">This attempts to pause the service accepting <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a>
 writes and then purges any resources that are no longer required based on
 the <code>StoreManager.Options#MIN_RELEASE_AGE</code>.
 <p>
 Note: Resources are normally purged during synchronous overflow handling.
 However, asynchronous overflow handling can cause resources to no longer
 be needed as new index partition views are defined. This method MAY be
 used to trigger a release before the next overflow event.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - The timeout (in milliseconds) that the method will await the
            pause of the write service.</dd><dd><code>truncateJournal</code> - When <code>true</code>, the live journal will be truncated
            to its minimum extent (all writes will be preserved but there
            will be no free space left in the journal). This may be used
            to force the <a href="../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a> to its minimum possible
            footprint for the configured history retention policy.</dd><dd><code>truncateJournal</code> - When <code>true</code> the live journal will be truncated
            such that no free space remains in the journal.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful and <code>false</code> if the
         write service could not be paused after the specified timeout.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="getAsynchronousOverflowCounter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAsynchronousOverflowCounter</h4>
<pre>long&nbsp;getAsynchronousOverflowCounter()
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">The #of asynchronous overflows that have taken place on this data service
 (the counter is not restart safe).</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isOverflowActive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOverflowActive</h4>
<pre>boolean&nbsp;isOverflowActive()
                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Return <code>true</code> iff the data service is currently engaged in
 overflow processing.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getQueryEngine()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getQueryEngine</h4>
<pre><a href="../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine">IQueryPeer</a>&nbsp;getQueryEngine()
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Return the <a href="../../../com/bigdata/bop/engine/IQueryPeer.html" title="interface in com.bigdata.bop.engine"><code>IQueryPeer</code></a> running on this service.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IDataService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/service/IClientService.html" title="interface in com.bigdata.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/service/IDataServiceCallable.html" title="interface in com.bigdata.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/service/IDataService.html" target="_top">Frames</a></li>
<li><a href="IDataService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
