<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Sat Jun 18 19:37:43 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DistributedTransactionService (Blazegraph Database Platform 2.1.2 API)</title>
<meta name="date" content="2016-06-18">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DistributedTransactionService (Blazegraph Database Platform 2.1.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DistributedTransactionService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/service/DefaultServiceFederationDelegate.html" title="class in com.bigdata.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/service/DistributedTransactionService.NotifyReleaseTimeTask.html" title="class in com.bigdata.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/service/DistributedTransactionService.html" target="_top">Frames</a></li>
<li><a href="DistributedTransactionService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.service</div>
<h2 title="Class DistributedTransactionService" class="title">Class DistributedTransactionService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/service/AbstractService.html" title="class in com.bigdata.service">com.bigdata.service.AbstractService</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">com.bigdata.service.AbstractTransactionService</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.service.DistributedTransactionService</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="../../../com/bigdata/journal/IDistributedTransactionService.html" title="interface in com.bigdata.journal">IDistributedTransactionService</a>, <a href="../../../com/bigdata/journal/ITimestampService.html" title="interface in com.bigdata.journal">ITimestampService</a>, <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal">ITransactionService</a>, <a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a>, <a href="../../../com/bigdata/service/IServiceShutdown.html" title="interface in com.bigdata.service">IServiceShutdown</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/Remote.html?is-external=true" title="class or interface in java.rmi">Remote</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../com/bigdata/service/AbstractEmbeddedTransactionService.html" title="class in com.bigdata.service">AbstractEmbeddedTransactionService</a>, <a href="../../../com/bigdata/service/TestDistributedTransactionServiceRestart.MockDistributedTransactionService.html" title="class in com.bigdata.service">TestDistributedTransactionServiceRestart.MockDistributedTransactionService</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">DistributedTransactionService</span>
extends <a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a>
implements <a href="../../../com/bigdata/journal/IDistributedTransactionService.html" title="interface in com.bigdata.journal">IDistributedTransactionService</a></pre>
<div class="block">Implementation for an <a href="../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service"><code>IBigdataFederation</code></a> supporting both single-phase
 commits (for transactions that execute on a single <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>) and
 distributed commits.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.NotifyReleaseTimeTask.html" title="class in com.bigdata.service">DistributedTransactionService.NotifyReleaseTimeTask</a></strong></code>
<div class="block">Task periodically notifies the discovered <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s of the
 new release time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.Options.html" title="interface in com.bigdata.service">DistributedTransactionService.Options</a></strong></code>
<div class="block">Options understood by this service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.SnapshotHelper.html" title="class in com.bigdata.service">DistributedTransactionService.SnapshotHelper</a></strong></code>
<div class="block">A helper class for reading and writing snapshots of the commit time
 index.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_com.bigdata.service.AbstractTransactionService">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.bigdata.service.<a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></h3>
<code><a href="../../../com/bigdata/service/AbstractTransactionService.TxState.html" title="class in com.bigdata.service">AbstractTransactionService.TxState</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#BASENAME">BASENAME</a></strong></code>
<div class="block">Basename for the files written in the <a href="../../../com/bigdata/service/DistributedTransactionService.html#dataDir"><code>dataDir</code></a> containing images
 of the <a href="../../../com/bigdata/service/DistributedTransactionService.html#commitTimeIndex"><code>commitTimeIndex</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/service/CommitTimeIndex.html" title="class in com.bigdata.service">CommitTimeIndex</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#commitTimeIndex">commitTimeIndex</a></strong></code>
<div class="block">A <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> containing a log of the historical commit points.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#dataDir">dataDir</a></strong></code>
<div class="block">The data directory -or- <code>null</code> iff the service is transient.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#EXT">EXT</a></strong></code>
<div class="block">Extension for the files written in the <a href="../../../com/bigdata/service/DistributedTransactionService.html#dataDir"><code>dataDir</code></a> containing
 snapshots of the <a href="../../../com/bigdata/service/DistributedTransactionService.html#commitTimeIndex"><code>commitTimeIndex</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.service.AbstractTransactionService">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.bigdata.service.<a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></h3>
<code><a href="../../../com/bigdata/service/AbstractTransactionService.html#ERR_NO_SUCH">ERR_NO_SUCH</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#ERR_NOT_ACTIVE">ERR_NOT_ACTIVE</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#ERR_READ_ONLY">ERR_READ_ONLY</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#ERR_SERVICE_NOT_AVAIL">ERR_SERVICE_NOT_AVAIL</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#lock">lock</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#log">log</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#txDeactivate">txDeactivate</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#DistributedTransactionService(java.util.Properties)">DistributedTransactionService</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#abortImpl(com.bigdata.service.AbstractTransactionService.TxState)">abortImpl</a></strong>(<a href="../../../com/bigdata/service/AbstractTransactionService.TxState.html" title="class in com.bigdata.service">AbstractTransactionService.TxState</a>&nbsp;state)</code>
<div class="block">Implementation must abort the tx on the journal (standalone) or on each
 data service (federation) on which it has written.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#addScheduledTasks()">addScheduledTasks</a></strong>()</code>
<div class="block">Adds the scheduled tasks.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#commitImpl(com.bigdata.service.AbstractTransactionService.TxState)">commitImpl</a></strong>(<a href="../../../com/bigdata/service/AbstractTransactionService.TxState.html" title="class in com.bigdata.service">AbstractTransactionService.TxState</a>&nbsp;state)</code>
<div class="block">There are two distinct commit protocols depending on whether the
 transaction write set is distributed across more than one
 <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#committed(long,%20java.util.UUID)">committed</a></strong>(long&nbsp;tx,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataService)</code>
<div class="block">Wait at "committed" barrier.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#declareResources(long,%20java.util.UUID,%20java.lang.String[])">declareResources</a></strong>(long&nbsp;tx,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataServiceUUID,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;resource)</code>
<div class="block">Note: Only those <a href="../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a>s on which a read-write transaction
 has started will participate in the commit.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#destroy()">destroy</a></strong>()</code>
<div class="block">Immediate/fast shutdown of the service and then destroys any persistent
 state associated with the service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#findCommitTime(long)">findCommitTime</a></strong>(long&nbsp;timestamp)</code>
<div class="block">Find the commit time from which the tx will read (largest commitTime LTE
 timestamp).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#findNextCommitTime(long)">findNextCommitTime</a></strong>(long&nbsp;commitTime)</code>
<div class="block">Return the commit time for the successor of that commit point have the
 specified timestamp (a commit time strictly GT the given value).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#getCounters()">getCounters</a></strong>()</code>
<div class="block">Adds counters for the <a href="../../../com/bigdata/concurrent/LockManager.html" title="class in com.bigdata.concurrent"><code>LockManager</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/service/ITxCommitProtocol.html" title="interface in com.bigdata.service">ITxCommitProtocol</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#getDataServices(java.util.UUID[])">getDataServices</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>[]&nbsp;uuids)</code>
<div class="block">Return the proxies for the services participating in a distributed
 transaction commit or abort.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#getLastCommitTime()">getLastCommitTime</a></strong>()</code>
<div class="block">Note: Declared abstract so that we can hide the <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io"><code>IOException</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#notifyCommit(long)">notifyCommit</a></strong>(long&nbsp;commitTime)</code>
<div class="block">The basic implementation advances the release time periodically as
 commits occur even when there are no transactions in use.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#prepared(long,%20java.util.UUID)">prepared</a></strong>(long&nbsp;tx,
        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataService)</code>
<div class="block">Waits at "prepared" barrier.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#setReleaseTime(long)">setReleaseTime</a></strong>(long&nbsp;releaseTime)</code>
<div class="block">Extended to truncate the head of the <a href="../../../com/bigdata/service/DistributedTransactionService.html#commitTimeIndex"><code>commitTimeIndex</code></a> such only
 the commit times requires for reading on timestamps GTE to the new
 releaseTime are retained.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#shutdown()">shutdown</a></strong>()</code>
<div class="block">Polite shutdown.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#shutdownNow()">shutdownNow</a></strong>()</code>
<div class="block">Fast shutdown (not immediate since it must abort active transactions).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#singlePhaseCommit(com.bigdata.service.AbstractTransactionService.TxState)">singlePhaseCommit</a></strong>(<a href="../../../com/bigdata/service/AbstractTransactionService.TxState.html" title="class in com.bigdata.service">AbstractTransactionService.TxState</a>&nbsp;state)</code>
<div class="block">Prepare and commit a read-write transaction that has written on a single
 data service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#snapshot()">snapshot</a></strong>()</code>
<div class="block">Runs the <code>SnapshotTask</code> once.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/service/DistributedTransactionService.html" title="class in com.bigdata.service">DistributedTransactionService</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/service/DistributedTransactionService.html#start()">start</a></strong>()</code>
<div class="block">Verifies that <a href="../../../com/bigdata/service/AbstractTransactionService.html#nextTimestamp()"><code>AbstractTransactionService.nextTimestamp()</code></a> will not report a time before
 <a href="../../../com/bigdata/service/AbstractTransactionService.html#getLastCommitTime()"><code>AbstractTransactionService.getLastCommitTime()</code></a> and then changes the <a href="../../../com/bigdata/service/TxServiceRunState.html" title="enum in com.bigdata.service"><code>TxServiceRunState</code></a>
 to <a href="../../../com/bigdata/service/TxServiceRunState.html#Running"><code>TxServiceRunState.Running</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.service.AbstractTransactionService">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.service.<a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></h3>
<code><a href="../../../com/bigdata/service/AbstractTransactionService.html#abort(long)">abort</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#abortAllTx()">abortAllTx</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#activateTx(com.bigdata.service.AbstractTransactionService.TxState)">activateTx</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#assertOpen()">assertOpen</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#assignTransactionIdentifier(long)">assignTransactionIdentifier</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#commit(long)">commit</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#deactivateTx(com.bigdata.service.AbstractTransactionService.TxState)">deactivateTx</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#findUnusedTimestamp(long,%20long,%20long,%20java.util.concurrent.TimeUnit)">findUnusedTimestamp</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getAbortCount()">getAbortCount</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getActiveCount()">getActiveCount</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getCommitCount()">getCommitCount</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getEarliestActiveTx()">getEarliestActiveTx</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getEffectiveReleaseTimeForHA()">getEffectiveReleaseTimeForHA</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getMinReleaseAge()">getMinReleaseAge</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getProperties()">getProperties</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getReadOnlyActiveCount()">getReadOnlyActiveCount</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getReadsOnTime(long)">getReadsOnTime</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getReadWriteActiveCount()">getReadWriteActiveCount</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getReleaseTime()">getReleaseTime</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getRunState()">getRunState</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getServiceIface()">getServiceIface</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getStartCount()">getStartCount</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#getTxState(long)">getTxState</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#isOpen()">isOpen</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#isReleaseTimeConsensusProtocol()">isReleaseTimeConsensusProtocol</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#newTx(long)">newTx</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#nextTimestamp()">nextTimestamp</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#setRunState(com.bigdata.service.TxServiceRunState)">setRunState</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#updateReleaseTime(long,%20com.bigdata.service.AbstractTransactionService.TxState)">updateReleaseTime</a>, <a href="../../../com/bigdata/service/AbstractTransactionService.html#updateReleaseTimeForBareCommit(long)">updateReleaseTimeForBareCommit</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.service.AbstractService">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.bigdata.service.<a href="../../../com/bigdata/service/AbstractService.html" title="class in com.bigdata.service">AbstractService</a></h3>
<code><a href="../../../com/bigdata/service/AbstractService.html#clearLoggingContext()">clearLoggingContext</a>, <a href="../../../com/bigdata/service/AbstractService.html#getFederation()">getFederation</a>, <a href="../../../com/bigdata/service/AbstractService.html#getHostname()">getHostname</a>, <a href="../../../com/bigdata/service/AbstractService.html#getServiceName()">getServiceName</a>, <a href="../../../com/bigdata/service/AbstractService.html#getServiceUUID()">getServiceUUID</a>, <a href="../../../com/bigdata/service/AbstractService.html#setServiceUUID(java.util.UUID)">setServiceUUID</a>, <a href="../../../com/bigdata/service/AbstractService.html#setupLoggingContext()">setupLoggingContext</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.ITransactionService">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal">ITransactionService</a></h3>
<code><a href="../../../com/bigdata/journal/ITransactionService.html#abort(long)">abort</a>, <a href="../../../com/bigdata/journal/ITransactionService.html#commit(long)">commit</a>, <a href="../../../com/bigdata/journal/ITransactionService.html#getReleaseTime()">getReleaseTime</a>, <a href="../../../com/bigdata/journal/ITransactionService.html#newTx(long)">newTx</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.ITimestampService">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/ITimestampService.html" title="interface in com.bigdata.journal">ITimestampService</a></h3>
<code><a href="../../../com/bigdata/journal/ITimestampService.html#nextTimestamp()">nextTimestamp</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.service.IService">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.service.<a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a></h3>
<code><a href="../../../com/bigdata/service/IService.html#getHostname()">getHostname</a>, <a href="../../../com/bigdata/service/IService.html#getServiceIface()">getServiceIface</a>, <a href="../../../com/bigdata/service/IService.html#getServiceName()">getServiceName</a>, <a href="../../../com/bigdata/service/IService.html#getServiceUUID()">getServiceUUID</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="commitTimeIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitTimeIndex</h4>
<pre>protected final&nbsp;<a href="../../../com/bigdata/service/CommitTimeIndex.html" title="class in com.bigdata.service">CommitTimeIndex</a> commitTimeIndex</pre>
<div class="block">A <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> containing a log of the historical commit points.
 <p>
 The main things that it gives us are (a) the half-open ranges within
 which we can allocate read-historical transactions; and (b) the last
 commit time on record. It seems that creating an image of the log every N
 seconds should be sufficient.
 <p>
 Note: Read and write operations on this index MUST be synchronized on the
 index object.</div>
</li>
</ul>
<a name="dataDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataDir</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a> dataDir</pre>
<div class="block">The data directory -or- <code>null</code> iff the service is transient.</div>
</li>
</ul>
<a name="BASENAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BASENAME</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> BASENAME</pre>
<div class="block">Basename for the files written in the <a href="../../../com/bigdata/service/DistributedTransactionService.html#dataDir"><code>dataDir</code></a> containing images
 of the <a href="../../../com/bigdata/service/DistributedTransactionService.html#commitTimeIndex"><code>commitTimeIndex</code></a>.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.service.DistributedTransactionService.BASENAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EXT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EXT</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> EXT</pre>
<div class="block">Extension for the files written in the <a href="../../../com/bigdata/service/DistributedTransactionService.html#dataDir"><code>dataDir</code></a> containing
 snapshots of the <a href="../../../com/bigdata/service/DistributedTransactionService.html#commitTimeIndex"><code>commitTimeIndex</code></a>.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.service.DistributedTransactionService.EXT">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DistributedTransactionService(java.util.Properties)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DistributedTransactionService</h4>
<pre>public&nbsp;DistributedTransactionService(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>properties</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="snapshot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshot</h4>
<pre>public&nbsp;void&nbsp;snapshot()</pre>
<div class="block">Runs the <code>SnapshotTask</code> once.</div>
</li>
</ul>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/service/DistributedTransactionService.html" title="class in com.bigdata.service">DistributedTransactionService</a>&nbsp;start()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html#start()">AbstractTransactionService</a></code></strong></div>
<div class="block">Verifies that <a href="../../../com/bigdata/service/AbstractTransactionService.html#nextTimestamp()"><code>AbstractTransactionService.nextTimestamp()</code></a> will not report a time before
 <a href="../../../com/bigdata/service/AbstractTransactionService.html#getLastCommitTime()"><code>AbstractTransactionService.getLastCommitTime()</code></a> and then changes the <a href="../../../com/bigdata/service/TxServiceRunState.html" title="enum in com.bigdata.service"><code>TxServiceRunState</code></a>
 to <a href="../../../com/bigdata/service/TxServiceRunState.html#Running"><code>TxServiceRunState.Running</code></a>.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#start()">start</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd><i>this</i> (the return type should be strengthened by the
         concrete implementation to return the actual type).</dd></dl>
</li>
</ul>
<a name="addScheduledTasks()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addScheduledTasks</h4>
<pre>protected&nbsp;void&nbsp;addScheduledTasks()</pre>
<div class="block">Adds the scheduled tasks.</div>
</li>
</ul>
<a name="shutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html#shutdown()">AbstractTransactionService</a></code></strong></div>
<div class="block">Polite shutdown. New transactions will not start. This method will block
 until existing transactions (both read-write and read-only) are complete
 (either aborted or committed).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IServiceShutdown.html#shutdown()">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IServiceShutdown.html" title="interface in com.bigdata.service">IServiceShutdown</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#shutdown()">shutdown</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdownNow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownNow</h4>
<pre>public&nbsp;void&nbsp;shutdownNow()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html#shutdownNow()">AbstractTransactionService</a></code></strong></div>
<div class="block">Fast shutdown (not immediate since it must abort active transactions).
 <p>
 New transactions will not start and active transactions will be aborted.
 Transactions which are concurrently committing MAY fail (throwing
 exceptions from various methods, including <a href="../../../com/bigdata/service/AbstractTransactionService.html#nextTimestamp()"><code>AbstractTransactionService.nextTimestamp()</code></a>)
 when the service halts.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IServiceShutdown.html#shutdownNow()">shutdownNow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IServiceShutdown.html" title="interface in com.bigdata.service">IServiceShutdown</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#shutdownNow()">shutdownNow</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
</dl>
</li>
</ul>
<a name="destroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html#destroy()">AbstractTransactionService</a></code></strong></div>
<div class="block">Immediate/fast shutdown of the service and then destroys any persistent
 state associated with the service.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IService.html#destroy()">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#destroy()">destroy</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
</dl>
</li>
</ul>
<a name="setReleaseTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReleaseTime</h4>
<pre>protected&nbsp;void&nbsp;setReleaseTime(long&nbsp;releaseTime)</pre>
<div class="block">Extended to truncate the head of the <a href="../../../com/bigdata/service/DistributedTransactionService.html#commitTimeIndex"><code>commitTimeIndex</code></a> such only
 the commit times requires for reading on timestamps GTE to the new
 releaseTime are retained.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#setReleaseTime(long)">setReleaseTime</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>releaseTime</code> - The new value.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="https://sourceforge.net/apps/trac/bigdata/ticket/671">
      Query on follower fails during UPDATE on leader </a></dd></dl>
</li>
</ul>
<a name="getDataServices(java.util.UUID[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataServices</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/service/ITxCommitProtocol.html" title="interface in com.bigdata.service">ITxCommitProtocol</a>[]&nbsp;getDataServices(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>[]&nbsp;uuids)</pre>
<div class="block">Return the proxies for the services participating in a distributed
 transaction commit or abort.
 <p>
 Note: This method is here so that it may be readily overriden for unit
 tests.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>uuids</code> - The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a>s of the participating services.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The corresponding service proxies.</dd></dl>
</li>
</ul>
<a name="abortImpl(com.bigdata.service.AbstractTransactionService.TxState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortImpl</h4>
<pre>protected&nbsp;void&nbsp;abortImpl(<a href="../../../com/bigdata/service/AbstractTransactionService.TxState.html" title="class in com.bigdata.service">AbstractTransactionService.TxState</a>&nbsp;state)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html#abortImpl(com.bigdata.service.AbstractTransactionService.TxState)">AbstractTransactionService</a></code></strong></div>
<div class="block">Implementation must abort the tx on the journal (standalone) or on each
 data service (federation) on which it has written.
 <p>
 Pre-conditions:
 <ol>
 <li>The transaction is <a href="../../../com/bigdata/journal/RunState.html#Active"><code>RunState.Active</code></a>; and</li>
 <li>The caller holds the <a href="../../../com/bigdata/service/AbstractTransactionService.TxState.html#lock"><code>AbstractTransactionService.TxState.lock</code></a>.</li>
 </ol>
 <p>
 Post-conditions:
 <ol>
 <li>The transaction is <a href="../../../com/bigdata/journal/RunState.html#Aborted"><code>RunState.Aborted</code></a>; and</li>
 <li>The transaction write set has been discarded by each <a href="../../../com/bigdata/journal/Journal.html" title="class in com.bigdata.journal"><code>Journal</code></a>
 or <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> or which it has written (applicable for
 read-write transactions only).</li>
 </ol>
 <p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#abortImpl(com.bigdata.service.AbstractTransactionService.TxState)">abortImpl</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>state</code> - The transaction state as maintained by the transaction server.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="commitImpl(com.bigdata.service.AbstractTransactionService.TxState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitImpl</h4>
<pre>protected&nbsp;long&nbsp;commitImpl(<a href="../../../com/bigdata/service/AbstractTransactionService.TxState.html" title="class in com.bigdata.service">AbstractTransactionService.TxState</a>&nbsp;state)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">There are two distinct commit protocols depending on whether the
 transaction write set is distributed across more than one
 <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>. When write set of the transaction lies entirely on
 a single <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>, an optimized commit protocol is used.
 When the write set of the transaction is distributed, a 3-phase commit is
 used with most of the work occurring during the "prepare" phase and a
 very rapid "commit" phase. If a distributed commit fails, even during the
 "commit", then the transaction will be rolled back on all participating
 <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s.
 
 <h3>Single phase commits</h3>
 
 A simple commit protocol is used when the write set of the transaction
 resides entirely on a single <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>. Such commits DO NOT
 contend for named resource locks (either on the index names or on the
 <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a>s). Since such transactions DO NOT have
 dependencies outside of the specific <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>, a necessary
 and sufficient partial order will be imposed on the executing tasks
 locally by the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> on which they are executing based
 solely on the named resources which they declare. Without dependencies on
 distributed resources, this can not deadlock.
 
 <h3>Distributed commits</h3>
 
 Transaction commits for a distributed database MUST be prepared in a
 partial order so that they do not deadlock when acquiring the necessary
 locks on the named indices on the local data services. That partial order
 is imposed using the <a href="../../../com/bigdata/service/DistributedTransactionService.html#indexLockManager"><code>indexLockManager</code></a>. The named index locks
 are pre-declared at the start of the distributed commit protocol and are
 held through both the prepare and commit phases until the end of the
 commit protocol. The distributed commit must obtain a lock on all of the
 necessary named index resources before proceeding. If there is an
 existing commit using some of those resources, then any concurrent commit
 requiring any of those resources will block. The <a href="../../../com/bigdata/concurrent/LockManager.html" title="class in com.bigdata.concurrent"><code>LockManager</code></a> is
 configured to require pre-declaration of locks. Deadlocks are NOT
 possible when the locks are pre-declared.
 <p>
 A secondary partial ordering is established based on the
 <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a>s during the commit phase. This partial
 order is necessary to avoid deadlocks for concurrently executing commit
 phases of distributed transactions that DO NOT share named index locks.
 Without a partial order over the participating <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s,
 deadlocks could arise because each transaction will grab an exclusive
 lock on the write service for each participating <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>.
 By ordering those lock requests, we again ensure that deadlocks can not
 occur.
 <p>
 Note: The prepare phase for distributed commits allows the maximum
 possible concurrency. This is especially important as validation and
 merging down onto the unisolated indices can have significant length for
 large transactions.
 <p>
 The commit phase should be very fast, with syncing the disk providing the
 primary source of latency. All participating indices on the participating
 data services have already been checkpointed. Once the commitTime is
 assigned by the <a href="../../../com/bigdata/service/DistributedTransactionService.html" title="class in com.bigdata.service"><code>DistributedTransactionService</code></a>, the group commit
 need only update the root block on the live journal and sync to disk.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#commitImpl(com.bigdata.service.AbstractTransactionService.TxState)">commitImpl</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The commit time for the transaction -or- ZERO (0L) if the
         transaction was read-only or had an empty write set.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if something else goes wrong. This will be (or will wrap) a
             <a href="../../../com/bigdata/journal/ValidationError.html" title="class in com.bigdata.journal"><code>ValidationError</code></a> if validation fails.</dd></dl>
</li>
</ul>
<a name="singlePhaseCommit(com.bigdata.service.AbstractTransactionService.TxState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>singlePhaseCommit</h4>
<pre>protected&nbsp;long&nbsp;singlePhaseCommit(<a href="../../../com/bigdata/service/AbstractTransactionService.TxState.html" title="class in com.bigdata.service">AbstractTransactionService.TxState</a>&nbsp;state)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Prepare and commit a read-write transaction that has written on a single
 data service.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="declareResources(long, java.util.UUID, java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>declareResources</h4>
<pre>public&nbsp;void&nbsp;declareResources(long&nbsp;tx,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataServiceUUID,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;resource)
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Note: Only those <a href="../../../com/bigdata/service/DataService.html" title="class in com.bigdata.service"><code>DataService</code></a>s on which a read-write transaction
 has started will participate in the commit. If there is only a single
 such <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>, then a single-phase commit will be used.
 Otherwise a distributed transaction commit protocol will be used.
 <p>
 Note: The commits requests are placed into a partial order by sorting the
 total set of resources which the transaction declares (via this method)
 across all operations executed by the transaction and then contending for
 locks on the named resources using a LockManager. This is
 handled by the <a href="../../../com/bigdata/service/DistributedTransactionService.html" title="class in com.bigdata.service"><code>DistributedTransactionService</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IDistributedTransactionService.html#declareResources(long,%20java.util.UUID,%20java.lang.String[])">declareResources</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IDistributedTransactionService.html" title="interface in com.bigdata.journal">IDistributedTransactionService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier.</dd><dd><code>dataServiceUUID</code> - The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> an <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> on which the
            transaction will write.</dd><dd><code>resource</code> - An array of the named resources which the transaction will use
            on that <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> (this may be different for each
            operation submitted by that transaction to the
            <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code></dd></dl>
</li>
</ul>
<a name="prepared(long, java.util.UUID)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepared</h4>
<pre>public&nbsp;long&nbsp;prepared(long&nbsp;tx,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataService)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BrokenBarrierException.html?is-external=true" title="class or interface in java.util.concurrent">BrokenBarrierException</a></pre>
<div class="block">Waits at "prepared" barrier. When the barrier breaks, examing the
 <code>TxState</code>. If the transaction is aborted, then throw an
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a>. Otherwise return the commitTime assigned
 to the transaction.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IDistributedTransactionService.html#prepared(long,%20java.util.UUID)">prepared</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IDistributedTransactionService.html" title="interface in com.bigdata.journal">IDistributedTransactionService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier.</dd><dd><code>dataService</code> - The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> of the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> which sent the
            message.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The assigned commit time.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the barrier is reset while the caller is waiting.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an RMI problem.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BrokenBarrierException.html?is-external=true" title="class or interface in java.util.concurrent">BrokenBarrierException</a></code></dd></dl>
</li>
</ul>
<a name="committed(long, java.util.UUID)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>committed</h4>
<pre>public&nbsp;boolean&nbsp;committed(long&nbsp;tx,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataService)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BrokenBarrierException.html?is-external=true" title="class or interface in java.util.concurrent">BrokenBarrierException</a></pre>
<div class="block">Wait at "committed" barrier. When the barrier breaks, examing the
 <code>TxState</code>. If the transaction is aborted, then return
 <code>false</code>. Otherwise return true.
 <p>
 Note: The <code>TxState</code> will be aborted if any of the committers throws
 an exception of their <a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)"><code>ITxCommitProtocol.prepare(long, long)</code></a>
 method.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IDistributedTransactionService.html#committed(long,%20java.util.UUID)">committed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IDistributedTransactionService.html" title="interface in com.bigdata.journal">IDistributedTransactionService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier.</dd><dd><code>dataService</code> - The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> of the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> which sent the
            message.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the distributed commit was successfull and
         <code>false</code> if there was a problem.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BrokenBarrierException.html?is-external=true" title="class or interface in java.util.concurrent">BrokenBarrierException</a></code></dd></dl>
</li>
</ul>
<a name="findCommitTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findCommitTime</h4>
<pre>protected&nbsp;long&nbsp;findCommitTime(long&nbsp;timestamp)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html#findCommitTime(long)">AbstractTransactionService</a></code></strong></div>
<div class="block">Find the commit time from which the tx will read (largest commitTime LTE
 timestamp).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#findCommitTime(long)">findCommitTime</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>timestamp</code> - The timestamp.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The commit time and -1L if there is no such commit time.</dd></dl>
</li>
</ul>
<a name="findNextCommitTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findNextCommitTime</h4>
<pre>protected&nbsp;long&nbsp;findNextCommitTime(long&nbsp;commitTime)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html#findNextCommitTime(long)">AbstractTransactionService</a></code></strong></div>
<div class="block">Return the commit time for the successor of that commit point have the
 specified timestamp (a commit time strictly GT the given value).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#findNextCommitTime(long)">findNextCommitTime</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>commitTime</code> - The probe.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The successor or -1L iff the is no successor for that commit
         time.</dd></dl>
</li>
</ul>
<a name="notifyCommit(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyCommit</h4>
<pre>public final&nbsp;void&nbsp;notifyCommit(long&nbsp;commitTime)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html#notifyCommit(long)">AbstractTransactionService</a></code></strong></div>
<div class="block">The basic implementation advances the release time periodically as
 commits occur even when there are no transactions in use.  
 <p>
 Note: This needs to be a fairly low-latency operation since this method
 is invoked for all commits on all data services and will otherwise be a
 global hotspot.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/ITransactionService.html#notifyCommit(long)">notifyCommit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal">ITransactionService</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#notifyCommit(long)">notifyCommit</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>commitTime</code> - The commit time.</dd></dl>
</li>
</ul>
<a name="getLastCommitTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastCommitTime</h4>
<pre>public final&nbsp;long&nbsp;getLastCommitTime()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html#getLastCommitTime()">AbstractTransactionService</a></code></strong></div>
<div class="block">Note: Declared abstract so that we can hide the <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io"><code>IOException</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/ITransactionService.html#getLastCommitTime()">getLastCommitTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal">ITransactionService</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#getLastCommitTime()">getLastCommitTime</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The last known commit time.</dd></dl>
</li>
</ul>
<a name="getCounters()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCounters</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a>&nbsp;getCounters()</pre>
<div class="block">Adds counters for the <a href="../../../com/bigdata/concurrent/LockManager.html" title="class in com.bigdata.concurrent"><code>LockManager</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/counters/ICounterSetAccess.html#getCounters()">getCounters</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/AbstractTransactionService.html#getCounters()">getCounters</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/bigdata/service/AbstractTransactionService.html" title="class in com.bigdata.service">AbstractTransactionService</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DistributedTransactionService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/service/DefaultServiceFederationDelegate.html" title="class in com.bigdata.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/service/DistributedTransactionService.NotifyReleaseTimeTask.html" title="class in com.bigdata.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/service/DistributedTransactionService.html" target="_top">Frames</a></li>
<li><a href="DistributedTransactionService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
