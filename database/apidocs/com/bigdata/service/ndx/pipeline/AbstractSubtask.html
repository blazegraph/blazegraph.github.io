<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Thu Feb 25 05:11:39 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AbstractSubtask (Blazegraph Database Platform 2.0.1 API)</title>
<meta name="date" content="2016-02-25">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractSubtask (Blazegraph Database Platform 2.0.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractSubtask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractRunnableMasterStats.StatisticsTask.html" title="class in com.bigdata.service.ndx.pipeline"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtaskStats.html" title="class in com.bigdata.service.ndx.pipeline"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/bigdata/service/ndx/pipeline/AbstractSubtask.html" target="_top">Frames</a></li>
<li><a href="AbstractSubtask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.service.ndx.pipeline</div>
<h2 title="Class AbstractSubtask" class="title">Class AbstractSubtask&lt;HS extends <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtaskStats.html" title="class in com.bigdata.service.ndx.pipeline">AbstractSubtaskStats</a>,M extends <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractMasterTask.html" title="class in com.bigdata.service.ndx.pipeline">AbstractMasterTask</a>&lt;? extends <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractMasterStats.html" title="class in com.bigdata.service.ndx.pipeline">AbstractMasterStats</a>&lt;L,HS&gt;,E,? extends AbstractSubtask,L&gt;,E,L&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.service.ndx.pipeline.AbstractSubtask&lt;HS,M,E,L&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>HS</code> - The generic type of the value returned by <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true#call()" title="class or interface in java.util.concurrent"><code>Callable.call()</code></a>
            for the subtask.</dd><dd><code>M</code> - The generic type of the master task implementation class.</dd><dd><code>E</code> - The generic type of the elements in the chunks stored in the
            <a href="../../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a>.</dd><dd><code>L</code> - The generic type of the key used to lookup a subtask in the
            internal map (must be unique and must implement hashCode() and
            equals() per their contracts).</dd></dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;HS&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractPendingSetSubtask.html" title="class in com.bigdata.service.ndx.pipeline">AbstractPendingSetSubtask</a>, <a href="../../../../../com/bigdata/service/ndx/pipeline/IndexPartitionWriteTask.html" title="class in com.bigdata.service.ndx.pipeline">IndexPartitionWriteTask</a>, <a href="../../../../../com/bigdata/service/ndx/pipeline/MockSubtask.html" title="class in com.bigdata.service.ndx.pipeline">MockSubtask</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">AbstractSubtask&lt;HS extends <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtaskStats.html" title="class in com.bigdata.service.ndx.pipeline">AbstractSubtaskStats</a>,M extends <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractMasterTask.html" title="class in com.bigdata.service.ndx.pipeline">AbstractMasterTask</a>&lt;? extends <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractMasterStats.html" title="class in com.bigdata.service.ndx.pipeline">AbstractMasterStats</a>&lt;L,HS&gt;,E,? extends AbstractSubtask,L&gt;,E,L&gt;</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;HS&gt;</pre>
<div class="block">Abstract implementation of a subtask for the <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractMasterTask.html" title="class in com.bigdata.service.ndx.pipeline"><code>AbstractMasterTask</code></a>
 handles the protocol for startup and termination of the subtask. A concrete
 implementation must handle the chunks of elements being drained from the
 subtask's <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#buffer"><code>buffer</code></a> via <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#handleChunk(E[])"><code>handleChunk(Object[])</code></a>.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath">BlockingBuffer</a>&lt;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">E</a>[]&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#buffer">buffer</a></strong></code>
<div class="block">The buffer on which the <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#master"><code>master</code></a> is writing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#lastChunkAvailableNanos">lastChunkAvailableNanos</a></strong></code>
<div class="block">The timestamp at <a href="../../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html#hasNext(long,%20java.util.concurrent.TimeUnit)"><code>IAsynchronousIterator.hasNext(long, TimeUnit)</code></a>
 last returned true when queried with a timeout of
 <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractMasterTask.html#sinkPollTimeoutNanos"><code>AbstractMasterTask.sinkPollTimeoutNanos</code></a> nanoseconds.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#lastChunkNanos">lastChunkNanos</a></strong></code>
<div class="block">The timestamp at which a chunk was last written on the buffer for this
 sink by the master.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">L</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#locator">locator</a></strong></code>
<div class="block">The unique key for the subtask.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#log">log</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">M</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#master">master</a></strong></code>
<div class="block">The master.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath">IAsynchronousIterator</a>&lt;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">E</a>[]&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#src">src</a></strong></code>
<div class="block">The iterator draining the <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#buffer"><code>buffer</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">HS</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#stats">stats</a></strong></code>
<div class="block">The statistics used by this task.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#AbstractSubtask(M,%20L,%20com.bigdata.relation.accesspath.BlockingBuffer)">AbstractSubtask</a></strong>(<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">M</a>&nbsp;master,
               <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">L</a>&nbsp;locator,
               <a href="../../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath">BlockingBuffer</a>&lt;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">E</a>[]&gt;&nbsp;buffer)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#awaitPending()">awaitPending</a></strong>()</code>
<div class="block">Wait until any asynchronous processing for the subtask is done.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">HS</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#call()">call</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#cancelRemoteTask(boolean)">cancelRemoteTask</a></strong>(boolean&nbsp;mayInterruptIfRunning)</code>
<div class="block">Cancel the remote task.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#handleChunk(E[])">handleChunk</a></strong>(<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">E</a>[]&nbsp;chunk)</code>
<div class="block">Process a chunk from the buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#handleRedirect(E[],%20java.lang.Throwable)">handleRedirect</a></strong>(<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">E</a>[]&nbsp;chunk,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;cause)</code>
<div class="block">This method MUST be invoked if a sink receives a
 "stale locator exception" within <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#handleChunk(E[])"><code>handleChunk(Object[])</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#notifyClientOfRedirect(L,%20java.lang.Throwable)">notifyClientOfRedirect</a></strong>(<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">L</a>&nbsp;locator,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;cause)</code>
<div class="block">Notify the client that the locator is stale.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre>protected static final transient&nbsp;org.apache.log4j.Logger log</pre>
</li>
</ul>
<a name="master">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>master</h4>
<pre>protected final&nbsp;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">M</a> extends <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractMasterTask.html" title="class in com.bigdata.service.ndx.pipeline">AbstractMasterTask</a>&lt;? extends <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractMasterStats.html" title="class in com.bigdata.service.ndx.pipeline">AbstractMasterStats</a>&lt;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">L</a>,<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">HS</a>&gt;,<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">E</a>,? extends <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="class in com.bigdata.service.ndx.pipeline">AbstractSubtask</a>,<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">L</a>&gt; master</pre>
<div class="block">The master.</div>
</li>
</ul>
<a name="locator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locator</h4>
<pre>protected final&nbsp;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">L</a> locator</pre>
<div class="block">The unique key for the subtask.</div>
</li>
</ul>
<a name="buffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buffer</h4>
<pre>protected final&nbsp;<a href="../../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath">BlockingBuffer</a>&lt;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">E</a>[]&gt; buffer</pre>
<div class="block">The buffer on which the <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#master"><code>master</code></a> is writing.</div>
</li>
</ul>
<a name="src">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>src</h4>
<pre>protected final&nbsp;<a href="../../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html" title="interface in com.bigdata.relation.accesspath">IAsynchronousIterator</a>&lt;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">E</a>[]&gt; src</pre>
<div class="block">The iterator draining the <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#buffer"><code>buffer</code></a>.
 <p>
 Note: DO NOT close this iterator from within <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#call()"><code>call()</code></a> as that
 would cause this task to interrupt itself!</div>
</li>
</ul>
<a name="stats">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stats</h4>
<pre>protected final&nbsp;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">HS</a> extends <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtaskStats.html" title="class in com.bigdata.service.ndx.pipeline">AbstractSubtaskStats</a> stats</pre>
<div class="block">The statistics used by this task.</div>
</li>
</ul>
<a name="lastChunkNanos">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastChunkNanos</h4>
<pre>protected volatile&nbsp;long lastChunkNanos</pre>
<div class="block">The timestamp at which a chunk was last written on the buffer for this
 sink by the master. This is used to help determine whether or not a sink
 has become idle. A sink on which a master has recently written a chunk is
 not idle even if the sink has not read any chunks from its buffer.</div>
</li>
</ul>
<a name="lastChunkAvailableNanos">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lastChunkAvailableNanos</h4>
<pre>protected volatile&nbsp;long lastChunkAvailableNanos</pre>
<div class="block">The timestamp at <a href="../../../../../com/bigdata/relation/accesspath/IAsynchronousIterator.html#hasNext(long,%20java.util.concurrent.TimeUnit)"><code>IAsynchronousIterator.hasNext(long, TimeUnit)</code></a>
 last returned true when queried with a timeout of
 <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractMasterTask.html#sinkPollTimeoutNanos"><code>AbstractMasterTask.sinkPollTimeoutNanos</code></a> nanoseconds. This tests
 whether or not a chunk is available and is used to help decide if the
 sink has become idle. (A sink with an available chunk is never idle.)</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AbstractSubtask(com.bigdata.service.ndx.pipeline.AbstractMasterTask,java.lang.Object,com.bigdata.relation.accesspath.BlockingBuffer)">
<!--   -->
</a><a name="AbstractSubtask(M, L, com.bigdata.relation.accesspath.BlockingBuffer)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractSubtask</h4>
<pre>public&nbsp;AbstractSubtask(<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">M</a>&nbsp;master,
               <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">L</a>&nbsp;locator,
               <a href="../../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath">BlockingBuffer</a>&lt;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">E</a>[]&gt;&nbsp;buffer)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="call()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>call</h4>
<pre>public&nbsp;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">HS</a>&nbsp;call()
                                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true#call()" title="class or interface in java.util.concurrent">call</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">HS</a> extends <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtaskStats.html" title="class in com.bigdata.service.ndx.pipeline">AbstractSubtaskStats</a>&gt;</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="awaitPending()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitPending</h4>
<pre>protected&nbsp;void&nbsp;awaitPending()
                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Wait until any asynchronous processing for the subtask is done. This is
 an extension hook which is used if the remote task accepts chunks for
 processing and uses an asynchronous notification mechanism to indicate
 the success or failure of elements. The default implementation is a NOP.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="cancelRemoteTask(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelRemoteTask</h4>
<pre>protected&nbsp;void&nbsp;cancelRemoteTask(boolean&nbsp;mayInterruptIfRunning)
                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Cancel the remote task. This is an extension hook which is used if the
 remote task accepts chunks for processing and uses an asynchronous
 notification mechanism to indicate the success or failure of elements.
 The default implementation is a NOP.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="handleRedirect(java.lang.Object[],java.lang.Throwable)">
<!--   -->
</a><a name="handleRedirect(E[], java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleRedirect</h4>
<pre>protected&nbsp;void&nbsp;handleRedirect(<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">E</a>[]&nbsp;chunk,
                  <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;cause)
                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">This method MUST be invoked if a sink receives a
 "stale locator exception" within <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#handleChunk(E[])"><code>handleChunk(Object[])</code></a>.
 <p>
 This method asynchronously closes the <i>sink</i>, so that no further
 data may be written on it by setting the <i>cause</i> on
 <a href="../../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#abort(java.lang.Throwable)"><code>BlockingBuffer.abort(Throwable)</code></a>. Next, the current chunk is
 placed onto the master's redirectQueue and the sink's <a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html#buffer"><code>buffer</code></a> is
 drained, transferring all chunks which can be read from that buffer onto
 the master's redirectQueue.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>chunk</code> - The chunk which the sink was processing when it discovered
            that it need to redirect its outputs to a different sink (that
            is, a chunk which it had already read from its buffer and
            hence which needs to be redirected now).</dd><dd><code>cause</code> - The stale locator exception.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="handleChunk(java.lang.Object[])">
<!--   -->
</a><a name="handleChunk(E[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleChunk</h4>
<pre>protected abstract&nbsp;boolean&nbsp;handleChunk(<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">E</a>[]&nbsp;chunk)
                                throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Process a chunk from the buffer.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> iff the task should exit immediately.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="notifyClientOfRedirect(java.lang.Object,java.lang.Throwable)">
<!--   -->
</a><a name="notifyClientOfRedirect(L, java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>notifyClientOfRedirect</h4>
<pre>protected abstract&nbsp;void&nbsp;notifyClientOfRedirect(<a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtask.html" title="type parameter in AbstractSubtask">L</a>&nbsp;locator,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;cause)</pre>
<div class="block">Notify the client that the locator is stale.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>locator</code> - The locator.</dd><dd><code>cause</code> - The cause.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractSubtask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractRunnableMasterStats.StatisticsTask.html" title="class in com.bigdata.service.ndx.pipeline"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/bigdata/service/ndx/pipeline/AbstractSubtaskStats.html" title="class in com.bigdata.service.ndx.pipeline"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/bigdata/service/ndx/pipeline/AbstractSubtask.html" target="_top">Frames</a></li>
<li><a href="AbstractSubtask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
