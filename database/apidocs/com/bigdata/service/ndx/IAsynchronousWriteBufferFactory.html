<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Tue Jan 26 05:09:25 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>IAsynchronousWriteBufferFactory (Blazegraph Database Platform 2.0.0 API)</title>
<meta name="date" content="2016-01-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IAsynchronousWriteBufferFactory (Blazegraph Database Platform 2.0.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IAsynchronousWriteBufferFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/service/ndx/DataServiceTupleIterator.html" title="class in com.bigdata.service.ndx"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/service/ndx/IClientIndex.html" title="interface in com.bigdata.service.ndx"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/service/ndx/IAsynchronousWriteBufferFactory.html" target="_top">Frames</a></li>
<li><a href="IAsynchronousWriteBufferFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.service.ndx</div>
<h2 title="Interface IAsynchronousWriteBufferFactory" class="title">Interface IAsynchronousWriteBufferFactory</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../com/bigdata/service/ndx/IScaleOutClientIndex.html" title="interface in com.bigdata.service.ndx">IScaleOutClientIndex</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../com/bigdata/service/ndx/AbstractScaleOutClientIndexView.html" title="class in com.bigdata.service.ndx">AbstractScaleOutClientIndexView</a>, <a href="../../../../com/bigdata/service/ndx/AbstractScaleOutClientIndexView2.html" title="class in com.bigdata.service.ndx">AbstractScaleOutClientIndexView2</a>, <a href="../../../../com/bigdata/service/ndx/ClientIndexView.html" title="class in com.bigdata.service.ndx">ClientIndexView</a>, <a href="../../../../com/bigdata/service/ndx/ClientIndexViewRefactor.html" title="class in com.bigdata.service.ndx">ClientIndexViewRefactor</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">IAsynchronousWriteBufferFactory</span></pre>
<div class="block">Interface for asynchronous writes on scale-out indices.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../com/bigdata/btree/proc/IKeyArrayIndexProcedure.html" title="interface in com.bigdata.btree.proc">IKeyArrayIndexProcedure</a>,O,R,A&gt;&nbsp;<br><a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html" title="interface in com.bigdata.relation.accesspath">IRunnableBuffer</a>&lt;<a href="../../../../com/bigdata/btree/keys/KVO.html" title="class in com.bigdata.btree.keys">KVO</a>&lt;O&gt;[]&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/bigdata/service/ndx/IAsynchronousWriteBufferFactory.html#newWriteBuffer(com.bigdata.btree.proc.IResultHandler,%20com.bigdata.service.ndx.pipeline.IDuplicateRemover,%20com.bigdata.btree.proc.AbstractKeyArrayIndexProcedureConstructor)">newWriteBuffer</a></strong>(<a href="../../../../com/bigdata/btree/proc/IResultHandler.html" title="interface in com.bigdata.btree.proc">IResultHandler</a>&lt;R,A&gt;&nbsp;resultHandler,
              <a href="../../../../com/bigdata/service/ndx/pipeline/IDuplicateRemover.html" title="interface in com.bigdata.service.ndx.pipeline">IDuplicateRemover</a>&lt;O&gt;&nbsp;duplicateRemover,
              <a href="../../../../com/bigdata/btree/proc/AbstractKeyArrayIndexProcedureConstructor.html" title="class in com.bigdata.btree.proc">AbstractKeyArrayIndexProcedureConstructor</a>&lt;T&gt;&nbsp;ctor)</code>
<div class="block">Asynchronous write API (streaming writes).</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newWriteBuffer(com.bigdata.btree.proc.IResultHandler, com.bigdata.service.ndx.pipeline.IDuplicateRemover, com.bigdata.btree.proc.AbstractKeyArrayIndexProcedureConstructor)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>newWriteBuffer</h4>
<pre>&lt;T extends <a href="../../../../com/bigdata/btree/proc/IKeyArrayIndexProcedure.html" title="interface in com.bigdata.btree.proc">IKeyArrayIndexProcedure</a>,O,R,A&gt;&nbsp;<a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html" title="interface in com.bigdata.relation.accesspath">IRunnableBuffer</a>&lt;<a href="../../../../com/bigdata/btree/keys/KVO.html" title="class in com.bigdata.btree.keys">KVO</a>&lt;O&gt;[]&gt;&nbsp;newWriteBuffer(<a href="../../../../com/bigdata/btree/proc/IResultHandler.html" title="interface in com.bigdata.btree.proc">IResultHandler</a>&lt;R,A&gt;&nbsp;resultHandler,
                                                                                 <a href="../../../../com/bigdata/service/ndx/pipeline/IDuplicateRemover.html" title="interface in com.bigdata.service.ndx.pipeline">IDuplicateRemover</a>&lt;O&gt;&nbsp;duplicateRemover,
                                                                                 <a href="../../../../com/bigdata/btree/proc/AbstractKeyArrayIndexProcedureConstructor.html" title="class in com.bigdata.btree.proc">AbstractKeyArrayIndexProcedureConstructor</a>&lt;T&gt;&nbsp;ctor)</pre>
<div class="block">Asynchronous write API (streaming writes).
 <p>
 The returned buffer provides a streaming API which is highly efficient.
 The caller writes ordered <a href="../../../../com/bigdata/btree/keys/KVO.html" title="class in com.bigdata.btree.keys"><code>KVO</code></a>[] chunks onto the thread-safe
 <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a>. Those chunks are dynamically combined and then
 split into per-index partition chunks which are written on internally
 managed <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a>s for each index partition which will be
 touched by a write operation. The splits are slices of ordered chunks for
 a specific index partition. The <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a> uses a merge sort
 when it combines ordered chunks so that the combined chunks remain fully
 ordered. Once a chunk is ready, it is re-shaped for the CTOR and sent to
 the target data service using RMI.
 <p>
 Since this API is asynchronous, you will not have synchronous access to
 values returned by asynchronous writes. However, patterns can be created
 using <a href="../../../../com/bigdata/service/ndx/pipeline/KVOC.html" title="class in com.bigdata.service.ndx.pipeline"><code>KVOC</code></a> and <a href="../../../../com/bigdata/service/ndx/pipeline/KVOLatch.html" title="class in com.bigdata.service.ndx.pipeline"><code>KVOLatch</code></a> which provide notification when
 application defined sets of results have become available. Such patterns
 are created by associated the <a href="../../../../com/bigdata/service/ndx/pipeline/KVOLatch.html" title="class in com.bigdata.service.ndx.pipeline"><code>KVOLatch</code></a> with the set of results
 and using <a href="../../../../com/bigdata/btree/proc/IResultHandler.html" title="interface in com.bigdata.btree.proc"><code>IResultHandler</code></a> and the object reference on the
 <a href="../../../../com/bigdata/service/ndx/pipeline/KVOC.html" title="class in com.bigdata.service.ndx.pipeline"><code>KVOC</code></a> to capture the side-effect of the write.
 <p>
 <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html#getFuture()"><code>BlockingBuffer.getFuture()</code></a> may be used to obtain the
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> of the consumer. You can use <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true#get()" title="class or interface in java.util.concurrent"><code>Future.get()</code></a> to await
 the completion of the consumer, to cancel the consumer, etc. The
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> will not terminate (other than by error) until the buffer
 has been <a href="../../../../com/bigdata/relation/accesspath/IRunnableBuffer.html#close()"><code>closed</code></a>. The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>
 evaluates to an <a href="../../../../com/bigdata/service/ndx/pipeline/IndexAsyncWriteStats.html" title="class in com.bigdata.service.ndx.pipeline"><code>IndexAsyncWriteStats</code></a> object. Those statistics are
 also reported to the <a href="../../../../com/bigdata/service/ILoadBalancerService.html" title="interface in com.bigdata.service"><code>ILoadBalancerService</code></a> via the
 <a href="../../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service"><code>IBigdataFederation</code></a>.
 <p>
 Each buffer returned by this method is independent, and writes onto
 independent sinks which write through to the index partitions. This is
 necessary in order for the caller to retain control over the life cycle
 of their write operations. The <a href="../../../../com/bigdata/relation/accesspath/BlockingBuffer.html" title="class in com.bigdata.relation.accesspath"><code>BlockingBuffer</code></a> is thread-safe so
 it may be the target for concurrent producers can be can utilized to
 create very high throughput designs. While the returned buffers are
 independent, the performance counters for all asynchronous write buffers
 for a given client and scale-out index are aggregated by a single
 <a href="../../../../com/bigdata/service/ndx/ScaleOutIndexCounters.html" title="class in com.bigdata.service.ndx"><code>ScaleOutIndexCounters</code></a> instance.</div>
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - The generic type of the procedure used to write on the index.</dd><dd><code>O</code> - The generic type for unserialized value objects.</dd><dd><code>R</code> - The type of the result from applying the index procedure to a
            single <a href="../../../../com/bigdata/service/Split.html" title="class in com.bigdata.service"><code>Split</code></a> of data.</dd><dd><code>A</code> - The type of the aggregated result.</dd><dt><span class="strong">Parameters:</span></dt><dd><code>resultHandler</code> - Used to aggregate results.</dd><dd><code>duplicateRemover</code> - Used to filter out duplicates in an application specified
            manner (optional).</dd><dd><code>ctor</code> - Used to create instances of the procedure that will execute a
            write on an individual index partition (this implies that
            insert and remove operations as well as custom index write
            operations must use separate buffers).</dd>
<dt><span class="strong">Returns:</span></dt><dd>A buffer on which the producer may write their data.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/bigdata/btree/IndexMetadata.html#getAsynchronousIndexWriteConfiguration()"><code>IndexMetadata.getAsynchronousIndexWriteConfiguration()</code></a>, 
<a href="../../../../com/bigdata/service/AbstractFederation.html#getIndexCounters(java.lang.String)"><code>AbstractFederation.getIndexCounters(String)</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IAsynchronousWriteBufferFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bigdata/service/ndx/DataServiceTupleIterator.html" title="class in com.bigdata.service.ndx"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/bigdata/service/ndx/IClientIndex.html" title="interface in com.bigdata.service.ndx"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bigdata/service/ndx/IAsynchronousWriteBufferFactory.html" target="_top">Frames</a></li>
<li><a href="IAsynchronousWriteBufferFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
