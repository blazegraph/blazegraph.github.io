<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Mon Mar 18 18:55:11 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AbstractJournal (Blazegraph Database Platform 2.1.5 API)</title>
<meta name="date" content="2019-03-18">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractJournal (Blazegraph Database Platform 2.1.5 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractJournal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/journal/AbstractInterruptsTestCase.html" title="class in com.bigdata.journal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/journal/AbstractJournal.BasicHA.html" title="class in com.bigdata.journal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/journal/AbstractJournal.html" target="_top">Frames</a></li>
<li><a href="AbstractJournal.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.journal</div>
<h2 title="Class AbstractJournal" class="title">Class AbstractJournal</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.journal.AbstractJournal</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="../../../com/bigdata/journal/IAtomicStore.html" title="interface in com.bigdata.journal">IAtomicStore</a>, <a href="../../../com/bigdata/journal/IBTreeManager.html" title="interface in com.bigdata.journal">IBTreeManager</a>, <a href="../../../com/bigdata/journal/IGISTLocalManager.html" title="interface in com.bigdata.journal">IGISTLocalManager</a>, <a href="../../../com/bigdata/journal/IGISTManager.html" title="interface in com.bigdata.journal">IGISTManager</a>, <a href="../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal">IIndexManager</a>, <a href="../../../com/bigdata/journal/IIndexStore.html" title="interface in com.bigdata.journal">IIndexStore</a>, <a href="../../../com/bigdata/journal/IJournal.html" title="interface in com.bigdata.journal">IJournal</a>, <a href="../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a>, <a href="../../../com/bigdata/rawstore/IAllocationManagerStore.html" title="interface in com.bigdata.rawstore">IAllocationManagerStore</a>, <a href="../../../com/bigdata/rawstore/IMRMW.html" title="interface in com.bigdata.rawstore">IMRMW</a>, <a href="../../../com/bigdata/rawstore/IMROW.html" title="interface in com.bigdata.rawstore">IMROW</a>, <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a>, <a href="../../../com/bigdata/rawstore/IStreamStore.html" title="interface in com.bigdata.rawstore">IStreamStore</a>, <a href="../../../com/bigdata/rwstore/IAllocationManager.html" title="interface in com.bigdata.rwstore">IAllocationManager</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../com/bigdata/journal/Journal.html" title="class in com.bigdata.journal">Journal</a>, <a href="../../../com/bigdata/resources/StoreManager.ManagedJournal.html" title="class in com.bigdata.resources">StoreManager.ManagedJournal</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">AbstractJournal</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../com/bigdata/journal/IJournal.html" title="interface in com.bigdata.journal">IJournal</a>, <a href="../../../com/bigdata/rwstore/IAllocationManager.html" title="interface in com.bigdata.rwstore">IAllocationManager</a>, <a href="../../../com/bigdata/rawstore/IAllocationManagerStore.html" title="interface in com.bigdata.rawstore">IAllocationManagerStore</a></pre>
<div class="block"><p>
 The journal is a persistence capable data structure supporting atomic commit,
 named indices, and full transactions. The <a href="../../../com/bigdata/journal/BufferMode.html#DiskRW"><code>BufferMode.DiskRW</code></a> mode
 provides an persistence scheme based on reusable allocation slots while the
 <a href="../../../com/bigdata/journal/BufferMode.html#DiskWORM"><code>BufferMode.DiskWORM</code></a> mode provides an append only persistence scheme.
 Journals may be configured in highly available quorums.
 </p>
 <p>
 This class is an abstract implementation of the <a href="../../../com/bigdata/journal/IJournal.html" title="interface in com.bigdata.journal"><code>IJournal</code></a> interface
 that does not implement the <a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal"><code>IConcurrencyManager</code></a>,
 <a href="../../../com/bigdata/journal/IResourceManager.html" title="interface in com.bigdata.journal"><code>IResourceManager</code></a>, or <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal"><code>ITransactionService</code></a> interfaces. The
 <a href="../../../com/bigdata/journal/Journal.html" title="class in com.bigdata.journal"><code>Journal</code></a> provides a concrete implementation that may be used for a
 standalone database complete with concurrency control and transaction
 management.
 </p> <h2>Limitations</h2>
 <p>
 The <a href="../../../com/bigdata/journal/IIndexStore.html" title="interface in com.bigdata.journal"><code>IIndexStore</code></a> implementation on this class is NOT thread-safe. The
 basic limitation is that the mutable <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> is NOT thread-safe. The
 <a href="../../../com/bigdata/journal/AbstractJournal.html#getIndex(java.lang.String)"><code>getIndex(String)</code></a> method exposes this mutable <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>. If you
 use this method to access the mutable <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> then YOU are responsible
 for avoiding concurrent writes on the returned object.
 </p>
 <p>
 See <a href="../../../com/bigdata/journal/IConcurrencyManager.html#submit(com.bigdata.journal.AbstractTask)"><code>IConcurrencyManager.submit(AbstractTask)</code></a> for a thread-safe API
 that provides suitable concurrency control for both isolated and unisolated
 operations on named indices. Note that the use of the thread-safe API does
 NOT protect against applications that directly access the mutable
 <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> using <a href="../../../com/bigdata/journal/AbstractJournal.html#getIndex(java.lang.String)"><code>getIndex(String)</code></a>.
 </p>
 <p>
 The <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a> interface on this class is thread-safe. However, this
 is a low-level API that is not used by directly by most applications. The
 <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> class uses this low-level API to read and write its nodes and
 leaves on the store. Applications generally use named indices rather than the
 <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a> interface.
 </p>
 <p>
 Note: transaction processing MAY occur be concurrent since the write set of a
 each transaction is written on a distinct <a href="../../../com/bigdata/journal/TemporaryStore.html" title="class in com.bigdata.journal"><code>TemporaryStore</code></a>. However,
 without additional concurrency controls, each transaction is NOT thread-safe
 and MUST NOT be executed by more than one concurrent thread. Again, see
 <a href="../../../com/bigdata/journal/IConcurrencyManager.html#submit(com.bigdata.journal.AbstractTask)"><code>IConcurrencyManager.submit(AbstractTask)</code></a> for a high-concurrency API
 for both isolated operations (transactions) and unisolated operations. Note
 that the <a href="../../../com/bigdata/journal/TemporaryStore.html" title="class in com.bigdata.journal"><code>TemporaryStore</code></a> backing a transaction will spill
 automatically from memory onto disk if the write set of the transaction grows
 too large.
 </p>
 <h2>Commit processing</h2>
 <p>
 The journal maintains two root blocks. Commit updates the root blocks using
 the Challis algorithm. (The root blocks are updated using an alternating
 pattern and "timestamps" are recorded at the head and tail of each root block
 to detect partial writes. See <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal"><code>IRootBlockView</code></a> and
 <a href="../../../com/bigdata/journal/RootBlockView.html" title="class in com.bigdata.journal"><code>RootBlockView</code></a>.) When the journal is backed by a disk file, the data
 are <a href="../../../com/bigdata/journal/Options.html#FORCE_ON_COMMIT"><code>optionally flushed to disk on commit</code></a>. If
 desired, the writes may be flushed before the root blocks are updated to
 ensure that the writes are not reordered - see <a href="../../../com/bigdata/journal/Options.html#DOUBLE_SYNC"><code>Options.DOUBLE_SYNC</code></a>.
 </p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.BasicHA.html" title="class in com.bigdata.journal">AbstractJournal.BasicHA</a></strong></code>
<div class="block">Implementation hooks into the various low-level operations required to
 support HA for the journal.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.ISnapshotData.html" title="interface in com.bigdata.journal">AbstractJournal.ISnapshotData</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.ISnapshotEntry.html" title="interface in com.bigdata.journal">AbstractJournal.ISnapshotEntry</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.SnapshotData.html" title="class in com.bigdata.journal">AbstractJournal.SnapshotData</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#DELETEBLOCK">DELETEBLOCK</a></strong></code>
<div class="block">The index of the root address of the delete blocks associated with
 this transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#deleteOnClose">deleteOnClose</a></strong></code>
<div class="block">Option set by the test suites causes the file backing the journal to be
 deleted when the journal is closed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#doubleSync">doubleSync</a></strong></code>
<div class="block">Option controls whether the journal forces application data to disk
 before updating the root blocks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/journal/ForceEnum.html" title="enum in com.bigdata.journal">ForceEnum</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#forceOnCommit">forceOnCommit</a></strong></code>
<div class="block">Option controls how the journal behaves during a commit.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#haLog">haLog</a></strong></code>
<div class="block">Logger for HA events.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#PREV_ROOTBLOCK">PREV_ROOTBLOCK</a></strong></code>
<div class="block">The index of the root address where the root block copy from the previous
 commit is stored.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#properties">properties</a></strong></code>
<div class="block">A clone of the properties used to initialize the <a href="../../../com/bigdata/journal/Journal.html" title="class in com.bigdata.journal"><code>Journal</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#ROOT_ICUVERSION">ROOT_ICUVERSION</a></strong></code>
<div class="block">The index of the root address containing the <a href="../../../com/bigdata/btree/keys/ICUVersionRecord.html" title="class in com.bigdata.btree.keys"><code>ICUVersionRecord</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#ROOT_NAME2ADDR">ROOT_NAME2ADDR</a></strong></code>
<div class="block">The index of the root address containing the address of the persistent
 <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> mapping names to <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>s registered for the
 store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#tmpDir">tmpDir</a></strong></code>
<div class="block">The directory that should be used for temporary files.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.rawstore.IAddressManager">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.bigdata.rawstore.<a href="../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></h3>
<code><a href="../../../com/bigdata/rawstore/IAddressManager.html#NULL">NULL</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#AbstractJournal(java.util.Properties)">AbstractJournal</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties)</code>
<div class="block">Create or re-open a journal.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#AbstractJournal(java.util.Properties,%20com.bigdata.quorum.Quorum)">AbstractJournal</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties,
               <a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum">Quorum</a>&lt;<a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a>,<a href="../../../com/bigdata/ha/QuorumService.html" title="interface in com.bigdata.ha">QuorumService</a>&lt;<a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a>&gt;&gt;&nbsp;quorum)</code>
<div class="block">Create or re-open a journal as part of a highly available <a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum"><code>Quorum</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#_close()">_close</a></strong>()</code>
<div class="block">Core implementation of immediate shutdown handles event reporting.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal">Name2Addr</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#_getName2Addr()">_getName2Addr</a></strong>()</code>
<div class="block">Return the "live" BTree mapping index names to the last metadata record
 committed for the named index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#abort()">abort</a></strong>()</code>
<div class="block">Abandon the current write set (synchronous).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#abortContext(com.bigdata.rawstore.IAllocationContext)">abortContext</a></strong>(<a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</code>
<div class="block">Indicates that the allocation context will no longer be used and that the
 allocations made within the context should be discarded.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#assertBefore(java.util.UUID,%20java.util.UUID,%20long,%20long)">assertBefore</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;serviceId1,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;serviceId2,
            long&nbsp;t1,
            long&nbsp;t2)</code>
<div class="block">Assert that <code>t1</code> LT <code>t2</code>, where <code>t1</code> and
 <code>t2</code> are timestamps obtain such that this relation will be
 <code>true</code> if the clocks on the nodes are synchronized.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#assertCanRead()">assertCanRead</a></strong>()</code>
<div class="block">Assert that the journal is readable.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#assertCanWrite()">assertCanWrite</a></strong>()</code>
<div class="block">Assert that the journal is writable.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#assertCommitTimeAdvances(long)">assertCommitTimeAdvances</a></strong>(long&nbsp;commitTime)</code>
<div class="block">Method verifies that the commit time strictly advances on the local store
 by checking against the current root block.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#assertHAReady(long)">assertHAReady</a></strong>(long&nbsp;token)</code>
<div class="block">Assert that the <a href="../../../com/bigdata/journal/AbstractJournal.html#getHAReady()"><code>getHAReady()</code></a> token has the specified value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#assertOpen()">assertOpen</a></strong>()</code>
<div class="block">Assert that the store is open.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#assertPriorCommitTimeAdvances(long,%20long)">assertPriorCommitTimeAdvances</a></strong>(long&nbsp;currentCommitTime,
                             long&nbsp;priorCommitTime)</code>
<div class="block">Method verifies that the commit time strictly advances on the local store
 by checking against the current root block.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#awaitHAReady(long,%20java.util.concurrent.TimeUnit)">awaitHAReady</a></strong>(long&nbsp;timeout,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;units)</code>
<div class="block">Await the service being ready to partitipate in an HA quorum.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#clearQuorumToken(long)">clearQuorumToken</a></strong>(long&nbsp;newValue)</code>
<div class="block">This method will update the quorum token on the journal and the
 associated values <em>as if</em> the service was not joined with a met
 quorum.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#close()">close</a></strong>()</code>
<div class="block">Invokes <a href="../../../com/bigdata/journal/AbstractJournal.html#shutdownNow()"><code>shutdownNow()</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#closeForWrites(long)">closeForWrites</a></strong>(long&nbsp;closeTime)</code>
<div class="block">Restart safe conversion of the store into a read-only store with the
 specified <i>closeTime</i>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#commit()">commit</a></strong>()</code>
<div class="block">Atomic commit (synchronous).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#commitNow(long)">commitNow</a></strong>(long&nbsp;commitTime)</code>
<div class="block">An atomic commit is performed by directing each registered
 <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal"><code>ICommitter</code></a> to flush its state onto the store using
 <a href="../../../com/bigdata/journal/ICommitter.html#handleCommit(long)"><code>ICommitter.handleCommit(long)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#delete(long)">delete</a></strong>(long&nbsp;addr)</code>
<div class="block">Delete the data (unisolated).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#delete(long,%20com.bigdata.rawstore.IAllocationContext)">delete</a></strong>(long&nbsp;addr,
      <a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</code>
<div class="block">Delete the data associated with the address within the allocation
 context.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#deleteResources()">deleteResources</a></strong>()</code>
<div class="block">Deletes the backing file(s) (if any).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#destroy()">destroy</a></strong>()</code>
<div class="block">Closes the store immediately (if open) and deletes its persistent
 resources.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#detachContext(com.bigdata.rawstore.IAllocationContext)">detachContext</a></strong>(<a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</code>
<div class="block">Indicates that the allocation context will no longer be used, but that
 the allocations made within the context should be preserved.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#discardCommitters()">discardCommitters</a></strong>()</code>
<div class="block">This method is invoked by <a href="../../../com/bigdata/journal/AbstractJournal.html#abort()"><code>abort()</code></a> when the store must discard
 any hard references that it may be holding to objects registered as
 <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal"><code>ICommitter</code></a>s.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#doLocalAbort()">doLocalAbort</a></strong>()</code>
<div class="block">Local commit protocol (HA).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#doLocalCommit(com.bigdata.journal.IRootBlockView)">doLocalCommit</a></strong>(<a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;rootBlock)</code>
<div class="block">Local commit protocol (HA, offline).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#doLocalCommit(com.bigdata.ha.QuorumService,%20com.bigdata.journal.IRootBlockView)">doLocalCommit</a></strong>(<a href="../../../com/bigdata/ha/QuorumService.html" title="interface in com.bigdata.ha">QuorumService</a>&lt;<a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a>&gt;&nbsp;localService,
             <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;rootBlock)</code>
<div class="block">Local commit protocol (HA).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#dropIndex(java.lang.String)">dropIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Drops the named index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#ensureMinFree(long)">ensureMinFree</a></strong>(long&nbsp;minFree)</code>
<div class="block">Make sure that the journal has at least the specified number of bytes of
 unused capacity remaining in the user extent.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#finalize()">finalize</a></strong>()</code>
<div class="block">Closes out the journal iff it is still open.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#force(boolean)">force</a></strong>(boolean&nbsp;metadata)</code>
<div class="block">Force the data to stable storage.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getBufferStrategy()">getBufferStrategy</a></strong>()</code>
<div class="block">Return the delegate that implements the <a href="../../../com/bigdata/journal/BufferMode.html" title="enum in com.bigdata.journal"><code>BufferMode</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getByteCount(long)">getByteCount</a></strong>(long&nbsp;addr)</code>
<div class="block">The length of the datum in bytes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal">ICommitRecord</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getCommitRecord()">getCommitRecord</a></strong>()</code>
<div class="block">Returns a read-only view of the most recently committed
 <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> containing the root addresses.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal">ICommitRecord</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getCommitRecord(long)">getCommitRecord</a></strong>(long&nbsp;commitTime)</code>
<div class="block">Return the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> for the most recent committed state
 whose commit timestamp is less than or equal to <i>timestamp</i>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal">CommitRecordIndex</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getCommitRecordIndex(long,%20boolean)">getCommitRecordIndex</a></strong>(long&nbsp;addr,
                    boolean&nbsp;readOnly)</code>
<div class="block">Create or load and return the index that resolves timestamps to
 <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a>s.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal">ICommitRecord</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getCommitRecordStrictlyGreaterThan(long)">getCommitRecordStrictlyGreaterThan</a></strong>(long&nbsp;commitTime)</code>
<div class="block">Return the first commit record whose timestamp is strictly greater than
 the given commitTime.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getCounters()">getCounters</a></strong>()</code>
<div class="block">Return counters reporting on various aspects of the journal.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal">ICommitRecord</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getEarliestVisibleCommitRecordForHA(long)">getEarliestVisibleCommitRecordForHA</a></strong>(long&nbsp;releaseTime)</code>
<div class="block">Resolve the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> for the earliest visible commit point
 based on the caller's <i>releaseTime</i>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getExecutorService()">getExecutorService</a></strong>()</code>
<div class="block">Service for running arbitrary tasks in support of
 <a href="../../../com/bigdata/relation/locator/IResourceLocator.html" title="interface in com.bigdata.relation.locator"><code>IResourceLocator</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getFile()">getFile</a></strong>()</code>
<div class="block">The backing file -or- <code>null</code> if there is no backing file
 for the store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getHAPrepareTimeout()">getHAPrepareTimeout</a></strong>()</code>
<div class="block">The HA timeout in milliseconds for a 2-phase prepare.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getHAReady()">getHAReady</a></strong>()</code>
<div class="block">Returns the current value of the <code>haReadyToken</code>
 (non-blocking).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getHAReleaseTimeConsensusTimeout()">getHAReleaseTimeConsensusTimeout</a></strong>()</code>
<div class="block">The HA timeout in milliseconds for the release time consensus protocol.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/ha/HAStatusEnum.html" title="enum in com.bigdata.ha">HAStatusEnum</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getHAStatus()">getHAStatus</a></strong>()</code>
<div class="block">A simplified summary of the HA status of the service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getHistoricalIndexCacheSize()">getHistoricalIndexCacheSize</a></strong>()</code>
<div class="block">The size of the canonicalizing cache from addr to <a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getIndex(java.lang.String)">getIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Return the mutable view of the named index (aka the "live" or
 <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> index).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree">IIndex</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getIndex(java.lang.String,%20long)">getIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
        long&nbsp;commitTime)</code>
<div class="block">Return a view of the named index as of the specified timestamp.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getIndexCacheSize()">getIndexCacheSize</a></strong>()</code>
<div class="block">The size of the cache from (name,timestamp) to <a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getIndexCounters()">getIndexCounters</a></strong>()</code>
<div class="block">Return a <a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters"><code>CounterSet</code></a> reflecting the named indices that are open or
 which have been recently opened.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getIndexLocal(java.lang.String,%20long)">getIndexLocal</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
             long&nbsp;commitTime)</code>
<div class="block">Core implementation for access to historical index views.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getIndexWithCheckpointAddr(long)">getIndexWithCheckpointAddr</a></strong>(long&nbsp;checkpointAddr)</code>
<div class="block">A canonicalizing mapping for <em>historical</em> (read-only) views of
 persistence capable data structures (core impl).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getIndexWithCommitRecord(java.lang.String,%20com.bigdata.journal.ICommitRecord)">getIndexWithCommitRecord</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                        <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal">ICommitRecord</a>&nbsp;commitRecord)</code>
<div class="block">Returns a read-only named index loaded from a <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getInputStream(long)">getInputStream</a></strong>(long&nbsp;addr)</code>
<div class="block">Return an input stream from which a previously written stream may be read
 back.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getLastCommitTime()">getLastCommitTime</a></strong>()</code>
<div class="block">The database wide timestamp of the most recent commit on the store or 0L
 iff there have been no commits.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getMaximumClockSkewMillis()">getMaximumClockSkewMillis</a></strong>()</code>
<div class="block">The maximum error allowed (milliseconds) in the clocks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getMaximumExtent()">getMaximumExtent</a></strong>()</code>
<div class="block">The maximum extent before a <a href="../../../com/bigdata/journal/AbstractJournal.html#commit()"><code>commit()</code></a> will <code>#overflow()</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getMaxRecordSize()">getMaxRecordSize</a></strong>()</code>
<div class="block">The maximum length of a record that may be written on the store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree">IIndex</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getName2Addr()">getName2Addr</a></strong>()</code>
<div class="block">A read-only view of the <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> object mapping index names to
 the most recent committed <a href="../../../com/bigdata/journal/Name2Addr.Entry.html" title="class in com.bigdata.journal"><code>Name2Addr.Entry</code></a> for the named index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree">IIndex</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getName2Addr(long)">getName2Addr</a></strong>(long&nbsp;commitTime)</code>
<div class="block">Return a read-only view of the <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> object as of the
 specified commit time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getOffset(long)">getOffset</a></strong>(long&nbsp;addr)</code>
<div class="block">The offset on the store at which the datum is stored.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getOffsetBits()">getOffsetBits</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore">IPSOutputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getOutputStream()">getOutputStream</a></strong>()</code>
<div class="block">Return an output stream which can be used to write on the backing store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore">IPSOutputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getOutputStream(com.bigdata.rawstore.IAllocationContext)">getOutputStream</a></strong>(<a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</code>
<div class="block">Return an output stream which can be used to write on the backing store
 within the given allocation context.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getPhysicalAddress(long)">getPhysicalAddress</a></strong>(long&nbsp;addr)</code>
<div class="block">Determine the unencoded physical address</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getProperties()">getProperties</a></strong>()</code>
<div class="block">A copy of the properties used to initialize this journal.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getProperty(java.util.Properties,%20java.lang.String,%20java.lang.String)">getProperty</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;defaultValue)</code>
<div class="block">Resolves the property value (static variant for ctor initialization).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getProperty(java.lang.String,%20java.lang.String)">getProperty</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;defaultValue)</code>
<div class="block">Resolves the property value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected &lt;E&gt;&nbsp;E</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getProperty(java.lang.String,%20java.lang.String,%20com.bigdata.config.IValidator)">getProperty</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;defaultValue,
           <a href="../../../com/bigdata/config/IValidator.html" title="interface in com.bigdata.config">IValidator</a>&lt;E&gt;&nbsp;validator)</code>
<div class="block">Resolves, parses, and validates the property value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum">Quorum</a>&lt;<a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a>,<a href="../../../com/bigdata/ha/QuorumService.html" title="interface in com.bigdata.ha">QuorumService</a>&lt;<a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getQuorum()">getQuorum</a></strong>()</code>
<div class="block">The <a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum"><code>Quorum</code></a> for this service -or- <code>null</code> if the service
 is not running with a quorum.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getQuorumToken()">getQuorumToken</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal">CommitRecordIndex</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getReadOnlyCommitRecordIndex()">getReadOnlyCommitRecordIndex</a></strong>()</code>
<div class="block">Return a read-only view of the last committed state of the
 <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal"><code>CommitRecordIndex</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi">IResourceMetadata</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getResourceMetadata()">getResourceMetadata</a></strong>()</code>
<div class="block">A description of this store in support of the scale-out architecture.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getRootAddr(int)">getRootAddr</a></strong>(int&nbsp;index)</code>
<div class="block">The last address stored in the specified root slot as of the last
 committed state of the store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getRootBlocks()">getRootBlocks</a></strong>()</code>
<div class="block">Return both root blocks (atomically - used by HA).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getRootBlockView()">getRootBlockView</a></strong>()</code>
<div class="block">Return a read-only view of the current root block.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getRootBlockViewWithLock()">getRootBlockViewWithLock</a></strong>()</code>
<div class="block">Variant of <a href="../../../com/bigdata/journal/AbstractJournal.html#getRootBlockView()"><code>getRootBlockView()</code></a> that takes the internal lock in
 order to provide an appropriate synchronization barrier when installing
 new root blocks onto an empty journal in HA.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getUnisolatedIndex(java.lang.String)">getUnisolatedIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Return the mutable view of the named persistence capable data structure
 (aka the "live" or <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> view).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#getUUID()">getUUID</a></strong>()</code>
<div class="block">Return the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> which identifies this <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#indexNameScan(java.lang.String,%20long)">indexNameScan</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prefix,
             long&nbsp;timestamp)</code>
<div class="block">Iterator visits the names of all indices spanned by the given prefix.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#installRootBlocks(com.bigdata.journal.IRootBlockView,%20com.bigdata.journal.IRootBlockView)">installRootBlocks</a></strong>(<a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;rootBlock0,
                 <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;rootBlock1)</code>
<div class="block">Install identical root blocks on the journal.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#invalidateCommitters()">invalidateCommitters</a></strong>()</code>
<div class="block">This method is invoked to mark any persistence capable data structures
 as invalid (in an error state).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#isChecked()">isChecked</a></strong>()</code>
<div class="block">Return <code>true</code> if the persistence store uses record level
 checksums.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#isDirty()">isDirty</a></strong>()</code>
<div class="block">Return <code>true</code> if the store has been modified since the last
 <a href="../../../com/bigdata/journal/IAtomicStore.html#commit()"><code>IAtomicStore.commit()</code></a> or <a href="../../../com/bigdata/journal/IAtomicStore.html#abort()"><code>IAtomicStore.abort()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#isDoubleSync()">isDoubleSync</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#isFullyBuffered()">isFullyBuffered</a></strong>()</code>
<div class="block">True iff the store is fully buffered (all reads are against memory).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#isOpen()">isOpen</a></strong>()</code>
<div class="block"><code>true</code> iff the store is open.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#isReadOnly()">isReadOnly</a></strong>()</code>
<div class="block">Return <code>true</code> if the journal was opened in a read-only mode or
 if <a href="../../../com/bigdata/journal/AbstractJournal.html#closeForWrites(long)"><code>closeForWrites(long)</code></a> was used to seal the journal against
 further writes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#isStable()">isStable</a></strong>()</code>
<div class="block">True iff backed by stable storage.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#newAllocationContext(boolean)">newAllocationContext</a></strong>(boolean&nbsp;isolated)</code>
<div class="block">Creates a context to be used to isolate updates to within the context until it
 is released to the parent environment.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#newHAGlue(java.util.UUID)">newHAGlue</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;serviceId)</code>
<div class="block">Factory for the <code>HADelegate</code> object for this
 <a href="../../../com/bigdata/journal/AbstractJournal.html" title="class in com.bigdata.journal"><code>AbstractJournal</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#read(long)">read</a></strong>(long&nbsp;addr)</code>
<div class="block">Read the data (unisolated).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#register(java.lang.String,%20com.bigdata.btree.IndexMetadata)">register</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
        <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)</code>
<div class="block">Variant method creates and registered a named persistence capable data
 structure but does not assume that the data structure will be a
 <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#registerIndex(com.bigdata.btree.IndexMetadata)">registerIndex</a></strong>(<a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)</code>
<div class="block">Registers a named index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#registerIndex(java.lang.String,%20com.bigdata.btree.BTree)">registerIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
             <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a>&nbsp;ndx)</code>
<div class="block">Register a named index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#registerIndex(java.lang.String,%20com.bigdata.htree.HTree)">registerIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
             <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a>&nbsp;ndx)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#registerIndex(java.lang.String,%20com.bigdata.btree.IndexMetadata)">registerIndex</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
             <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>by <a href="../../../com/bigdata/journal/AbstractJournal.html#register(java.lang.String,%20com.bigdata.btree.IndexMetadata)"><code>register(String, IndexMetadata)</code></a></i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#removeCommitRecordEntries(byte[],%20byte[])">removeCommitRecordEntries</a></strong>(byte[]&nbsp;fromKey,
                         byte[]&nbsp;toKey)</code>
<div class="block">Remove all commit records between the two provided keys.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#rollback()">rollback</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>Do not use this method. HA provides point in time restore. Use
 that.  Or you can open a journal using the alternate root block by specifying
 <a href="../../../com/bigdata/journal/Options.html#ALTERNATE_ROOT_BLOCK"><code>Options.ALTERNATE_ROOT_BLOCK</code></a></i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#setCommitter(int,%20com.bigdata.journal.ICommitter)">setCommitter</a></strong>(int&nbsp;rootSlot,
            <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a>&nbsp;committer)</code>
<div class="block">Set a persistence capable data structure for callback during the commit
 protocol.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#setQuorumToken(long)">setQuorumToken</a></strong>(long&nbsp;newValue)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#setupCommitters()">setupCommitters</a></strong>()</code>
<div class="block">Invoked when a journal is first created, re-opened, or when the
 committers have been <a href="../../../com/bigdata/journal/AbstractJournal.html#discardCommitters()"><code>discarded</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#shutdown()">shutdown</a></strong>()</code>
<div class="block">Shutdown the journal (running tasks will run to completion, but no new
 tasks will start).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#shutdownNow()">shutdownNow</a></strong>()</code>
<div class="block">Immediate shutdown (running tasks are canceled rather than being
 permitted to complete).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#size()">size</a></strong>()</code>
<div class="block">The #of application data bytes written on the store (does not count any
 headers or root blocks that may exist for the store).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/AbstractJournal.ISnapshotData.html" title="interface in com.bigdata.journal">AbstractJournal.ISnapshotData</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#snapshotAllocationData(java.util.concurrent.atomic.AtomicReference)">snapshotAllocationData</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicReference</a>&lt;<a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&gt;&nbsp;rbv)</code>
<div class="block">With lock held to ensure that there is no concurrent commit, copy
 key data atomically to ensure recovered snapshot is consistent with
 the commit state when the snapshot is taken.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#toAddr(int,%20long)">toAddr</a></strong>(int&nbsp;nbytes,
      long&nbsp;offset)</code>
<div class="block">Converts a byte count and offset into a long integer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#toString(long)">toString</a></strong>(long&nbsp;addr)</code>
<div class="block">A human readable representation of the address.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#truncate()">truncate</a></strong>()</code>
<div class="block">Truncate the backing buffer such that there is no remaining free space in
 the journal.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#validateIndexMetadata(java.lang.String,%20com.bigdata.btree.IndexMetadata)">validateIndexMetadata</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                     <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)</code>
<div class="block">Provides an opportunity to validate some aspects of the
 <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> for an index partition.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#write(java.nio.ByteBuffer)">write</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;data)</code>
<div class="block">Write the data (unisolated).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/AbstractJournal.html#write(java.nio.ByteBuffer,%20com.bigdata.rawstore.IAllocationContext)">write</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;data,
     <a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</code>
<div class="block">Write the data within the allocation context.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.IJournal">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/IJournal.html" title="interface in com.bigdata.journal">IJournal</a></h3>
<code><a href="../../../com/bigdata/journal/IJournal.html#getLocalTransactionManager()">getLocalTransactionManager</a>, <a href="../../../com/bigdata/journal/IJournal.html#isHAJournal()">isHAJournal</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.IIndexManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal">IIndexManager</a></h3>
<code><a href="../../../com/bigdata/journal/IIndexManager.html#isGroupCommit()">isGroupCommit</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.IIndexStore">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/IIndexStore.html" title="interface in com.bigdata.journal">IIndexStore</a></h3>
<code><a href="../../../com/bigdata/journal/IIndexStore.html#addScheduledTask(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)">addScheduledTask</a>, <a href="../../../com/bigdata/journal/IIndexStore.html#getCollectPlatformStatistics()">getCollectPlatformStatistics</a>, <a href="../../../com/bigdata/journal/IIndexStore.html#getCollectQueueStatistics()">getCollectQueueStatistics</a>, <a href="../../../com/bigdata/journal/IIndexStore.html#getGlobalFileSystem()">getGlobalFileSystem</a>, <a href="../../../com/bigdata/journal/IIndexStore.html#getGlobalRowStore()">getGlobalRowStore</a>, <a href="../../../com/bigdata/journal/IIndexStore.html#getGlobalRowStore(long)">getGlobalRowStore</a>, <a href="../../../com/bigdata/journal/IIndexStore.html#getHttpdPort()">getHttpdPort</a>, <a href="../../../com/bigdata/journal/IIndexStore.html#getResourceLocator()">getResourceLocator</a>, <a href="../../../com/bigdata/journal/IIndexStore.html#getResourceLockService()">getResourceLockService</a>, <a href="../../../com/bigdata/journal/IIndexStore.html#getTempStore()">getTempStore</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="haLog">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>haLog</h4>
<pre>protected static final&nbsp;org.apache.log4j.Logger haLog</pre>
<div class="block">Logger for HA events.</div>
</li>
</ul>
<a name="ROOT_NAME2ADDR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ROOT_NAME2ADDR</h4>
<pre>public static final transient&nbsp;int ROOT_NAME2ADDR</pre>
<div class="block">The index of the root address containing the address of the persistent
 <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> mapping names to <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>s registered for the
 store.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.journal.AbstractJournal.ROOT_NAME2ADDR">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PREV_ROOTBLOCK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREV_ROOTBLOCK</h4>
<pre>public static final transient&nbsp;int PREV_ROOTBLOCK</pre>
<div class="block">The index of the root address where the root block copy from the previous
 commit is stored.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.journal.AbstractJournal.PREV_ROOTBLOCK">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DELETEBLOCK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DELETEBLOCK</h4>
<pre>public static final transient&nbsp;int DELETEBLOCK</pre>
<div class="block">The index of the root address of the delete blocks associated with
 this transaction.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.journal.AbstractJournal.DELETEBLOCK">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ROOT_ICUVERSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ROOT_ICUVERSION</h4>
<pre>public static final transient&nbsp;int ROOT_ICUVERSION</pre>
<div class="block">The index of the root address containing the <a href="../../../com/bigdata/btree/keys/ICUVersionRecord.html" title="class in com.bigdata.btree.keys"><code>ICUVersionRecord</code></a>.
 That record specifies the ICU version metadata which was in force when
 the journal was created.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.journal.AbstractJournal.ROOT_ICUVERSION">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="properties">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>properties</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a> properties</pre>
<div class="block">A clone of the properties used to initialize the <a href="../../../com/bigdata/journal/Journal.html" title="class in com.bigdata.journal"><code>Journal</code></a>.</div>
</li>
</ul>
<a name="tmpDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tmpDir</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a> tmpDir</pre>
<div class="block">The directory that should be used for temporary files.</div>
</li>
</ul>
<a name="doubleSync">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doubleSync</h4>
<pre>protected final&nbsp;boolean doubleSync</pre>
<div class="block">Option controls whether the journal forces application data to disk
 before updating the root blocks.</div>
</li>
</ul>
<a name="forceOnCommit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceOnCommit</h4>
<pre>protected final&nbsp;<a href="../../../com/bigdata/journal/ForceEnum.html" title="enum in com.bigdata.journal">ForceEnum</a> forceOnCommit</pre>
<div class="block">Option controls how the journal behaves during a commit.</div>
</li>
</ul>
<a name="deleteOnClose">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteOnClose</h4>
<pre>protected final&nbsp;boolean deleteOnClose</pre>
<div class="block">Option set by the test suites causes the file backing the journal to be
 deleted when the journal is closed.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AbstractJournal(java.util.Properties)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AbstractJournal</h4>
<pre>protected&nbsp;AbstractJournal(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties)</pre>
<div class="block">Create or re-open a journal.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>properties</code> - The properties as defined by <a href="../../../com/bigdata/journal/Options.html" title="interface in com.bigdata.journal"><code>Options</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang">RuntimeException</a></code> - If there is a problem when creating, opening, or reading from
             the journal file.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/Options.html" title="interface in com.bigdata.journal"><code>Options</code></a></dd></dl>
</li>
</ul>
<a name="AbstractJournal(java.util.Properties, com.bigdata.quorum.Quorum)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractJournal</h4>
<pre>protected&nbsp;AbstractJournal(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties,
               <a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum">Quorum</a>&lt;<a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a>,<a href="../../../com/bigdata/ha/QuorumService.html" title="interface in com.bigdata.ha">QuorumService</a>&lt;<a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a>&gt;&gt;&nbsp;quorum)</pre>
<div class="block">Create or re-open a journal as part of a highly available <a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum"><code>Quorum</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>properties</code> - The properties as defined by <a href="../../../com/bigdata/journal/Options.html" title="interface in com.bigdata.journal"><code>Options</code></a>.</dd><dd><code>quorum</code> - The quorum with which the journal will join (HA mode only).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang">RuntimeException</a></code> - If there is a problem when creating, opening, or reading from
             the journal file.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/Options.html" title="interface in com.bigdata.journal"><code>Options</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="_getName2Addr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_getName2Addr</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal">Name2Addr</a>&nbsp;_getName2Addr()</pre>
<div class="block">Return the "live" BTree mapping index names to the last metadata record
 committed for the named index. The keys are index names (unicode
 strings). The values are the names and the last known address of the
 named btree.
 <p>
 The "live" name2addr index is required for unisolated writers regardless
 whether they are adding an index, dropping an index, or just recovering
 the "live" version of an existing named index.
 <p>
 Operations that read on historical <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> objects can of
 course be concurrent. Those objects are loaded from an
 <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a>. See <code>#getIndex(String, ICommitRecord)</code>.
 <p>
 Note: the "live" <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> index is a mutable <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>. All
 access to the object MUST be synchronized on that object.</div>
</li>
</ul>
<a name="getName2Addr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName2Addr</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree">IIndex</a>&nbsp;getName2Addr()</pre>
<div class="block">A read-only view of the <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> object mapping index names to
 the most recent committed <a href="../../../com/bigdata/journal/Name2Addr.Entry.html" title="class in com.bigdata.journal"><code>Name2Addr.Entry</code></a> for the named index. The keys are
 index names (unicode strings). The values are <a href="../../../com/bigdata/journal/Name2Addr.Entry.html" title="class in com.bigdata.journal"><code>Name2Addr.Entry</code></a>s containing
 the names, commitTime, and last known <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> address of the
 named <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> on the <a href="../../../com/bigdata/journal/Journal.html" title="class in com.bigdata.journal"><code>Journal</code></a>.</div>
</li>
</ul>
<a name="getName2Addr(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName2Addr</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree">IIndex</a>&nbsp;getName2Addr(long&nbsp;commitTime)</pre>
<div class="block">Return a read-only view of the <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> object as of the
 specified commit time.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>commitTime</code> - A commit time.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The read-only view -or- <code>null</code> if there is no commit
         record for that commitTime.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/AbstractJournal.html#getName2Addr()"><code>getName2Addr()</code></a></dd></dl>
</li>
</ul>
<a name="getMaximumExtent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumExtent</h4>
<pre>public final&nbsp;long&nbsp;getMaximumExtent()</pre>
<div class="block">The maximum extent before a <a href="../../../com/bigdata/journal/AbstractJournal.html#commit()"><code>commit()</code></a> will <code>#overflow()</code>.
 In practice, overflow tries to trigger before this point in order to
 avoid extending the journal.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/Options.html#MAXIMUM_EXTENT"><code>Options.MAXIMUM_EXTENT</code></a></dd></dl>
</li>
</ul>
<a name="getProperty(java.util.Properties, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProperty</h4>
<pre>protected static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getProperty(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;defaultValue)</pre>
<div class="block">Resolves the property value (static variant for ctor initialization).</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/config/Configuration.html#getProperty(com.bigdata.journal.IIndexManager,%20java.util.Properties,%20java.lang.String,%20java.lang.String,%20java.lang.String)"><code>Configuration.getProperty(IIndexManager, Properties, String, String,
      String)</code></a></dd></dl>
</li>
</ul>
<a name="getProperty(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProperty</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getProperty(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;defaultValue)</pre>
<div class="block">Resolves the property value.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/config/Configuration.html#getProperty(com.bigdata.journal.IIndexManager,%20java.util.Properties,%20java.lang.String,%20java.lang.String,%20java.lang.String)"><code>Configuration.getProperty(IIndexManager, Properties, String, String,
      String)</code></a></dd></dl>
</li>
</ul>
<a name="getProperty(java.lang.String, java.lang.String, com.bigdata.config.IValidator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProperty</h4>
<pre>protected&nbsp;&lt;E&gt;&nbsp;E&nbsp;getProperty(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;defaultValue,
                <a href="../../../com/bigdata/config/IValidator.html" title="interface in com.bigdata.config">IValidator</a>&lt;E&gt;&nbsp;validator)</pre>
<div class="block">Resolves, parses, and validates the property value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The property name.</dd><dd><code>defaultValue</code> - The default value.</dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getProperties()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProperties</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;getProperties()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IJournal.html#getProperties()">IJournal</a></code></strong></div>
<div class="block">A copy of the properties used to initialize this journal.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IJournal.html#getProperties()">getProperties</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IJournal.html" title="interface in com.bigdata.journal">IJournal</a></code></dd>
</dl>
</li>
</ul>
<a name="getBufferStrategy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBufferStrategy</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/journal/IBufferStrategy.html" title="interface in com.bigdata.journal">IBufferStrategy</a>&nbsp;getBufferStrategy()</pre>
<div class="block">Return the delegate that implements the <a href="../../../com/bigdata/journal/BufferMode.html" title="enum in com.bigdata.journal"><code>BufferMode</code></a>.
 <p>
 Note: this method MUST NOT check to see whether the journal is open since
 we need to use it if we want to invoke
 <a href="../../../com/bigdata/rawstore/IRawStore.html#deleteResources()"><code>IRawStore.deleteResources()</code></a> and we can only invoke that
 method once the journal is closed.</div>
</li>
</ul>
<a name="getExecutorService()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExecutorService</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a>&nbsp;getExecutorService()</pre>
<div class="block">Service for running arbitrary tasks in support of
 <a href="../../../com/bigdata/relation/locator/IResourceLocator.html" title="interface in com.bigdata.relation.locator"><code>IResourceLocator</code></a>. There is no concurrency control associated with
 this service, but tasks run here may submit tasks to the
 <a href="../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal"><code>ConcurrencyManager</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IIndexStore.html#getExecutorService()">getExecutorService</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IIndexStore.html" title="interface in com.bigdata.journal">IIndexStore</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Shutdown the journal (running tasks will run to completion, but no new
 tasks will start).
 <p>
 Note: You SHOULD use this method rather than <a href="../../../com/bigdata/journal/AbstractJournal.html#close()"><code>close()</code></a> for normal
 shutdown of the journal.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IJournal.html#shutdown()">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IJournal.html" title="interface in com.bigdata.journal">IJournal</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/AbstractJournal.html#shutdownNow()"><code>shutdownNow()</code></a></dd></dl>
</li>
</ul>
<a name="shutdownNow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownNow</h4>
<pre>public&nbsp;void&nbsp;shutdownNow()</pre>
<div class="block">Immediate shutdown (running tasks are canceled rather than being
 permitted to complete).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IJournal.html#shutdownNow()">shutdownNow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IJournal.html" title="interface in com.bigdata.journal">IJournal</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/AbstractJournal.html#shutdown()"><code>shutdown()</code></a></dd></dl>
</li>
</ul>
<a name="finalize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre>protected&nbsp;void&nbsp;finalize()
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block">Closes out the journal iff it is still open.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd></dl>
</li>
</ul>
<a name="getCounters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCounters</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a>&nbsp;getCounters()</pre>
<div class="block">Return counters reporting on various aspects of the journal.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/counters/ICounterSetAccess.html#getCounters()">getCounters</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a></code></dd>
</dl>
</li>
</ul>
<a name="getIndexCounters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexCounters</h4>
<pre>protected final&nbsp;<a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a>&nbsp;getIndexCounters()</pre>
<div class="block">Return a <a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters"><code>CounterSet</code></a> reflecting the named indices that are open or
 which have been recently opened.
 <p>
 Note: This method prefers the live view of the index since this gets us
 the most recent metadata for the index depth, #of nodes, #of leaves, etc.
 However, when the live view is not currently open, we prefer the most
 recent view of the index.
 <p>
 Note: This scans the live <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a>s internal index cache for the
 live indices and then scans the <a href="../../../com/bigdata/journal/AbstractJournal.html#historicalIndexCache"><code>historicalIndexCache</code></a> for the
 read-only index views. Only a single <a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters"><code>CounterSet</code></a> is reported for
 any given named index.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A new <a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters"><code>CounterSet</code></a> reflecting the named indices that were
         open as of the time that this method was invoked.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="http://sourceforge.net/apps/trac/bigdata/ticket/626">
      Expose performance counters for read-only indices </a></dd></dl>
</li>
</ul>
<a name="getFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFile</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;getFile()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html#getFile()">IRawStore</a></code></strong></div>
<div class="block">The backing file -or- <code>null</code> if there is no backing file
 for the store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#getFile()">getFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="assertBefore(java.util.UUID, java.util.UUID, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertBefore</h4>
<pre>protected&nbsp;void&nbsp;assertBefore(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;serviceId1,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;serviceId2,
                long&nbsp;t1,
                long&nbsp;t2)
                     throws <a href="../../../com/bigdata/util/ClocksNotSynchronizedException.html" title="class in com.bigdata.util">ClocksNotSynchronizedException</a></pre>
<div class="block">Assert that <code>t1</code> LT <code>t2</code>, where <code>t1</code> and
 <code>t2</code> are timestamps obtain such that this relation will be
 <code>true</code> if the clocks on the nodes are synchronized.
 <p>
 Note: Clock synchronization errors can arise across nodes if the nodes
 are not using a common network time source.
 <p>
 Note: Synchronization errors can arise on a single node if the clock is
 changed on that node - specifically if the clock is move backwards to
 before the most recent commit timestamp. For example, if the timezone is
 changed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serviceId1</code> - The service that reported the timestamp <code>t1</code>.</dd><dd><code>serviceId2</code> - The service that reported the timestamp <code>t2</code>.</dd><dd><code>t1</code> - A timestamp from one service.</dd><dd><code>t2</code> - A timestamp from the another service.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/bigdata/util/ClocksNotSynchronizedException.html" title="class in com.bigdata.util">ClocksNotSynchronizedException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/util/ClocksNotSynchronizedException.html" title="class in com.bigdata.util"><code>ClocksNotSynchronizedException</code></a></dd></dl>
</li>
</ul>
<a name="getMaximumClockSkewMillis()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumClockSkewMillis</h4>
<pre>protected&nbsp;long&nbsp;getMaximumClockSkewMillis()</pre>
<div class="block">The maximum error allowed (milliseconds) in the clocks. This is used by
 <a href="../../../com/bigdata/journal/AbstractJournal.html#assertBefore(java.util.UUID,%20java.util.UUID,%20long,%20long)"><code>assertBefore(UUID, UUID, long, long)</code></a> to verify that the clocks
 are within some acceptable skew of one another. It is also used by
 <a href="../../../com/bigdata/journal/AbstractJournal.html#nextCommitTimestamp()"><code>nextCommitTimestamp()</code></a> where it specifies the maximum clock skew
 that will be corrected without operator intervention.
 <p>
 Note: This is overridden by the HAJournal.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/AbstractJournal.html#assertBefore(java.util.UUID,%20java.util.UUID,%20long,%20long)"><code>assertBefore(UUID, UUID, long, long)</code></a></dd></dl>
</li>
</ul>
<a name="getHAPrepareTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHAPrepareTimeout</h4>
<pre>public&nbsp;long&nbsp;getHAPrepareTimeout()</pre>
<div class="block">The HA timeout in milliseconds for a 2-phase prepare.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - always.</dd></dl>
</li>
</ul>
<a name="getHAReleaseTimeConsensusTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHAReleaseTimeConsensusTimeout</h4>
<pre>public&nbsp;long&nbsp;getHAReleaseTimeConsensusTimeout()</pre>
<div class="block">The HA timeout in milliseconds for the release time consensus protocol.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - always.</dd></dl>
</li>
</ul>
<a name="_close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_close</h4>
<pre>protected&nbsp;void&nbsp;_close()</pre>
<div class="block">Core implementation of immediate shutdown handles event reporting.</div>
</li>
</ul>
<a name="deleteResources()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteResources</h4>
<pre>public&nbsp;void&nbsp;deleteResources()</pre>
<div class="block">Deletes the backing file(s) (if any).
 <p>
 Note: This is the core implementation of delete and handles event
 reporting.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#deleteResources()">deleteResources</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the journal is open.</dd></dl>
</li>
</ul>
<a name="truncate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncate</h4>
<pre>public&nbsp;void&nbsp;truncate()</pre>
<div class="block">Truncate the backing buffer such that there is no remaining free space in
 the journal.
 <p>
 Note: The caller MUST have exclusive write access to the journal. When
 the <a href="../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal"><code>ConcurrencyManager</code></a> is used, that means that the caller MUST
 have an exclusive lock on the <a href="../../../com/bigdata/journal/WriteExecutorService.html" title="class in com.bigdata.journal"><code>WriteExecutorService</code></a>.
 <p>
 Note: The <a href="../../../com/bigdata/journal/BufferMode.html#DiskRW"><code>BufferMode.DiskRW</code></a> does NOT support this operation. This
 is because it stores meta-allocation information at the end of the file,
 which makes it impossible to shrink the file. Therefore this method will
 return without causing the file on disk to be shrunk for the RWStore.</div>
</li>
</ul>
<a name="ensureMinFree(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureMinFree</h4>
<pre>public&nbsp;long&nbsp;ensureMinFree(long&nbsp;minFree)</pre>
<div class="block">Make sure that the journal has at least the specified number of bytes of
 unused capacity remaining in the user extent.
 <p>
 Note: You need an exclusive write lock on the journal to extend it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>minFree</code> - The minimum #of bytes free for the user extent.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The #of bytes of free space remaining in the user extent.</dd></dl>
</li>
</ul>
<a name="closeForWrites(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeForWrites</h4>
<pre>public&nbsp;void&nbsp;closeForWrites(long&nbsp;closeTime)</pre>
<div class="block">Restart safe conversion of the store into a read-only store with the
 specified <i>closeTime</i>.
 <p>
 This implementation sets the "closeTime" on the root block such that the
 journal will no longer accept writes, flushes all buffered writes, and
 releases any write cache buffers since they will no longer be used. This
 method is normally used when one journal is being closed out for writes
 during synchronous overflow processing and new writes will be buffered on
 a new journal. This has advantages over closing the journal directly
 including that it does not disturb concurrent readers.
 <p>
 Note: The caller MUST have exclusive write access to the journal. When
 the <a href="../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal"><code>ConcurrencyManager</code></a> is used, that means that the caller MUST
 have an exclusive lock on the <a href="../../../com/bigdata/journal/WriteExecutorService.html" title="class in com.bigdata.journal"><code>WriteExecutorService</code></a>.
 <p>
 Note: This does NOT perform a commit - any uncommitted writes will be
 discarded.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If there are no commits on the journal.</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Invokes <a href="../../../com/bigdata/journal/AbstractJournal.html#shutdownNow()"><code>shutdownNow()</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="destroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html#destroy()">IRawStore</a></code></strong></div>
<div class="block">Closes the store immediately (if open) and deletes its persistent
 resources. Does NOT throw an <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a> if the store
 is already closed, but still deletes the backing resources.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IIndexStore.html#destroy()">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IIndexStore.html" title="interface in com.bigdata.journal">IIndexStore</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#destroy()">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/rawstore/IRawStore.html#deleteResources()"><code>IRawStore.deleteResources()</code></a></dd></dl>
</li>
</ul>
<a name="assertOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertOpen</h4>
<pre>protected&nbsp;void&nbsp;assertOpen()</pre>
<div class="block">Assert that the store is open.
 <p>
 Note: You can see an <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a> thrown out of here if
 there are tasks running during <a href="../../../com/bigdata/journal/AbstractJournal.html#shutdown()"><code>shutdown()</code></a> and one of the various
 task services times out while awaiting termination. Such exceptions are
 normal since the store was closed asynchronously while task(s) were still
 running.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is closed.</dd></dl>
</li>
</ul>
<a name="getUUID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUUID</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;getUUID()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html#getUUID()">IRawStore</a></code></strong></div>
<div class="block">Return the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> which identifies this <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a>. This
 supports <a href="../../../com/bigdata/rawstore/IRawStore.html#getResourceMetadata()"><code>IRawStore.getResourceMetadata()</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#getUUID()">getUUID</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="getResourceMetadata()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResourceMetadata</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/mdi/IResourceMetadata.html" title="interface in com.bigdata.mdi">IResourceMetadata</a>&nbsp;getResourceMetadata()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html#getResourceMetadata()">IRawStore</a></code></strong></div>
<div class="block">A description of this store in support of the scale-out architecture.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#getResourceMetadata()">getResourceMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>public&nbsp;boolean&nbsp;isOpen()</pre>
<div class="block"><code>true</code> iff the store is open.
 <p>
 Note: This will report <code>false</code> for a new highly available
 journal until the quorum has met and <code>#init()</code> has been invoked for
 the <a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum"><code>Quorum</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#isOpen()">isOpen</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> iff the store is open.</dd></dl>
</li>
</ul>
<a name="isReadOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnly</h4>
<pre>public&nbsp;boolean&nbsp;isReadOnly()</pre>
<div class="block">Return <code>true</code> if the journal was opened in a read-only mode or
 if <a href="../../../com/bigdata/journal/AbstractJournal.html#closeForWrites(long)"><code>closeForWrites(long)</code></a> was used to seal the journal against
 further writes.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#isReadOnly()">isReadOnly</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="assertCanRead()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertCanRead</h4>
<pre>protected&nbsp;void&nbsp;assertCanRead()</pre>
<div class="block">Assert that the journal is readable.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the journal is not writable at this time.</dd></dl>
</li>
</ul>
<a name="assertCanWrite()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertCanWrite</h4>
<pre>protected&nbsp;void&nbsp;assertCanWrite()</pre>
<div class="block">Assert that the journal is writable.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the journal is not writable at this time.</dd></dl>
</li>
</ul>
<a name="isStable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStable</h4>
<pre>public&nbsp;boolean&nbsp;isStable()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html#isStable()">IRawStore</a></code></strong></div>
<div class="block">True iff backed by stable storage.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#isStable()">isStable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="isFullyBuffered()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFullyBuffered</h4>
<pre>public&nbsp;boolean&nbsp;isFullyBuffered()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html#isFullyBuffered()">IRawStore</a></code></strong></div>
<div class="block">True iff the store is fully buffered (all reads are against memory).
 Implementations MAY change the value returned by this method over the
 life cycle of the store, e.g., to conserve memory a store may drop or
 decrease its buffer if it is backed by disk.
 <p>
 Note: This does not guarantee that the OS will not swap the buffer onto
 disk.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#isFullyBuffered()">isFullyBuffered</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="isDoubleSync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDoubleSync</h4>
<pre>public&nbsp;boolean&nbsp;isDoubleSync()</pre>
</li>
</ul>
<a name="isChecked()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isChecked</h4>
<pre>public&nbsp;boolean&nbsp;isChecked()</pre>
<div class="block">Return <code>true</code> if the persistence store uses record level
 checksums. When <code>true</code>, the store will detect bad reads by
 comparing the record as read from the disk against the checksum for that
 record.</div>
</li>
</ul>
<a name="getRootBlockView()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootBlockView</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;getRootBlockView()</pre>
<div class="block">Return a read-only view of the current root block.
 <p>
 Returns the current root block (immediate, non-blocking peek).
 <p>
 Note: The root block reference can be <code>null</code> until the journal
 has been initialized. Once it has been set, the root block will always be
 non-<code>null</code>. Since this method does not obtain the inner lock,
 it is possible for another thread to change the root block reference
 through a concurrent <a href="../../../com/bigdata/journal/AbstractJournal.html#abort()"><code>abort()</code></a> or <a href="../../../com/bigdata/journal/AbstractJournal.html#commitNow(long)"><code>commitNow(long)</code></a>. The
 <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal"><code>IRootBlockView</code></a> itself is an immutable data structure.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IAtomicStore.html#getRootBlockView()">getRootBlockView</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IAtomicStore.html" title="interface in com.bigdata.journal">IAtomicStore</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The current root block.</dd></dl>
</li>
</ul>
<a name="getRootBlockViewWithLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootBlockViewWithLock</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;getRootBlockViewWithLock()</pre>
<div class="block">Variant of <a href="../../../com/bigdata/journal/AbstractJournal.html#getRootBlockView()"><code>getRootBlockView()</code></a> that takes the internal lock in
 order to provide an appropriate synchronization barrier when installing
 new root blocks onto an empty journal in HA.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/AbstractJournal.html#installRootBlocks(com.bigdata.journal.IRootBlockView,%20com.bigdata.journal.IRootBlockView)"><code>installRootBlocks(IRootBlockView, IRootBlockView)</code></a></dd></dl>
</li>
</ul>
<a name="getLastCommitTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastCommitTime</h4>
<pre>public final&nbsp;long&nbsp;getLastCommitTime()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IIndexStore.html#getLastCommitTime()">IIndexStore</a></code></strong></div>
<div class="block">The database wide timestamp of the most recent commit on the store or 0L
 iff there have been no commits. In a local database, this timestamp is
 generated by a local timestamp service. In a distributed database, this
 timestamp is generated by a shared timestamp service. The timestamps
 returned by this method are strictly increasing for a given store and for
 a given database.
 <p>
 This method is useful if you plan to issue a series of read-consistent
 requests against the most current commit point of the database.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IIndexStore.html#getLastCommitTime()">getLastCommitTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IIndexStore.html" title="interface in com.bigdata.journal">IIndexStore</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The timestamp of the most recent commit on the store or 0L iff
         there have been no commits.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/IRootBlockView.html#getLastCommitTime()"><code>IRootBlockView.getLastCommitTime()</code></a></dd></dl>
</li>
</ul>
<a name="setCommitter(int, com.bigdata.journal.ICommitter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCommitter</h4>
<pre>public final&nbsp;void&nbsp;setCommitter(int&nbsp;rootSlot,
                <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal">ICommitter</a>&nbsp;committer)</pre>
<div class="block">Set a persistence capable data structure for callback during the commit
 protocol.
 <p>
 Note: the committers must be reset after restart or whenever the
 committers are discarded (the committers are themselves transient
 objects).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IAtomicStore.html#setCommitter(int,%20com.bigdata.journal.ICommitter)">setCommitter</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IAtomicStore.html" title="interface in com.bigdata.journal">IAtomicStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>rootSlot</code> - The slot in the root block where the address of the
            <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal"><code>ICommitter</code></a> will be recorded.</dd><dd><code>committer</code> - The commiter.</dd></dl>
</li>
</ul>
<a name="abort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abort</h4>
<pre>public&nbsp;void&nbsp;abort()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IAtomicStore.html#abort()">IAtomicStore</a></code></strong></div>
<div class="block">Abandon the current write set (synchronous).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IAtomicStore.html#abort()">abort</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IAtomicStore.html" title="interface in com.bigdata.journal">IAtomicStore</a></code></dd>
</dl>
</li>
</ul>
<a name="rollback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;rollback()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>Do not use this method. HA provides point in time restore. Use
 that.  Or you can open a journal using the alternate root block by specifying
 <a href="../../../com/bigdata/journal/Options.html#ALTERNATE_ROOT_BLOCK"><code>Options.ALTERNATE_ROOT_BLOCK</code></a></i></div>
<div class="block">Rollback a journal to its previous commit point.
 <p>
 Note: You MUST have an exclusive write lock on the journal.
 <p>
 Note: To restore the last root block we copy the alternative root block
 over the current root block. That gives us two identical root blocks and
 restores us to the root block that was in effect before the last commit.</div>
</li>
</ul>
<a name="isDirty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDirty</h4>
<pre>public&nbsp;boolean&nbsp;isDirty()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IAtomicStore.html#isDirty()">IAtomicStore</a></code></strong></div>
<div class="block">Return <code>true</code> if the store has been modified since the last
 <a href="../../../com/bigdata/journal/IAtomicStore.html#commit()"><code>IAtomicStore.commit()</code></a> or <a href="../../../com/bigdata/journal/IAtomicStore.html#abort()"><code>IAtomicStore.abort()</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IAtomicStore.html#isDirty()">isDirty</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IAtomicStore.html" title="interface in com.bigdata.journal">IAtomicStore</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>true if store has been modified since last <a href="../../../com/bigdata/journal/IAtomicStore.html#commit()"><code>IAtomicStore.commit()</code></a> or
         <a href="../../../com/bigdata/journal/IAtomicStore.html#abort()"><code>IAtomicStore.abort()</code></a>.</dd></dl>
</li>
</ul>
<a name="commit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;long&nbsp;commit()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IAtomicStore.html#commit()">IAtomicStore</a></code></strong></div>
<div class="block">Atomic commit (synchronous).
 <p>
 Note: if the commit fails (by throwing any kind of exception) then you
 MUST invoke <a href="../../../com/bigdata/journal/IAtomicStore.html#abort()"><code>IAtomicStore.abort()</code></a> to abandon the current write set.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IAtomicStore.html#commit()">commit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IAtomicStore.html" title="interface in com.bigdata.journal">IAtomicStore</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The timestamp assigned to the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> -or- 0L if
         there were no data to commit.</dd></dl>
</li>
</ul>
<a name="commitNow(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitNow</h4>
<pre>protected&nbsp;long&nbsp;commitNow(long&nbsp;commitTime)</pre>
<div class="block">An atomic commit is performed by directing each registered
 <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal"><code>ICommitter</code></a> to flush its state onto the store using
 <a href="../../../com/bigdata/journal/ICommitter.html#handleCommit(long)"><code>ICommitter.handleCommit(long)</code></a>. The address returned by that
 method is the address from which the <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal"><code>ICommitter</code></a> may be reloaded
 (and its previous address if its state has not changed). That address is
 saved in the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> under the index for which that
 committer was <code>registered</code>. We
 then force the data to stable store, update the root block, and force the
 root block and the file metadata to stable store.
 <p>
 Note: Each invocation of this method MUST use a distinct
 <i>commitTime</i> and the commitTimes MUST be monotonically increasing.
 These guarantees support both the database version history mechanisms and
 the High Availability mechanisms.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>commitTime</code> - The commit time either of a transaction or of an unisolated
            commit. Note that when mixing isolated and unisolated commits
            you MUST use the same <a href="../../../com/bigdata/journal/ITimestampService.html" title="interface in com.bigdata.journal"><code>ITimestampService</code></a> for both
            purposes.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The timestamp assigned to the commit record -or- 0L if there were
         no data to commit.</dd></dl>
</li>
</ul>
<a name="assertCommitTimeAdvances(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertCommitTimeAdvances</h4>
<pre>protected&nbsp;void&nbsp;assertCommitTimeAdvances(long&nbsp;commitTime)</pre>
<div class="block">Method verifies that the commit time strictly advances on the local store
 by checking against the current root block.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>commitTime</code> - The proposed commit time.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <i>commitTime</i> is LTE the value reported by
             <a href="../../../com/bigdata/journal/IRootBlockView.html#getLastCommitTime()"><code>IRootBlockView.getLastCommitTime()</code></a>.</dd></dl>
</li>
</ul>
<a name="assertPriorCommitTimeAdvances(long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertPriorCommitTimeAdvances</h4>
<pre>protected static&nbsp;void&nbsp;assertPriorCommitTimeAdvances(long&nbsp;currentCommitTime,
                                 long&nbsp;priorCommitTime)</pre>
<div class="block">Method verifies that the commit time strictly advances on the local store
 by checking against the current root block.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>currentCommitTime</code> - </dd><dd><code>priorCommitTime</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <i>commitTime</i> is LTE the value reported by
            <a href="../../../com/bigdata/journal/IRootBlockView.html#getLastCommitTime()"><code>IRootBlockView.getLastCommitTime()</code></a>.</dd></dl>
</li>
</ul>
<a name="force(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>force</h4>
<pre>public&nbsp;void&nbsp;force(boolean&nbsp;metadata)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html#force(boolean)">IRawStore</a></code></strong></div>
<div class="block">Force the data to stable storage. While this is NOT sufficient to
 guarantee an atomic commit, the data must be forced to disk as part of an
 atomic commit protocol.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#force(boolean)">force</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>metadata</code> - If true, then force both the file contents and the file
            metadata to disk.</dd></dl>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;long&nbsp;size()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html#size()">IRawStore</a></code></strong></div>
<div class="block">The #of application data bytes written on the store (does not count any
 headers or root blocks that may exist for the store).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#size()">size</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
</dl>
</li>
</ul>
<a name="read(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;read(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html#read(long)">IRawStore</a></code></strong></div>
<div class="block">Read the data (unisolated).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#read(long)">read</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - A long integer that encodes both the offset from which the
            data will be read and the #of bytes to be read. See
            <a href="../../../com/bigdata/rawstore/IAddressManager.html#toAddr(int,%20long)"><code>IAddressManager.toAddr(int, long)</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The data read. The buffer will be flipped to prepare for reading
         (the position will be zero and the limit will be the #of bytes
         read).</dd></dl>
</li>
</ul>
<a name="write(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;long&nbsp;write(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;data)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html#write(java.nio.ByteBuffer)">IRawStore</a></code></strong></div>
<div class="block">Write the data (unisolated).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#write(java.nio.ByteBuffer)">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - The data. The bytes from the current
            <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/Buffer.html?is-external=true#position()" title="class or interface in java.nio"><code>Buffer.position()</code></a> to the
            <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/Buffer.html?is-external=true#limit()" title="class or interface in java.nio"><code>Buffer.limit()</code></a> will be written and the
            <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/Buffer.html?is-external=true#position()" title="class or interface in java.nio"><code>Buffer.position()</code></a> will be advanced to the
            <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/Buffer.html?is-external=true#limit()" title="class or interface in java.nio"><code>Buffer.limit()</code></a> . The caller may subsequently
            modify the contents of the buffer without changing the state
            of the store (i.e., the data are copied into the store).</dd>
<dt><span class="strong">Returns:</span></dt><dd>A long integer formed that encodes both the offset from which the
         data may be read and the #of bytes to be read. See
         <a href="../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore"><code>IAddressManager</code></a>.</dd></dl>
</li>
</ul>
<a name="write(java.nio.ByteBuffer, com.bigdata.rawstore.IAllocationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;long&nbsp;write(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;data,
         <a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IAllocationManagerStore.html#write(java.nio.ByteBuffer,%20com.bigdata.rawstore.IAllocationContext)">IAllocationManagerStore</a></code></strong></div>
<div class="block">Write the data within the allocation context. The write is not visible
 outside of the allocation until the allocation context has been merged
 into the parent allocation context.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IAllocationManagerStore.html#write(java.nio.ByteBuffer,%20com.bigdata.rawstore.IAllocationContext)">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IAllocationManagerStore.html" title="interface in com.bigdata.rawstore">IAllocationManagerStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - The data.</dd><dd><code>context</code> - The allocation context.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The address at which the data was written.</dd></dl>
</li>
</ul>
<a name="getOutputStream()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputStream</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore">IPSOutputStream</a>&nbsp;getOutputStream()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IStreamStore.html#getOutputStream()">IStreamStore</a></code></strong></div>
<div class="block">Return an output stream which can be used to write on the backing store.
 You can recover the address used to read back the data from the
 <a href="../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore"><code>IPSOutputStream</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IStreamStore.html#getOutputStream()">getOutputStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IStreamStore.html" title="interface in com.bigdata.rawstore">IStreamStore</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The output stream.</dd></dl>
</li>
</ul>
<a name="getOutputStream(com.bigdata.rawstore.IAllocationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputStream</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore">IPSOutputStream</a>&nbsp;getOutputStream(<a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IAllocationManagerStore.html#getOutputStream(com.bigdata.rawstore.IAllocationContext)">IAllocationManagerStore</a></code></strong></div>
<div class="block">Return an output stream which can be used to write on the backing store
 within the given allocation context. You can recover the address used to
 read back the data from the <a href="../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore"><code>IPSOutputStream</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IAllocationManagerStore.html#getOutputStream(com.bigdata.rawstore.IAllocationContext)">getOutputStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IAllocationManagerStore.html" title="interface in com.bigdata.rawstore">IAllocationManagerStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - The context within which any allocations are made by the
            returned <a href="../../../com/bigdata/rawstore/IPSOutputStream.html" title="class in com.bigdata.rawstore"><code>IPSOutputStream</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an output stream to stream data to and to retrieve an address to
         later stream the data back.</dd></dl>
</li>
</ul>
<a name="getInputStream(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInputStream</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;getInputStream(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IStreamStore.html#getInputStream(long)">IStreamStore</a></code></strong></div>
<div class="block">Return an input stream from which a previously written stream may be read
 back.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IStreamStore.html#getInputStream(long)">getInputStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IStreamStore.html" title="interface in com.bigdata.rawstore">IStreamStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The address at which the stream was written.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an input stream for the data for provided address</dd></dl>
</li>
</ul>
<a name="delete(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;void&nbsp;delete(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html#delete(long)">IRawStore</a></code></strong></div>
<div class="block">Delete the data (unisolated).
 <p>
 After this operation subsequent reads on the address MAY fail and the
 caller MUST NOT depend on the ability to read at that address.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IRawStore.html#delete(long)">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore">IRawStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - A long integer formed using <code>Addr</code> that encodes both the
            offset at which the data was written and the #of bytes that
            were written.</dd></dl>
</li>
</ul>
<a name="delete(long, com.bigdata.rawstore.IAllocationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;void&nbsp;delete(long&nbsp;addr,
          <a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IAllocationManagerStore.html#delete(long,%20com.bigdata.rawstore.IAllocationContext)">IAllocationManagerStore</a></code></strong></div>
<div class="block">Delete the data associated with the address within the allocation
 context. The delete is not visible outside of the allocation until the
 allocation context has been merged into the parent allocation context.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IAllocationManagerStore.html#delete(long,%20com.bigdata.rawstore.IAllocationContext)">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IAllocationManagerStore.html" title="interface in com.bigdata.rawstore">IAllocationManagerStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The address whose allocation is to be deleted.</dd><dd><code>context</code> - The allocation context.</dd></dl>
</li>
</ul>
<a name="detachContext(com.bigdata.rawstore.IAllocationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>detachContext</h4>
<pre>public&nbsp;void&nbsp;detachContext(<a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rwstore/IAllocationManager.html#detachContext(com.bigdata.rawstore.IAllocationContext)">IAllocationManager</a></code></strong></div>
<div class="block">Indicates that the allocation context will no longer be used, but that
 the allocations made within the context should be preserved. The
 allocations associated with the context are propagated to the parent
 allocation context. The <a href="../../../com/bigdata/rwstore/IStore.html" title="interface in com.bigdata.rwstore"><code>IStore</code></a> is the top-level parent of
 allocation contexts. The allocators associated with the allocation
 context are return to the global list of available allocators.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rwstore/IAllocationManager.html#detachContext(com.bigdata.rawstore.IAllocationContext)">detachContext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rwstore/IAllocationManager.html" title="interface in com.bigdata.rwstore">IAllocationManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - The application object which serves as the allocation context.</dd></dl>
</li>
</ul>
<a name="abortContext(com.bigdata.rawstore.IAllocationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortContext</h4>
<pre>public&nbsp;void&nbsp;abortContext(<a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;context)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rwstore/IAllocationManager.html#abortContext(com.bigdata.rawstore.IAllocationContext)">IAllocationManager</a></code></strong></div>
<div class="block">Indicates that the allocation context will no longer be used and that the
 allocations made within the context should be discarded. The allocations
 associated with the context are discarded, as are any deletes made within
 the scope of that allocation context. The allocators associated with the
 allocation context are return to the global list of available allocators.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rwstore/IAllocationManager.html#abortContext(com.bigdata.rawstore.IAllocationContext)">abortContext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rwstore/IAllocationManager.html" title="interface in com.bigdata.rwstore">IAllocationManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - The application object which serves as the allocation context.</dd></dl>
</li>
</ul>
<a name="getRootAddr(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootAddr</h4>
<pre>public final&nbsp;long&nbsp;getRootAddr(int&nbsp;index)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IAtomicStore.html#getRootAddr(int)">IAtomicStore</a></code></strong></div>
<div class="block">The last address stored in the specified root slot as of the last
 committed state of the store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IAtomicStore.html#getRootAddr(int)">getRootAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IAtomicStore.html" title="interface in com.bigdata.journal">IAtomicStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>index</code> - The index of the root address to be retrieved.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The address stored at that index.</dd></dl>
</li>
</ul>
<a name="getEarliestVisibleCommitRecordForHA(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEarliestVisibleCommitRecordForHA</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal">ICommitRecord</a>&nbsp;getEarliestVisibleCommitRecordForHA(long&nbsp;releaseTime)</pre>
<div class="block">Resolve the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> for the earliest visible commit point
 based on the caller's <i>releaseTime</i>.
 <p>
 Note: This method is used for HA. The caller provides a releaseTime based
 on the readsOnCommitTime of the earliestActiveTx and the minReleaseAge
 rather than <a href="../../../com/bigdata/journal/ITransactionService.html#getReleaseTime()"><code>ITransactionService.getReleaseTime()</code></a> since the latter
 is only updated by the release time consensus protocol during a 2-phase
 commit.</div>
</li>
</ul>
<a name="getCommitRecord()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitRecord</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal">ICommitRecord</a>&nbsp;getCommitRecord()</pre>
<div class="block">Returns a read-only view of the most recently committed
 <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> containing the root addresses.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The current <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> and never <code>null</code>.</dd></dl>
</li>
</ul>
<a name="invalidateCommitters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidateCommitters</h4>
<pre>protected&nbsp;void&nbsp;invalidateCommitters()</pre>
<div class="block">This method is invoked to mark any persistence capable data structures
 as invalid (in an error state). This ensures that dirty committers are
 not accidentally flushed through after a call to abort().</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>https://jira.blazegraph.com/browse/BLZG-1953</code></dd></dl>
</li>
</ul>
<a name="discardCommitters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardCommitters</h4>
<pre>protected&nbsp;void&nbsp;discardCommitters()</pre>
<div class="block">This method is invoked by <a href="../../../com/bigdata/journal/AbstractJournal.html#abort()"><code>abort()</code></a> when the store must discard
 any hard references that it may be holding to objects registered as
 <a href="../../../com/bigdata/journal/ICommitter.html" title="interface in com.bigdata.journal"><code>ICommitter</code></a>s.
 <p>
 The default implementation discards the btree mapping names to named
 btrees.
 <p>
 Subclasses MAY extend this method to discard their own committers but
 MUST NOT override it completely.</div>
</li>
</ul>
<a name="setupCommitters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupCommitters</h4>
<pre>protected&nbsp;void&nbsp;setupCommitters()</pre>
<div class="block">Invoked when a journal is first created, re-opened, or when the
 committers have been <a href="../../../com/bigdata/journal/AbstractJournal.html#discardCommitters()"><code>discarded</code></a>.
 <p>
 The basic implementation sets up the btree that is responsible for
 resolving named btrees.
 <p>
 Subclasses may extend this method to setup their own committers.</div>
</li>
</ul>
<a name="getReadOnlyCommitRecordIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadOnlyCommitRecordIndex</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal">CommitRecordIndex</a>&nbsp;getReadOnlyCommitRecordIndex()</pre>
<div class="block">Return a read-only view of the last committed state of the
 <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal"><code>CommitRecordIndex</code></a>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The read-only view of the <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal"><code>CommitRecordIndex</code></a>.</dd></dl>
</li>
</ul>
<a name="getCommitRecordIndex(long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitRecordIndex</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal">CommitRecordIndex</a>&nbsp;getCommitRecordIndex(long&nbsp;addr,
                                     boolean&nbsp;readOnly)</pre>
<div class="block">Create or load and return the index that resolves timestamps to
 <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a>s. This method is capable of returning either the
 live <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal"><code>CommitRecordIndex</code></a> or a read-only view of any committed
 version of that index.
 
 <strong>CAUTION: DO NOT EXPOSE THE LIVE COMMIT RECORD INDEX OUTSIDE OF
 THIS CLASS. IT IS NOT POSSIBLE TO HAVE CORRECT SYNCHRONIZATION ON THAT
 INDEX IN ANOTHER CLASS.</code></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The root address of the index -or- 0L if the index has not
            been created yet. When addr is non-<a href="../../../com/bigdata/rawstore/IAddressManager.html#NULL"><code>IAddressManager.NULL</code></a>, each
            invocation will return a distinct <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal"><code>CommitRecordIndex</code></a>
            object.</dd><dd><code>readOnly</code> - When <code>false</code> the returned is NOT cached.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal"><code>CommitRecordIndex</code></a> for that address or a new index if
         <code>0L</code> was specified as the address.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/AbstractJournal.html#_commitRecordIndex"><code>_commitRecordIndex</code></a></dd></dl>
</li>
</ul>
<a name="getCommitRecord(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitRecord</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal">ICommitRecord</a>&nbsp;getCommitRecord(long&nbsp;commitTime)</pre>
<div class="block">Return the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> for the most recent committed state
 whose commit timestamp is less than or equal to <i>timestamp</i>. This
 is used by a <a href="../../../com/bigdata/journal/Tx.html" title="class in com.bigdata.journal"><code>transaction</code></a> to locate the committed state that is
 the basis for its operations.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IAtomicStore.html#getCommitRecord(long)">getCommitRecord</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IAtomicStore.html" title="interface in com.bigdata.journal">IAtomicStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>commitTime</code> - The timestamp of interest.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> for the most recent committed state
         whose commit timestamp is less than or equal to <i>timestamp</i>
         -or- <code>null</code> iff there are no <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a>s
         that satisfy the probe.</dd></dl>
</li>
</ul>
<a name="getCommitRecordStrictlyGreaterThan(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitRecordStrictlyGreaterThan</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal">ICommitRecord</a>&nbsp;getCommitRecordStrictlyGreaterThan(long&nbsp;commitTime)</pre>
<div class="block">Return the first commit record whose timestamp is strictly greater than
 the given commitTime.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>commitTime</code> - The commit time.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The commit record -or- <code>null</code> if there is no commit
         record whose timestamp is strictly greater than
         <i>commitTime</i>.</dd></dl>
</li>
</ul>
<a name="getIndex(java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndex</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree">IIndex</a>&nbsp;getIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
              long&nbsp;commitTime)</pre>
<div class="block">Return a view of the named index as of the specified timestamp.
 <p>
 Note: Transactions should pass in the timestamp against which they are
 reading rather than the transaction identifier (aka startTime). By
 providing the timestamp of the commit point, the transaction will hit the
 <a href="../../../com/bigdata/journal/AbstractJournal.html#indexCache"><code>indexCache</code></a>. If the transaction passes the startTime instead,
 then all startTimes will be different and the cache will be defeated.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IIndexManager.html#getIndex(java.lang.String,%20long)">getIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IIndexManager.html" title="interface in com.bigdata.journal">IIndexManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The index name.</dd><dd><code>commitTime</code> - A timestamp which represents either a possible commit time on
            the store or a read-only transaction identifier.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The index or <code>null</code> iff there is no index registered
         with that name for that timestamp.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - If you pass in <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a>,
             <a href="../../../com/bigdata/journal/ITx.html#READ_COMMITTED"><code>ITx.READ_COMMITTED</code></a>, or a timestamp that corresponds
             to a read-write transaction since those are not "commit
             times".</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/AbstractJournal.html#indexCache"><code>indexCache</code></a>, 
<a href="http://sourceforge.net/apps/trac/bigdata/ticket/546" > Add
      cache for access to historical index views on the Journal by name
      and commitTime. </a>
 
      FIXME GIST Reconcile API tension with {@link IIndex} and
      {@link ICheckpointProtocol}, however this method is overridden by
      {@link Journal} and is also implemented by
      {@link IBigdataFederation}. The central remaining tensions are
      {@link FusedView} and the local/remote aspect. {@link FusedView}
      could probably be "fixed" by extending {@link AbstractBTree} rather
      than having an inner delegate for the mutable view. The local/remote
      issue is more complex.</dd></dl>
</li>
</ul>
<a name="getIndexLocal(java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexLocal</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a>&nbsp;getIndexLocal(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                                long&nbsp;commitTime)</pre>
<div class="block">Core implementation for access to historical index views.
 <p>
 Note: Transactions should pass in the timestamp against which they are
 reading rather than the transaction identifier (aka startTime). By
 providing the timestamp of the commit point, the transaction will hit the
 <a href="../../../com/bigdata/journal/AbstractJournal.html#indexCache"><code>indexCache</code></a>. If the transaction passes the startTime instead,
 then all startTimes will be different and the cache will be defeated.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IGISTLocalManager.html#getIndexLocal(java.lang.String,%20long)">getIndexLocal</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IGISTLocalManager.html" title="interface in com.bigdata.journal">IGISTLocalManager</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - If you pass in <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a>,
             <a href="../../../com/bigdata/journal/ITx.html#READ_COMMITTED"><code>ITx.READ_COMMITTED</code></a>, or a timestamp that corresponds
             to a read-write transaction since those are not "commit
             times".</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/AbstractJournal.html#indexCache"><code>indexCache</code></a>, 
<a href="../../../com/bigdata/journal/AbstractJournal.html#getIndex(java.lang.String,%20long)"><code>getIndex(String, long)</code></a>, 
<a href="http://sourceforge.net/apps/trac/bigdata/ticket/546" > Add
      cache for access to historical index views on the Journal by name
      and commitTime. </a></dd></dl>
</li>
</ul>
<a name="getIndexCacheSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexCacheSize</h4>
<pre>protected&nbsp;int&nbsp;getIndexCacheSize()</pre>
<div class="block">The size of the cache from (name,timestamp) to <a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a>.</div>
</li>
</ul>
<a name="getHistoricalIndexCacheSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHistoricalIndexCacheSize</h4>
<pre>protected&nbsp;int&nbsp;getHistoricalIndexCacheSize()</pre>
<div class="block">The size of the canonicalizing cache from addr to <a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a>.</div>
</li>
</ul>
<a name="getIndexWithCommitRecord(java.lang.String, com.bigdata.journal.ICommitRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexWithCommitRecord</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a>&nbsp;getIndexWithCommitRecord(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                                           <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal">ICommitRecord</a>&nbsp;commitRecord)</pre>
<div class="block">Returns a read-only named index loaded from a <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a>. The
 index will be marked as read-only, it will NOT permit writes, and
 <code>ICheckpointProtocol#getLastCommitTime(long)</code> will report the value
 associated with <a href="../../../com/bigdata/journal/Name2Addr.Entry.html#commitTime"><code>Name2Addr.Entry.commitTime</code></a> for the historical
 <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> instance for that <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a>.
 <p>
 Note: This method should be preferred to
 <a href="../../../com/bigdata/journal/AbstractJournal.html#getIndexWithCheckpointAddr(long)"><code>getIndexWithCheckpointAddr(long)</code></a> for read-historical indices
 since it will explicitly mark the index as read-only and specifies the
 <i>lastCommitTime</i> on the returned index based on
 <a href="../../../com/bigdata/journal/Name2Addr.Entry.html#commitTime"><code>Name2Addr.Entry.commitTime</code></a>, which is the actual commit time for
 the last update to the index.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The named index -or- <code>null</code> iff the named index did
         not exist as of that commit record.</dd></dl>
</li>
</ul>
<a name="getIndexWithCheckpointAddr(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexWithCheckpointAddr</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a>&nbsp;getIndexWithCheckpointAddr(long&nbsp;checkpointAddr)</pre>
<div class="block">A canonicalizing mapping for <em>historical</em> (read-only) views of
 persistence capable data structures (core impl).
 <p>
 Note: This method imposes a canonicalizing mapping and ensures that there
 will be at most one object providing a view of the historical data
 structure as of the specified timestamp. This guarentee is used to
 facilitate buffer management.
 <p>
 Note: The canonicalizing mapping for unisolated views of persistence
 capable data structures is maintained by the <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a>
 <a href="../../../com/bigdata/journal/Name2Addr.html" title="class in com.bigdata.journal"><code>Name2Addr</code></a> instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>checkpointAddr</code> - The address of the <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a> record.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The read-only persistence capable data structure associated with
         that <a href="../../../com/bigdata/btree/Checkpoint.html" title="class in com.bigdata.btree"><code>Checkpoint</code></a>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/Options.html#HISTORICAL_INDEX_CACHE_CAPACITY"><code>Options.HISTORICAL_INDEX_CACHE_CAPACITY</code></a></dd></dl>
</li>
</ul>
<a name="registerIndex(com.bigdata.btree.IndexMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerIndex</h4>
<pre>public final&nbsp;void&nbsp;registerIndex(<a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)</pre>
<div class="block">Registers a named index. Once registered the index will participate in
 atomic commits.
 <p>
 Note: A named index must be registered outside of any transaction before
 it may be used inside of a transaction.
 <p>
 Note: You MUST <a href="../../../com/bigdata/journal/AbstractJournal.html#commit()"><code>commit()</code></a> before the registered index will be
 either restart-safe or visible to new transactions.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IGISTManager.html#registerIndex(com.bigdata.btree.IndexMetadata)">registerIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IGISTManager.html" title="interface in com.bigdata.journal">IGISTManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>metadata</code> - The metadata describing the index.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/IGISTLocalManager.html#getIndexLocal(java.lang.String,%20long)"><code>IGISTLocalManager.getIndexLocal(String, long)</code></a></dd></dl>
</li>
</ul>
<a name="validateIndexMetadata(java.lang.String, com.bigdata.btree.IndexMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateIndexMetadata</h4>
<pre>protected&nbsp;void&nbsp;validateIndexMetadata(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                         <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)</pre>
<div class="block">Provides an opportunity to validate some aspects of the
 <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> for an index partition.</div>
</li>
</ul>
<a name="registerIndex(java.lang.String, com.bigdata.btree.IndexMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerIndex</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a>&nbsp;registerIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                  <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>by <a href="../../../com/bigdata/journal/AbstractJournal.html#register(java.lang.String,%20com.bigdata.btree.IndexMetadata)"><code>register(String, IndexMetadata)</code></a></i></div>
<div class="block">Register a named index.
 <p>
 This variant allows you to register an index under a name other than the
 value returned by <a href="../../../com/bigdata/btree/IndexMetadata.html#getName()"><code>IndexMetadata.getName()</code></a>.
 <p>
 Note: This variant is generally by the <a href="../../../com/bigdata/service/IMetadataService.html" title="interface in com.bigdata.service"><code>IMetadataService</code></a> when it
 needs to register a index partition of some scale-out index on a
 <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>. In this case the <i>name</i> is the name of the
 index partition while the value reported by
 <a href="../../../com/bigdata/btree/IndexMetadata.html#getName()"><code>IndexMetadata.getName()</code></a> is the name of the scale-out index. In
 nearly all other cases you can use <a href="../../../com/bigdata/journal/IGISTManager.html#registerIndex(com.bigdata.btree.IndexMetadata)"><code>IGISTManager.registerIndex(IndexMetadata)</code></a>
 instead. The same method signature is also declared by
 <a href="../../../com/bigdata/service/IDataService.html#registerIndex(java.lang.String,%20com.bigdata.btree.IndexMetadata)"><code>IDataService.registerIndex(String, IndexMetadata)</code></a> in order to
 support registration of index partitions.
 <p>
 Note: Due to the method signature, this method CAN NOT be used to create
 and register persistence capable data structures other than an
 <a href="../../../com/bigdata/btree/IIndex.html" title="interface in com.bigdata.btree"><code>IIndex</code></a> (aka B+Tree).
 <p>
 Once registered the index will participate in atomic commits.
 <p>
 Note: A named index must be registered outside of any transaction before
 it may be used inside of a transaction.
 <p>
 Note: You MUST <a href="../../../com/bigdata/journal/AbstractJournal.html#commit()"><code>commit()</code></a> before the registered index will be
 either restart-safe or visible to new transactions.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IBTreeManager.html#registerIndex(java.lang.String,%20com.bigdata.btree.IndexMetadata)">registerIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IBTreeManager.html" title="interface in com.bigdata.journal">IBTreeManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name that can be used to recover the index.</dd><dd><code>metadata</code> - The metadata describing the index.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The object that would be returned by <a href="../../../com/bigdata/journal/IBTreeManager.html#getIndex(java.lang.String)"><code>IBTreeManager.getIndex(String)</code></a>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/IIndexManager.html#getIndex(java.lang.String,%20long)"><code>IIndexManager.getIndex(String, long)</code></a>, 
<a href="../../../com/bigdata/journal/IGISTLocalManager.html#getIndexLocal(java.lang.String,%20long)"><code>FIXME GIST Due to the method signature, this method CAN NOT be used
      to create and register persistence capable data structures other
      than an {@link IIndex} (aka B+Tree). It is difficult to reconcile
      this method with other method signatures since this method is
      designed for scale-out and relies on {@link IIndex}. However, only
      the B+Tree is an {@link IIndex}. Therefore, this method signature
      can not be readily reconciled with the {@link HTree}. The only
      interface which the {@link BTree} and {@link HTree} share is the
      {@link ICheckpointProtocol} interface, but that is a purely local
      (not remote) interface and is therefore not suitable to scale-out.
      Also, it is only in scale-out where the returned object can be a
      different type than the simple {@link BTree} class, e.g., a
      {@link FusedView} or even an {@link IClientIndex}.</code></a></dd></dl>
</li>
</ul>
<a name="register(java.lang.String, com.bigdata.btree.IndexMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a>&nbsp;register(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                           <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree">IndexMetadata</a>&nbsp;metadata)</pre>
<div class="block">Variant method creates and registered a named persistence capable data
 structure but does not assume that the data structure will be a
 <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IGISTLocalManager.html#register(java.lang.String,%20com.bigdata.btree.IndexMetadata)">register</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IGISTLocalManager.html" title="interface in com.bigdata.journal">IGISTLocalManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>store</code> - The backing store.</dd><dd><code>metadata</code> - The metadata that describes the data structure to be created.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The persistence capable data structure.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/btree/Checkpoint.html#create(com.bigdata.rawstore.IRawStore,%20com.bigdata.btree.IndexMetadata)"><code>Checkpoint.create(IRawStore, IndexMetadata)</code></a></dd></dl>
</li>
</ul>
<a name="registerIndex(java.lang.String, com.bigdata.btree.BTree)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerIndex</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a>&nbsp;registerIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                  <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a>&nbsp;ndx)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IBTreeManager.html#registerIndex(java.lang.String,%20com.bigdata.btree.BTree)">IBTreeManager</a></code></strong></div>
<div class="block">Register a named index.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IBTreeManager.html#registerIndex(java.lang.String,%20com.bigdata.btree.BTree)">registerIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IBTreeManager.html" title="interface in com.bigdata.journal">IBTreeManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name that can be used to recover the index.</dd><dd><code>ndx</code> - The btree.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The object that would be returned by <a href="../../../com/bigdata/journal/IBTreeManager.html#getIndex(java.lang.String)"><code>IBTreeManager.getIndex(String)</code></a>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/IGISTManager.html#registerIndex(com.bigdata.btree.IndexMetadata)"><code>IGISTManager.registerIndex(IndexMetadata)</code></a>, 
<a href="../../../com/bigdata/journal/IIndexManager.html#getIndex(java.lang.String,%20long)"><code>IIndexManager.getIndex(String, long)</code></a>, 
<a href="../../../com/bigdata/journal/IGISTLocalManager.html#getIndexLocal(java.lang.String,%20long)"><code>IGISTLocalManager.getIndexLocal(String, long)</code></a></dd></dl>
</li>
</ul>
<a name="registerIndex(java.lang.String, com.bigdata.htree.HTree)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerIndex</h4>
<pre>public final&nbsp;void&nbsp;registerIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                 <a href="../../../com/bigdata/htree/HTree.html" title="class in com.bigdata.htree">HTree</a>&nbsp;ndx)</pre>
</li>
</ul>
<a name="dropIndex(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropIndex</h4>
<pre>public&nbsp;void&nbsp;dropIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Drops the named index.
 <p>
 Note: Whether or not and when index resources are reclaimed is dependent
 on the store. For example, an immortal store will retain all historical
 states for all indices. Likewise, a store that uses index partitions may
 be able to delete index segments immediately.
 <p>
 Drops the named index. The index will no longer participate in atomic
 commits and will not be visible to new transactions. Storage will be
 reclaimed IFF the backing store support that functionality.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IGISTManager.html#dropIndex(java.lang.String)">dropIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IGISTManager.html" title="interface in com.bigdata.journal">IGISTManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name of the index to be dropped.</dd></dl>
</li>
</ul>
<a name="indexNameScan(java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexNameScan</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;indexNameScan(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prefix,
                             long&nbsp;timestamp)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IGISTManager.html#indexNameScan(java.lang.String,%20long)">IGISTManager</a></code></strong></div>
<div class="block">Iterator visits the names of all indices spanned by the given prefix.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IGISTManager.html#indexNameScan(java.lang.String,%20long)">indexNameScan</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IGISTManager.html" title="interface in com.bigdata.journal">IGISTManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>prefix</code> - The prefix (optional). When given, this MUST include a
            <code>.</code> if you want to restrict the scan to only those
            indices in a given namespace. Otherwise you can find indices
            in <code>kb2</code> if you provide the prefix <code>kb</code>
            where both kb and kb2 are namespaces since the indices spanned
            by <code>kb</code> would include both <code>kb.xyz</code> and
            <code>kb2.xyx</code>.</dd><dd><code>timestamp</code> - A timestamp which represents either a possible commit time on
            the store or a read-only transaction identifier.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An iterator visiting those index names.</dd></dl>
</li>
</ul>
<a name="getIndex(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndex</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree">BTree</a>&nbsp;getIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Return the mutable view of the named index (aka the "live" or
 <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> index). This object is NOT thread-safe. You MUST
 NOT write on this index unless you KNOW that you are the only writer. See
 <a href="../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal"><code>ConcurrencyManager</code></a>, which handles exclusive locks for
 <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> indices.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IBTreeManager.html#getIndex(java.lang.String)">getIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IBTreeManager.html" title="interface in com.bigdata.journal">IBTreeManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name of the index.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The mutable view of the index.</dd><dt><span class="strong">See Also:</span></dt><dd><code>#getLiveView(String, long)</code></dd></dl>
</li>
</ul>
<a name="getUnisolatedIndex(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnisolatedIndex</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/btree/ICheckpointProtocol.html" title="interface in com.bigdata.btree">ICheckpointProtocol</a>&nbsp;getUnisolatedIndex(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Return the mutable view of the named persistence capable data structure
 (aka the "live" or <a href="../../../com/bigdata/journal/ITx.html#UNISOLATED"><code>ITx.UNISOLATED</code></a> view).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IGISTLocalManager.html#getUnisolatedIndex(java.lang.String)">getUnisolatedIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IGISTLocalManager.html" title="interface in com.bigdata.journal">IGISTLocalManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The mutable view of the persistence capable data structure.</dd><dt><span class="strong">See Also:</span></dt><dd><code>IIndexManager#getIndex(String)</code>, 
<a href="https://sourceforge.net/apps/trac/bigdata/ticket/585" >
      GIST </a></dd></dl>
</li>
</ul>
<a name="getOffset(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOffset</h4>
<pre>public final&nbsp;long&nbsp;getOffset(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IAddressManager.html#getOffset(long)">IAddressManager</a></code></strong></div>
<div class="block">The offset on the store at which the datum is stored. While this is often
 the offset of a byte into a file on disk, implementations MAY assign
 offsets using other strategies.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IAddressManager.html#getOffset(long)">getOffset</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The opaque identifier that is the within store locator for
            some datum.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The offset of that datum.</dd></dl>
</li>
</ul>
<a name="getPhysicalAddress(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPhysicalAddress</h4>
<pre>public final&nbsp;long&nbsp;getPhysicalAddress(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IAddressManager.html#getPhysicalAddress(long)">IAddressManager</a></code></strong></div>
<div class="block">Determine the unencoded physical address</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IAddressManager.html#getPhysicalAddress(long)">getPhysicalAddress</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The encoded address</dd>
<dt><span class="strong">Returns:</span></dt><dd>an unencoded address offset</dd></dl>
</li>
</ul>
<a name="getByteCount(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getByteCount</h4>
<pre>public final&nbsp;int&nbsp;getByteCount(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IAddressManager.html#getByteCount(long)">IAddressManager</a></code></strong></div>
<div class="block">The length of the datum in bytes. This must be the actual length of the
 record on the disk, not the length of the caller's byte[]. This is
 necessary in order to support transparent checksums and/or compression
 for records in the <a href="../../../com/bigdata/rawstore/IRawStore.html" title="interface in com.bigdata.rawstore"><code>IRawStore</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IAddressManager.html#getByteCount(long)">getByteCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The opaque identifier that is the within store locator for
            some datum.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The offset of that datum.</dd></dl>
</li>
</ul>
<a name="toAddr(int, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toAddr</h4>
<pre>public final&nbsp;long&nbsp;toAddr(int&nbsp;nbytes,
          long&nbsp;offset)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IAddressManager.html#toAddr(int,%20long)">IAddressManager</a></code></strong></div>
<div class="block">Converts a byte count and offset into a long integer.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IAddressManager.html#toAddr(int,%20long)">toAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>nbytes</code> - The byte count.</dd><dd><code>offset</code> - The byte offset.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The long integer.</dd></dl>
</li>
</ul>
<a name="toString(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString(long&nbsp;addr)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rawstore/IAddressManager.html#toString(long)">IAddressManager</a></code></strong></div>
<div class="block">A human readable representation of the address.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rawstore/IAddressManager.html#toString(long)">toString</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rawstore/IAddressManager.html" title="interface in com.bigdata.rawstore">IAddressManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - The opaque identifier that is the within store locator for
            some datum.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A human readable representation.</dd></dl>
</li>
</ul>
<a name="getOffsetBits()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOffsetBits</h4>
<pre>public final&nbsp;int&nbsp;getOffsetBits()</pre>
</li>
</ul>
<a name="getMaxRecordSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxRecordSize</h4>
<pre>public final&nbsp;int&nbsp;getMaxRecordSize()</pre>
<div class="block">The maximum length of a record that may be written on the store.</div>
</li>
</ul>
<a name="getQuorumToken()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQuorumToken</h4>
<pre>protected&nbsp;long&nbsp;getQuorumToken()</pre>
</li>
</ul>
<a name="clearQuorumToken(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearQuorumToken</h4>
<pre>protected&nbsp;void&nbsp;clearQuorumToken(long&nbsp;newValue)</pre>
<div class="block">This method will update the quorum token on the journal and the
 associated values <em>as if</em> the service was not joined with a met
 quorum. This allows us to handle conditions where we know that the
 service will not be joined with the met quorum once it is able to observe
 the associated quorum events. However, those events can not be delivered
 until the service is connected to zookeeper and one of the common causes
 for entering the error state for the HAJournalServer is because the zk
 client connection has been closed, hence, no zk events.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newValue</code> - The new value.</dd></dl>
</li>
</ul>
<a name="setQuorumToken(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setQuorumToken</h4>
<pre>protected&nbsp;void&nbsp;setQuorumToken(long&nbsp;newValue)</pre>
</li>
</ul>
<a name="awaitHAReady(long, java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitHAReady</h4>
<pre>public final&nbsp;long&nbsp;awaitHAReady(long&nbsp;timeout,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;units)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="class or interface in java.util.concurrent">TimeoutException</a>,
                               <a href="../../../com/bigdata/quorum/AsynchronousQuorumCloseException.html" title="class in com.bigdata.quorum">AsynchronousQuorumCloseException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IJournal.html#awaitHAReady(long,%20java.util.concurrent.TimeUnit)">IJournal</a></code></strong></div>
<div class="block">Await the service being ready to partitipate in an HA quorum. The
 preconditions include:
 <ol>
 <li>receiving notice of the quorum token via <code>#setQuorumToken(long)</code>
 </li>
 <li>The service is joined with the met quorum for that token</li>
 <li>If the service is a follower and it's local root blocks were at
 <code>commitCounter:=0</code>, then the root blocks from the leader have
 been installed on the follower.</li>
 <ol></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IJournal.html#awaitHAReady(long,%20java.util.concurrent.TimeUnit)">awaitHAReady</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IJournal.html" title="interface in com.bigdata.journal">IJournal</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - The timeout to await this condition.</dd><dd><code>units</code> - The units for that timeout.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the quorum token for which the service became HA ready.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="class or interface in java.util.concurrent">TimeoutException</a></code></dd>
<dd><code><a href="../../../com/bigdata/quorum/AsynchronousQuorumCloseException.html" title="class in com.bigdata.quorum">AsynchronousQuorumCloseException</a></code></dd></dl>
</li>
</ul>
<a name="getHAReady()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHAReady</h4>
<pre>public final&nbsp;long&nbsp;getHAReady()</pre>
<div class="block">Returns the current value of the <code>haReadyToken</code>
 (non-blocking).</div>
</li>
</ul>
<a name="getHAStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHAStatus</h4>
<pre>public final&nbsp;<a href="../../../com/bigdata/ha/HAStatusEnum.html" title="enum in com.bigdata.ha">HAStatusEnum</a>&nbsp;getHAStatus()</pre>
<div class="block">A simplified summary of the HA status of the service. This may be used to
 reliably decide whether the service is the <a href="../../../com/bigdata/ha/HAStatusEnum.html#Leader"><code>HAStatusEnum.Leader</code></a>, a
 <a href="../../../com/bigdata/ha/HAStatusEnum.html#Follower"><code>HAStatusEnum.Follower</code></a>, or <a href="../../../com/bigdata/ha/HAStatusEnum.html#NotReady"><code>HAStatusEnum.NotReady</code></a>. This is
 exposed both here (an RMI interface) and by the REST API.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../com/bigdata/ha/HAStatusEnum.html" title="enum in com.bigdata.ha"><code>HAStatusEnum</code></a> or <code>null</code> if the store is not
         associated with a <a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum"><code>Quorum</code></a>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/ha/HAGlue.html#getHAStatus()"><code>HAGlue.getHAStatus()</code></a></dd></dl>
</li>
</ul>
<a name="assertHAReady(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertHAReady</h4>
<pre>public final&nbsp;void&nbsp;assertHAReady(long&nbsp;token)
                         throws <a href="../../../com/bigdata/quorum/QuorumException.html" title="class in com.bigdata.quorum">QuorumException</a></pre>
<div class="block">Assert that the <a href="../../../com/bigdata/journal/AbstractJournal.html#getHAReady()"><code>getHAReady()</code></a> token has the specified value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>token</code> - The specified value.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/bigdata/quorum/QuorumException.html" title="class in com.bigdata.quorum">QuorumException</a></code></dd></dl>
</li>
</ul>
<a name="installRootBlocks(com.bigdata.journal.IRootBlockView, com.bigdata.journal.IRootBlockView)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>installRootBlocks</h4>
<pre>protected&nbsp;void&nbsp;installRootBlocks(<a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;rootBlock0,
                     <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;rootBlock1)</pre>
<div class="block">Install identical root blocks on the journal. This is used for a few
 different conditions in HA.
 <ol>
 <li>When the quorum meets for the first time, we need to take the root
 block from the leader and use it to replace both of our root blocks (the
 initial root blocks are identical). That will make the root blocks the
 same on all quorum members.</li>
 <li>REBUILD: When a service goes through an automated disaster recovery,
 we need to install new root blocks in order to make the local journal
 logically empty. This prevents the service from attempting to interpret
 the data on the backing file if there is a restart part way through the
 rebuild operation.</li>
 </ol>
 
 FIXME We should also verify the following:
 
 <pre>
 - the DirectBufferPool.INSTANCE has the same buffer
 capacity (so there will be room for the write cache
 data in the buffers on all nodes).
 </pre></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>QuorumService#installRootBlocks(IRootBlockView)</code></dd></dl>
</li>
</ul>
<a name="doLocalAbort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doLocalAbort</h4>
<pre>public final&nbsp;void&nbsp;doLocalAbort()</pre>
<div class="block">Local commit protocol (HA).  This exists to do a non-2-phase abort
 in HA.</div>
</li>
</ul>
<a name="doLocalCommit(com.bigdata.journal.IRootBlockView)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doLocalCommit</h4>
<pre>public final&nbsp;void&nbsp;doLocalCommit(<a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;rootBlock)</pre>
<div class="block">Local commit protocol (HA, offline).
 <p>
 Note: This is used to support RESTORE by replay of HALog files when
 the HAJournalServer is offline.
 
 TODO This method should be protected.  If we move the HARestore class
 into this package, then it can be changed from public to protected or
 package private.</div>
</li>
</ul>
<a name="doLocalCommit(com.bigdata.ha.QuorumService, com.bigdata.journal.IRootBlockView)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doLocalCommit</h4>
<pre>protected&nbsp;void&nbsp;doLocalCommit(<a href="../../../com/bigdata/ha/QuorumService.html" title="interface in com.bigdata.ha">QuorumService</a>&lt;<a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a>&gt;&nbsp;localService,
                 <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;rootBlock)</pre>
<div class="block">Local commit protocol (HA).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>localService</code> - For HA modes only. When non-<code>null</code>, this is used to
            identify whether the service is the leader. When the service
            is not the leader, we need to do some additional work to
            maintain the <a href="../../../com/bigdata/rwstore/IRWStrategy.html" title="interface in com.bigdata.rwstore"><code>IRWStrategy</code></a> allocators in synch at each
            commit point.</dd><dd><code>rootBlock</code> - The new root block.</dd></dl>
</li>
</ul>
<a name="getQuorum()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQuorum</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum">Quorum</a>&lt;<a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a>,<a href="../../../com/bigdata/ha/QuorumService.html" title="interface in com.bigdata.ha">QuorumService</a>&lt;<a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a>&gt;&gt;&nbsp;getQuorum()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IJournal.html#getQuorum()">IJournal</a></code></strong></div>
<div class="block">The <a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum"><code>Quorum</code></a> for this service -or- <code>null</code> if the service
 is not running with a quorum.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IJournal.html#getQuorum()">getQuorum</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IJournal.html" title="interface in com.bigdata.journal">IJournal</a></code></dd>
</dl>
</li>
</ul>
<a name="newHAGlue(java.util.UUID)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newHAGlue</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/ha/HAGlue.html" title="interface in com.bigdata.ha">HAGlue</a>&nbsp;newHAGlue(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;serviceId)</pre>
<div class="block">Factory for the <code>HADelegate</code> object for this
 <a href="../../../com/bigdata/journal/AbstractJournal.html" title="class in com.bigdata.journal"><code>AbstractJournal</code></a>. The object returned by this method will be made
 available using <a href="../../../com/bigdata/quorum/QuorumMember.html#getService()"><code>QuorumMember.getService()</code></a>.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - always.</dd></dl>
</li>
</ul>
<a name="getRootBlocks()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootBlocks</h4>
<pre>protected&nbsp;<a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>[]&nbsp;getRootBlocks()</pre>
<div class="block">Return both root blocks (atomically - used by HA).
 <p>
 Note: This takes a lock to ensure that the root blocks are consistent
 with a commit point on the backing store.</div>
</li>
</ul>
<a name="snapshotAllocationData(java.util.concurrent.atomic.AtomicReference)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshotAllocationData</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/journal/AbstractJournal.ISnapshotData.html" title="interface in com.bigdata.journal">AbstractJournal.ISnapshotData</a>&nbsp;snapshotAllocationData(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicReference</a>&lt;<a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&gt;&nbsp;rbv)
                                                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">With lock held to ensure that there is no concurrent commit, copy
 key data atomically to ensure recovered snapshot is consistent with
 the commit state when the snapshot is taken.  This atomic data snapshot
 can be merged with the file data to ensure a valid new store copy.
 <p>
 If this is not done then it is possible for the allocation data - both
 metabits and fixed allocator commit bits - to be overwritten and inconsistent
 with the saved root blocks.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="removeCommitRecordEntries(byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeCommitRecordEntries</h4>
<pre>public&nbsp;int&nbsp;removeCommitRecordEntries(byte[]&nbsp;fromKey,
                            byte[]&nbsp;toKey)</pre>
<div class="block">Remove all commit records between the two provided keys.
 <p>
 This is called from the RWStore when it checks for deferredFrees against
 the CommitRecordIndex where the CommitRecords reference the deleteBlocks
 that have been deferred.
 <p>
 Once processed the records for the effected range muct be removed as they
 reference invalid states.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fromKey</code> - </dd><dd><code>toKey</code> - </dd><dt><span class="strong">See Also:</span></dt><dd><code>https://sourceforge.net/apps/trac/bigdata/ticket/440</code>, 
<a href="../../../com/bigdata/rwstore/IHistoryManager.html#checkDeferredFrees(com.bigdata.journal.AbstractJournal)"><code>IHistoryManager.checkDeferredFrees(AbstractJournal)</code></a></dd></dl>
</li>
</ul>
<a name="newAllocationContext(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>newAllocationContext</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/rawstore/IAllocationContext.html" title="interface in com.bigdata.rawstore">IAllocationContext</a>&nbsp;newAllocationContext(boolean&nbsp;isolated)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/rwstore/IAllocationManager.html#newAllocationContext(boolean)">IAllocationManager</a></code></strong></div>
<div class="block">Creates a context to be used to isolate updates to within the context until it
 is released to the parent environment.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/rwstore/IAllocationManager.html#newAllocationContext(boolean)">newAllocationContext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/rwstore/IAllocationManager.html" title="interface in com.bigdata.rwstore">IAllocationManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>a new IAlocationContext</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractJournal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/journal/AbstractInterruptsTestCase.html" title="class in com.bigdata.journal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/journal/AbstractJournal.BasicHA.html" title="class in com.bigdata.journal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/journal/AbstractJournal.html" target="_top">Frames</a></li>
<li><a href="AbstractJournal.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2019 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
