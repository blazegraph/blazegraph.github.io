<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Tue Jan 26 02:01:32 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ConcurrencyManager (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)</title>
<meta name="date" content="2016-01-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ConcurrencyManager (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConcurrencyManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/journal/CompactTask.CopyIndexTask.html" title="class in com.bigdata.journal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/journal/ConcurrencyManager.IConcurrencyManagerCounters.html" title="interface in com.bigdata.journal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/journal/ConcurrencyManager.html" target="_top">Frames</a></li>
<li><a href="ConcurrencyManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.journal</div>
<h2 title="Class ConcurrencyManager" class="title">Class ConcurrencyManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.journal.ConcurrencyManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a>, <a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal">IConcurrencyManager</a>, <a href="../../../com/bigdata/service/IServiceShutdown.html" title="interface in com.bigdata.service">IServiceShutdown</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">ConcurrencyManager</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal">IConcurrencyManager</a></pre>
<div class="block">Supports concurrent operations against named indices. Historical read and
 read-committed tasks run with full concurrency. For unisolated tasks, the
 <a href="../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal"><code>ConcurrencyManager</code></a> uses a <a href="../../../com/bigdata/concurrent/NonBlockingLockManager.html" title="class in com.bigdata.concurrent"><code>NonBlockingLockManager</code></a> to identify
 a schedule of operations such that access to an unisolated named index is
 always single threaded while access to distinct unisolated named indices MAY
 be concurrent.
 <p>
 There are several thread pools that facilitate concurrency. They are:
 <dl>
 
 <dt><a href="../../../com/bigdata/journal/ConcurrencyManager.html#readService"><code>readService</code></a></dt>
 <dd>Concurrent historical and read-committed tasks are run against a
 <strong>historical</strong> view of a named index using this service. No
 locking is imposed. Concurrency is limited by the size of the thread pool.</dd>
 
 <dt><a href="../../../com/bigdata/journal/ConcurrencyManager.html#writeService"><code>writeService</code></a></dt>
 <dd>Concurrent unisolated writers running against the <strong>current</strong>
 view of (or more more) named index(s) (the "live" or "mutable" index(s)). The
 underlying <a href="../../../com/bigdata/btree/BTree.html" title="class in com.bigdata.btree"><code>BTree</code></a> is NOT thread-safe for writers. Therefore writers
 MUST predeclare their locks, which allows us to avoid deadlocks altogether.
 This is also used to schedule the commit phrase of transactions (transaction
 commits are in fact unisolated tasks).</dd>
 
 <dt><a href="../../../com/bigdata/journal/ConcurrencyManager.html#txWriteService"><code>txWriteService</code></a></dt>
 <dd>
 <p>
 This is used for the "active" phrase of transaction. Transactions read from
 historical states of named indices during their active phase and buffer the
 results on isolated indices backed by a per-transaction
 <a href="../../../com/bigdata/journal/TemporaryStore.html" title="class in com.bigdata.journal"><code>TemporaryStore</code></a>. Since transactions never write on the unisolated
 indices during their "active" phase, distinct transactions may be run with
 arbitrary concurrency. However, concurrent tasks for the same transaction
 must obtain an exclusive lock on the isolated index(s) that are used to
 buffer their writes.
 </p>
 <p>
 A transaction that requests a commit using the
 <code>ITransactionManagerService</code> results in a unisolated task being
 submitted to the <a href="../../../com/bigdata/journal/ConcurrencyManager.html#writeService"><code>writeService</code></a>. Transactions are selected to commit
 once they have acquired a lock on the corresponding unisolated indices,
 thereby enforcing serialization of their write sets both among other
 transactions and among unisolated writers. The commit itself consists of the
 standard validation and merge phrases.
 </p>
 </dd></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.IConcurrencyManagerCounters.html" title="interface in com.bigdata.journal">ConcurrencyManager.IConcurrencyManagerCounters</a></strong></code>
<div class="block">Interface defines and documents the counters and counter namespaces for
 the <a href="../../../com/bigdata/journal/ConcurrencyManager.html" title="class in com.bigdata.journal"><code>ConcurrencyManager</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.Options.html" title="interface in com.bigdata.journal">ConcurrencyManager.Options</a></strong></code>
<div class="block">Options for the <code>ConcurrentManager</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/util/concurrent/TaskCounters.html" title="class in com.bigdata.util.concurrent">TaskCounters</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#countersHR">countersHR</a></strong></code>
<div class="block">Counters for the <a href="../../../com/bigdata/journal/ConcurrencyManager.html#readService"><code>readService</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/util/concurrent/TaskCounters.html" title="class in com.bigdata.util.concurrent">TaskCounters</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#countersTX">countersTX</a></strong></code>
<div class="block">Counters for the <a href="../../../com/bigdata/journal/ConcurrencyManager.html#txWriteService"><code>txWriteService</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../com/bigdata/util/concurrent/WriteTaskCounters.html" title="class in com.bigdata.util.concurrent">WriteTaskCounters</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#countersUN">countersUN</a></strong></code>
<div class="block">Counters for <a href="../../../com/bigdata/journal/ConcurrencyManager.html#writeService"><code>writeService</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#ConcurrencyManager(java.util.Properties,%20com.bigdata.journal.ILocalTransactionManager,%20com.bigdata.journal.IResourceManager)">ConcurrencyManager</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties,
                  <a href="../../../com/bigdata/journal/ILocalTransactionManager.html" title="interface in com.bigdata.journal">ILocalTransactionManager</a>&nbsp;transactionManager,
                  <a href="../../../com/bigdata/journal/IResourceManager.html" title="interface in com.bigdata.journal">IResourceManager</a>&nbsp;resourceManager)</code>
<div class="block">(Re-)open a journal supporting concurrent operations.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#getCounters()">getCounters</a></strong>()</code>
<div class="block">Return the <a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters"><code>CounterSet</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#getJournalOverextended()">getJournalOverextended</a></strong>()</code>
<div class="block">Return the overextension multiplier for the journal.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/IResourceManager.html" title="interface in com.bigdata.journal">IResourceManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#getResourceManager()">getResourceManager</a></strong>()</code>
<div class="block">The object used to manage local resources.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/ILocalTransactionManager.html" title="interface in com.bigdata.journal">ILocalTransactionManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#getTransactionManager()">getTransactionManager</a></strong>()</code>
<div class="block">The client side of the transaction manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/WriteExecutorService.html" title="class in com.bigdata.journal">WriteExecutorService</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#getWriteService()">getWriteService</a></strong>()</code>
<div class="block">The service on which read-write tasks are executed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;T&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#invokeAll(java.util.Collection)">invokeAll</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;? extends <a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal">AbstractTask</a>&lt;T&gt;&gt;&nbsp;tasks)</code>
<div class="block">Executes the given tasks, returning a list of Futures holding their
 status and results when all complete.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;T&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#invokeAll(java.util.Collection,%20long,%20java.util.concurrent.TimeUnit)">invokeAll</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;? extends <a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal">AbstractTask</a>&lt;T&gt;&gt;&nbsp;tasks,
         long&nbsp;timeout,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</code>
<div class="block">Executes the given tasks, returning a list of Futures holding their
 status and results when all complete or the timeout expires, whichever
 happens first.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#isOpen()">isOpen</a></strong>()</code>
<div class="block">Return <code>true</code> iff the service is running.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#shutdown()">shutdown</a></strong>()</code>
<div class="block">Shutdown the thread pools (running tasks will run to completion, but no
 new tasks will start).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#shutdownNow()">shutdownNow</a></strong>()</code>
<div class="block">Immediate shutdown (running tasks are canceled rather than being
 permitted to complete).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/FutureTask.html?is-external=true" title="class or interface in java.util.concurrent">FutureTask</a>&lt;T&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/ConcurrencyManager.html#submit(com.bigdata.journal.AbstractTask)">submit</a></strong>(<a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal">AbstractTask</a>&lt;T&gt;&nbsp;task)</code>
<div class="block">Submit a task (asynchronous).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="countersUN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countersUN</h4>
<pre>protected final&nbsp;<a href="../../../com/bigdata/util/concurrent/WriteTaskCounters.html" title="class in com.bigdata.util.concurrent">WriteTaskCounters</a> countersUN</pre>
<div class="block">Counters for <a href="../../../com/bigdata/journal/ConcurrencyManager.html#writeService"><code>writeService</code></a>.</div>
</li>
</ul>
<a name="countersTX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countersTX</h4>
<pre>protected final&nbsp;<a href="../../../com/bigdata/util/concurrent/TaskCounters.html" title="class in com.bigdata.util.concurrent">TaskCounters</a> countersTX</pre>
<div class="block">Counters for the <a href="../../../com/bigdata/journal/ConcurrencyManager.html#txWriteService"><code>txWriteService</code></a>.</div>
</li>
</ul>
<a name="countersHR">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>countersHR</h4>
<pre>protected final&nbsp;<a href="../../../com/bigdata/util/concurrent/TaskCounters.html" title="class in com.bigdata.util.concurrent">TaskCounters</a> countersHR</pre>
<div class="block">Counters for the <a href="../../../com/bigdata/journal/ConcurrencyManager.html#readService"><code>readService</code></a>.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ConcurrencyManager(java.util.Properties, com.bigdata.journal.ILocalTransactionManager, com.bigdata.journal.IResourceManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ConcurrencyManager</h4>
<pre>public&nbsp;ConcurrencyManager(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties,
                  <a href="../../../com/bigdata/journal/ILocalTransactionManager.html" title="interface in com.bigdata.journal">ILocalTransactionManager</a>&nbsp;transactionManager,
                  <a href="../../../com/bigdata/journal/IResourceManager.html" title="interface in com.bigdata.journal">IResourceManager</a>&nbsp;resourceManager)</pre>
<div class="block">(Re-)open a journal supporting concurrent operations.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>properties</code> - See <a href="../../../com/bigdata/journal/ConcurrencyManager.Options.html" title="interface in com.bigdata.journal"><code>ConcurrencyManager.Options</code></a>.</dd><dd><code>transactionManager</code> - The object managing the local transactions.</dd><dd><code>resourceManager</code> - The object managing the resources on which the indices are
            stored.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getWriteService()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteService</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/journal/WriteExecutorService.html" title="class in com.bigdata.journal">WriteExecutorService</a>&nbsp;getWriteService()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IConcurrencyManager.html#getWriteService()">IConcurrencyManager</a></code></strong></div>
<div class="block">The service on which read-write tasks are executed.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IConcurrencyManager.html#getWriteService()">getWriteService</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal">IConcurrencyManager</a></code></dd>
</dl>
</li>
</ul>
<a name="getTransactionManager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionManager</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/journal/ILocalTransactionManager.html" title="interface in com.bigdata.journal">ILocalTransactionManager</a>&nbsp;getTransactionManager()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IConcurrencyManager.html#getTransactionManager()">IConcurrencyManager</a></code></strong></div>
<div class="block">The client side of the transaction manager.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IConcurrencyManager.html#getTransactionManager()">getTransactionManager</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal">IConcurrencyManager</a></code></dd>
</dl>
</li>
</ul>
<a name="getResourceManager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResourceManager</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/journal/IResourceManager.html" title="interface in com.bigdata.journal">IResourceManager</a>&nbsp;getResourceManager()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IConcurrencyManager.html#getResourceManager()">IConcurrencyManager</a></code></strong></div>
<div class="block">The object used to manage local resources.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IConcurrencyManager.html#getResourceManager()">getResourceManager</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal">IConcurrencyManager</a></code></dd>
</dl>
</li>
</ul>
<a name="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre>public&nbsp;boolean&nbsp;isOpen()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/service/IServiceShutdown.html#isOpen()">IServiceShutdown</a></code></strong></div>
<div class="block">Return <code>true</code> iff the service is running.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IServiceShutdown.html#isOpen()">isOpen</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IServiceShutdown.html" title="interface in com.bigdata.service">IServiceShutdown</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Shutdown the thread pools (running tasks will run to completion, but no
 new tasks will start).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IConcurrencyManager.html#shutdown()">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal">IConcurrencyManager</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IServiceShutdown.html#shutdown()">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IServiceShutdown.html" title="interface in com.bigdata.service">IServiceShutdown</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/IConcurrencyManager.html#shutdownNow()"><code>IConcurrencyManager.shutdownNow()</code></a></dd></dl>
</li>
</ul>
<a name="shutdownNow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownNow</h4>
<pre>public&nbsp;void&nbsp;shutdownNow()</pre>
<div class="block">Immediate shutdown (running tasks are canceled rather than being
 permitted to complete).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IConcurrencyManager.html#shutdownNow()">shutdownNow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal">IConcurrencyManager</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/service/IServiceShutdown.html#shutdownNow()">shutdownNow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/service/IServiceShutdown.html" title="interface in com.bigdata.service">IServiceShutdown</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/journal/ConcurrencyManager.html#shutdown()"><code>shutdown()</code></a></dd></dl>
</li>
</ul>
<a name="getCounters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCounters</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters">CounterSet</a>&nbsp;getCounters()</pre>
<div class="block">Return the <a href="../../../com/bigdata/counters/CounterSet.html" title="class in com.bigdata.counters"><code>CounterSet</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/counters/ICounterSetAccess.html#getCounters()">getCounters</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/counters/ICounterSetAccess.html" title="interface in com.bigdata.counters">ICounterSetAccess</a></code></dd>
</dl>
</li>
</ul>
<a name="submit(com.bigdata.journal.AbstractTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/FutureTask.html?is-external=true" title="class or interface in java.util.concurrent">FutureTask</a>&lt;T&gt;&nbsp;submit(<a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal">AbstractTask</a>&lt;T&gt;&nbsp;task)</pre>
<div class="block">Submit a task (asynchronous). Tasks will execute asynchronously in the
 appropriate thread pool with as much concurrency as possible.
 <p>
 Note: Unisolated write tasks will NOT return before the next group commit
 (exceptions may be thrown if the task fails or the commit fails). The
 purpose of group commits is to provide higher throughput for writes on
 the store by only syncing the data to disk periodically rather than after
 every write. Group commits are scheduled by the <code>#commitService</code>.
 The trigger conditions for group commits may be configured using
 <a href="../../../com/bigdata/journal/ConcurrencyManager.Options.html" title="interface in com.bigdata.journal"><code>ConcurrencyManager.Options</code></a>. If you are using the store in a
 single threaded context then you may set
 <a href="../../../com/bigdata/journal/ConcurrencyManager.Options.html#WRITE_SERVICE_CORE_POOL_SIZE"><code>ConcurrencyManager.Options.WRITE_SERVICE_CORE_POOL_SIZE</code></a> to ONE (1) which has the
 effect of triggering commit immediately after each unisolated write.
 However, note that you can not sync a disk more than ~ 30-40 times per
 second so your throughput in write operations per second will never
 exceed that for a single-threaded application writing on a hard disk.
 (Your mileage can vary if you are writing on a transient store or using a
 durable medium other than disk).
 <p>
 Note: The isolated indices used by a read-write transaction are NOT
 thread-safe. Therefore a partial order is imposed over concurrent tasks
 for the <strong>same</strong> transaction that seek to read or write on
 the same index(s). Full concurrency is allowed when different
 transactions access the same index(s), but write-write conflicts MAY be
 detected during commit processing.
 <p>
 Note: The following exceptions MAY be wrapped by <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true#get()" title="class or interface in java.util.concurrent"><code>Future.get()</code></a> for
 tasks submitted via this method:
 <dl>
 <dt><a href="../../../com/bigdata/journal/ValidationError.html" title="class in com.bigdata.journal"><code>ValidationError</code></a></dt>
 <dd>An unisolated write task was attempting to commit the write set for
 a transaction but validation failed. You may retry the entire
 transaction.</dd>
 <dt><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang"><code>InterruptedException</code></a></dt>
 <dd>A task was interrupted during execution and before the task had
 completed normally. You MAY retry the task, but note that this exception
 is also generated when tasks are cancelled when the journal is being
 <a href="../../../com/bigdata/journal/ConcurrencyManager.html#shutdown()"><code>shutdown()</code></a> after the timeout has expired or
 <a href="../../../com/bigdata/journal/ConcurrencyManager.html#shutdownNow()"><code>shutdownNow()</code></a>. In either of these cases the task will not be
 accepted by the journal.</dd>
 <dt></dt>
 <dd></dd>
 </dl></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IConcurrencyManager.html#submit(com.bigdata.journal.AbstractTask)">submit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal">IConcurrencyManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>task</code> - The task.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a> that may be used to resolve the outcome of the
         task.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RejectedExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">RejectedExecutionException</a></code> - if task cannot be scheduled for execution (typically the
                queue has a limited capacity and is full)</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if task null</dd></dl>
</li>
</ul>
<a name="getJournalOverextended()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJournalOverextended</h4>
<pre>public&nbsp;double&nbsp;getJournalOverextended()</pre>
<div class="block">Return the overextension multiplier for the journal. This is the ratio of
 the bytes written on the journal against its nominal maximum extent. For
 example, an overextension of two means that the journal has reached twice
 is nominal maximum extent. This is zero unless we are running in a
 distributed federation.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The overextension multipler.</dd></dl>
</li>
</ul>
<a name="invokeAll(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invokeAll</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;T&gt;&gt;&nbsp;invokeAll(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;? extends <a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal">AbstractTask</a>&lt;T&gt;&gt;&nbsp;tasks)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Executes the given tasks, returning a list of Futures holding their
 status and results when all complete. Note that a completed task could
 have terminated either normally or by throwing an exception. The results
 of this method are undefined if the given collection is modified while
 this operation is in progress.
 <p>
 Note: Contract is per <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true#invokeAll(java.util.Collection)" title="class or interface in java.util.concurrent"><code>ExecutorService.invokeAll(Collection)</code></a></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IConcurrencyManager.html#invokeAll(java.util.Collection)">invokeAll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal">IConcurrencyManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tasks</code> - The tasks.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Their <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>s.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if interrupted while waiting, in which case unfinished
                tasks are canceled.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if tasks or any of its elements are null</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RejectedExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">RejectedExecutionException</a></code> - if any task cannot be scheduled for execution</dd></dl>
</li>
</ul>
<a name="invokeAll(java.util.Collection, long, java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>invokeAll</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;T&gt;&gt;&nbsp;invokeAll(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;? extends <a href="../../../com/bigdata/journal/AbstractTask.html" title="class in com.bigdata.journal">AbstractTask</a>&lt;T&gt;&gt;&nbsp;tasks,
                            long&nbsp;timeout,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Executes the given tasks, returning a list of Futures holding their
 status and results when all complete or the timeout expires, whichever
 happens first. Note that a completed task could have terminated either
 normally or by throwing an exception. The results of this method are
 undefined if the given collection is modified while this operation is in
 progress.
 <p>
 Note: Contract is based on
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true#invokeAll(java.util.Collection,%20long,%20java.util.concurrent.TimeUnit)" title="class or interface in java.util.concurrent"><code>ExecutorService.invokeAll(Collection, long, TimeUnit)</code></a> but only
 the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>s of the submitted tasks are returned.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IConcurrencyManager.html#invokeAll(java.util.Collection,%20long,%20java.util.concurrent.TimeUnit)">invokeAll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IConcurrencyManager.html" title="interface in com.bigdata.journal">IConcurrencyManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tasks</code> - The tasks.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>s of all tasks that were
         <a href="../../../com/bigdata/journal/ConcurrencyManager.html#submit(com.bigdata.journal.AbstractTask)"><code>submitted</code></a> prior to the expiration
         of the timeout.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if interrupted while waiting, in which case unfinished
                tasks are canceled.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if tasks or any of its elements are null</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RejectedExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">RejectedExecutionException</a></code> - if any task cannot be scheduled for execution</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConcurrencyManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/journal/CompactTask.CopyIndexTask.html" title="class in com.bigdata.journal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/journal/ConcurrencyManager.IConcurrencyManagerCounters.html" title="interface in com.bigdata.journal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/journal/ConcurrencyManager.html" target="_top">Frames</a></li>
<li><a href="ConcurrencyManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
