<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Sat Jun 18 19:37:50 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RootBlockView (Blazegraph Database Platform 2.1.2 API)</title>
<meta name="date" content="2016-06-18">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RootBlockView (Blazegraph Database Platform 2.1.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RootBlockView.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/journal/RootBlockUtility.html" title="class in com.bigdata.journal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/journal/RunState.html" title="enum in com.bigdata.journal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/journal/RootBlockView.html" target="_top">Frames</a></li>
<li><a href="RootBlockView.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.journal</div>
<h2 title="Class RootBlockView" class="title">Class RootBlockView</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bigdata.journal.RootBlockView</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">RootBlockView</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></pre>
<div class="block">A view onto a root block of the <a href="../../../com/bigdata/journal/Journal.html" title="class in com.bigdata.journal"><code>Journal</code></a>.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id$</dd>
<dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#currentVersion">currentVersion</a></strong></code>
<div class="block">The current version for new root blocks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static short</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#SIZEOF_ROOT_BLOCK">SIZEOF_ROOT_BLOCK</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.bigdata.journal.IRootBlockView">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></h3>
<code><a href="../../../com/bigdata/journal/IRootBlockView.html#NO_BLOCK_SEQUENCE">NO_BLOCK_SEQUENCE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#RootBlockView(boolean,%20java.nio.ByteBuffer,%20com.bigdata.io.ChecksumUtility)">RootBlockView</a></strong>(boolean&nbsp;rootBlock0,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;buf,
             <a href="../../../com/bigdata/io/ChecksumUtility.html" title="class in com.bigdata.io">ChecksumUtility</a>&nbsp;checker)</code>
<div class="block">Create a new read-only view from the supplied buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#RootBlockView(boolean,%20int,%20long,%20long,%20long,%20long,%20long,%20long,%20java.util.UUID,%20long,%20long,%20long,%20long,%20com.bigdata.journal.StoreTypeEnum,%20long,%20long,%20int,%20com.bigdata.io.ChecksumUtility)">RootBlockView</a></strong>(boolean&nbsp;rootBlock0,
             int&nbsp;offsetBits,
             long&nbsp;nextOffset,
             long&nbsp;firstCommitTime,
             long&nbsp;lastCommitTime,
             long&nbsp;commitCounter,
             long&nbsp;commitRecordAddr,
             long&nbsp;commitRecordIndexAddr,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;uuid,
             long&nbsp;blockSequence,
             long&nbsp;quorumToken,
             long&nbsp;metaStartAddr,
             long&nbsp;metaBitsAddr,
             <a href="../../../com/bigdata/journal/StoreTypeEnum.html" title="enum in com.bigdata.journal">StoreTypeEnum</a>&nbsp;storeTypeEnum,
             long&nbsp;createTime,
             long&nbsp;closeTime,
             int&nbsp;version,
             <a href="../../../com/bigdata/io/ChecksumUtility.html" title="class in com.bigdata.io">ChecksumUtility</a>&nbsp;checker)</code>
<div class="block">Create a new read-only root block image with a unique timestamp.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#asReadOnlyBuffer()">asReadOnlyBuffer</a></strong>()</code>
<div class="block">A read-only buffer whose contents are the root block.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#asRootBlock(boolean)">asRootBlock</a></strong>(boolean&nbsp;rootBlock0)</code>
<div class="block">Return a version of the caller's root block that is flagged as either
 rootBlock0 or rootBlock1 as indicated by the argument.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#calcChecksum(com.bigdata.io.ChecksumUtility)">calcChecksum</a></strong>(<a href="../../../com/bigdata/io/ChecksumUtility.html" title="class in com.bigdata.io">ChecksumUtility</a>&nbsp;checker)</code>
<div class="block">Compute the checksum of the root block (excluding only the field
 including the checksum value itself).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#equals(java.lang.Object)">equals</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</code>
<div class="block">
 
 Overriden to implement equality based on the data in the
 <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal"><code>IRootBlockView</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getBlockSequence()">getBlockSequence</a></strong>()</code>
<div class="block">Return the #of <a href="../../../com/bigdata/io/writecache/WriteCache.html" title="class in com.bigdata.io.writecache"><code>WriteCache</code></a> blocks that have been written out as
 part of the current write set.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getChallisField()">getChallisField</a></strong>()</code>
<div class="block">The "Challis field" is written at both the head and the tail of each root
 block and is a strictly increasing value positive long integer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getChecksum(com.bigdata.io.ChecksumUtility)">getChecksum</a></strong>(<a href="../../../com/bigdata/io/ChecksumUtility.html" title="class in com.bigdata.io">ChecksumUtility</a>&nbsp;checker)</code>
<div class="block">Return the checksum store in the root block (excluding only the field
 including the checksum value itself).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getCloseTime()">getCloseTime</a></strong>()</code>
<div class="block">The timestamp assigned as the time at which writes were disallowed for
 the journal.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getCommitCounter()">getCommitCounter</a></strong>()</code>
<div class="block">The commit counter is a positive long integer that is strictly local to
 the store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getCommitRecordAddr()">getCommitRecordAddr</a></strong>()</code>
<div class="block">Return the address at which the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> for this root block
 is stored.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getCommitRecordIndexAddr()">getCommitRecordIndexAddr</a></strong>()</code>
<div class="block">The address of the root of the <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal"><code>CommitRecordIndex</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getCreateTime()">getCreateTime</a></strong>()</code>
<div class="block">The timestamp assigned as the creation time for the journal.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getFirstCommitTime()">getFirstCommitTime</a></strong>()</code>
<div class="block">The database wide timestamp of first commit on the store -or- 0L if there
 have been no commits.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getLastCommitTime()">getLastCommitTime</a></strong>()</code>
<div class="block">The database wide timestamp of the most recent commit on the store or 0L
 iff there have been no commits.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getLocalTime()">getLocalTime</a></strong>()</code>
<div class="block">A purely <em>informative</em> field whose value is the system local
 timestamp of the last commit as reported by
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/System.html?is-external=true#currentTimeMillis()" title="class or interface in java.lang"><code>System.currentTimeMillis()</code></a> or the time at which the store was
 created iff there have been no commits.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getMetaBitsAddr()">getMetaBitsAddr</a></strong>()</code>
<div class="block">For the <a href="../../../com/bigdata/journal/StoreTypeEnum.html#RW"><code>StoreTypeEnum.RW</code></a> store, where we will read the metadata
 bits from.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getMetaStartAddr()">getMetaStartAddr</a></strong>()</code>
<div class="block">For the <a href="../../../com/bigdata/journal/StoreTypeEnum.html#RW"><code>StoreTypeEnum.RW</code></a> store, the start of the area of the file
 where the allocation blocks are allocated.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getNextOffset()">getNextOffset</a></strong>()</code>
<div class="block">The next offset at which a data item would be written on the store.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getOffsetBits()">getOffsetBits</a></strong>()</code>
<div class="block">The #of bits in a 64-bit long integer address that are dedicated to the
 byte offset into the store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getQuorumToken()">getQuorumToken</a></strong>()</code>
<div class="block">The <a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum"><code>Quorum</code></a> token associated with this commit point or
 <a href="../../../com/bigdata/quorum/Quorum.html#NO_QUORUM"><code>Quorum.NO_QUORUM</code></a> if there was no quorum.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/bigdata/journal/StoreTypeEnum.html" title="enum in com.bigdata.journal">StoreTypeEnum</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getStoreType()">getStoreType</a></strong>()</code>
<div class="block">A byte value which specifies whether the backing store is a journal
 (log-structured store or WORM) or a read-write store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getUUID()">getUUID</a></strong>()</code>
<div class="block">The unique journal identifier</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#getVersion()">getVersion</a></strong>()</code>
<div class="block">The root block version number.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#hashCode()">hashCode</a></strong>()</code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#isRootBlock0()">isRootBlock0</a></strong>()</code>
<div class="block">There are two root blocks and they are written in an alternating order.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#toString(long)">toString</a></strong>(long&nbsp;t)</code>
<div class="block">Format a commit time as the raw milliseconds since the epoch value plus a
 fully expressed date and time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/RootBlockView.html#valid()">valid</a></strong>()</code>
<div class="block">Assertion throws exception unless the root block is valid.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SIZEOF_ROOT_BLOCK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SIZEOF_ROOT_BLOCK</h4>
<pre>public static final transient&nbsp;short SIZEOF_ROOT_BLOCK</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.journal.RootBlockView.SIZEOF_ROOT_BLOCK">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="currentVersion">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>currentVersion</h4>
<pre>public static final&nbsp;int currentVersion</pre>
<div class="block">The current version for new root blocks. While different kinds of backing
 store (e.g., the RW and WORM as of this time) may have some fields which
 are not used by the other kinds of backing stores, they ALL share the
 same root block versioning system. Further, all evolutions in the root
 block versioning MUST be backwards compatible (earlier versions must be
 readable). Finally, new root block images MUST be formed using the
 <a href="../../../com/bigdata/journal/RootBlockView.html#currentVersion"><code>currentVersion</code></a>.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.bigdata.journal.RootBlockView.currentVersion">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RootBlockView(boolean, int, long, long, long, long, long, long, java.util.UUID, long, long, long, long, com.bigdata.journal.StoreTypeEnum, long, long, int, com.bigdata.io.ChecksumUtility)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RootBlockView</h4>
<pre>public&nbsp;RootBlockView(boolean&nbsp;rootBlock0,
             int&nbsp;offsetBits,
             long&nbsp;nextOffset,
             long&nbsp;firstCommitTime,
             long&nbsp;lastCommitTime,
             long&nbsp;commitCounter,
             long&nbsp;commitRecordAddr,
             long&nbsp;commitRecordIndexAddr,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;uuid,
             long&nbsp;blockSequence,
             long&nbsp;quorumToken,
             long&nbsp;metaStartAddr,
             long&nbsp;metaBitsAddr,
             <a href="../../../com/bigdata/journal/StoreTypeEnum.html" title="enum in com.bigdata.journal">StoreTypeEnum</a>&nbsp;storeTypeEnum,
             long&nbsp;createTime,
             long&nbsp;closeTime,
             int&nbsp;version,
             <a href="../../../com/bigdata/io/ChecksumUtility.html" title="class in com.bigdata.io">ChecksumUtility</a>&nbsp;checker)</pre>
<div class="block">Create a new read-only root block image with a unique timestamp. The
 other fields are populated from the supplied parameters.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>offsetBits</code> - The #of bits out of a 64-bit long integer that are used to
            encode the byte offset as an unsigned integer. The remaining
            bits are used to encode the byte count (aka record length) as
            an unsigned integer.</dd><dd><code>nextOffset</code> - The next offset at which a record will be written on the
            store.</dd><dd><code>firstCommitTime</code> - The timestamp of the earliest commit on the store or zero (0L)
            iff there have been no commits.</dd><dd><code>lastCommitTime</code> - The timestamp of the most recent commit on the store or zero
            (0L) iff there have been no commits. This is distinct from the
            values written as part of the Challis algorithm. The latter
            exist solely to detect commit failures. This timestamp is
            assigned by the transaction commit protocol.</dd><dd><code>commitCounter</code> - The commit counter. This should be ZERO (0L) for a new
            journal. For an existing journal, the value should be
            incremented by ONE (1) each time the root block is written (as
            part of a commit naturally).</dd><dd><code>commitRecordAddr</code> - The address at which the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> containing the
            root addresses was written or 0L if there are no root
            addresses (this is true when the store is first created).</dd><dd><code>commitRecordIndexAddr</code> - The address at which the <a href="../../../com/bigdata/btree/IndexMetadata.html" title="class in com.bigdata.btree"><code>IndexMetadata</code></a> for the
            <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal"><code>CommitRecordIndex</code></a> was written or 0L if there are no
            historical <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a>s (this is true when the store
            is first created).</dd><dd><code>uuid</code> - The unique journal identifier.</dd><dd><code>blockSequence</code> - The <a href="../../../com/bigdata/io/writecache/WriteCache.html" title="class in com.bigdata.io.writecache"><code>WriteCache</code></a> block sequence number as of the commit
            point (origin ZERO(0)).</dd><dd><code>quorumToken</code> - The current quorum token if this commit point is part of a
            <a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum"><code>Quorum</code></a>.</dd><dd><code>metaStartAddr</code> - For the <a href="../../../com/bigdata/journal/StoreTypeEnum.html#RW"><code>StoreTypeEnum.RW</code></a> store, the start of the area
            of the file where the allocation blocks are allocated. This is
            also a byte offset into the file and is stored as a 64-bit
            integer. It is called metaStartAddr because that is the offset
            that is used with the metaBitsAddr to determine how to find
            the allocation blocks. The value for a WORM store is ZERO (0).</dd><dd><code>metaBitsAddr</code> - For the <a href="../../../com/bigdata/journal/StoreTypeEnum.html#RW"><code>StoreTypeEnum.RW</code></a> store, where we will read the
            metadata bits from. When we start the store up we need to
            retrieve the metabits from this address. This is a byte offset
            into the file and is stored as a long integer. Normal
            addresses are calculated with reference to the allocation
            blocks. The value for a WORM store is ZERO (0).</dd><dd><code>storeTypeEnum</code> - The kind of persistence store. See <a href="../../../com/bigdata/journal/StoreTypeEnum.html" title="enum in com.bigdata.journal"><code>StoreTypeEnum</code></a>.</dd><dd><code>checker</code> - An object that is used to compute the checksum to be stored in
            the root block (required).</dd><dd><code>createTime</code> - The timestamp of the creation event for the journal. This is
            mainly used by the <a href="../../../com/bigdata/resources/ResourceManager.html" title="class in com.bigdata.resources"><code>ResourceManager</code></a> to impose a
            chronological order on the journals.</dd><dd><code>closeTime</code> - ZERO(0L) unless the journal has been closed for write
            operations, in which case this is the timestamp of the event
            that disallowed further writes on this journal. This is mainly
            used by the <a href="../../../com/bigdata/resources/ResourceManager.html" title="class in com.bigdata.resources"><code>ResourceManager</code></a> to indicate that a journal
            is no longer available for writing (because it has been
            superseded by another journal).</dd><dd><code>version</code> - </dd></dl>
</li>
</ul>
<a name="RootBlockView(boolean, java.nio.ByteBuffer, com.bigdata.io.ChecksumUtility)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RootBlockView</h4>
<pre>public&nbsp;RootBlockView(boolean&nbsp;rootBlock0,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;buf,
             <a href="../../../com/bigdata/io/ChecksumUtility.html" title="class in com.bigdata.io">ChecksumUtility</a>&nbsp;checker)
              throws <a href="../../../com/bigdata/journal/RootBlockException.html" title="class in com.bigdata.journal">RootBlockException</a></pre>
<div class="block">Create a new read-only view from the supplied buffer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rootBlock0</code> - There are two root blocks and they are written in an
            alternating order. For the sake of distinction, the first one
            is referred to as "rootBlock0" while the 2nd one is referred
            to as "rootBlock1". This parameter allows the caller to store
            a transient field on the view that indicates which root block
            it represents.</dd><dd><code>buf</code> - The buffer.</dd><dd><code>checker</code> - An object used to compute the checksum of the root block
            (optional, when <code>null</code> the checksum stored in the
            root block will not be verified).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the buffer is null or if the #of bytes remaining in the
                buffer is not exactly <a href="../../../com/bigdata/journal/RootBlockView.html#SIZEOF_ROOT_BLOCK"><code>SIZEOF_ROOT_BLOCK</code></a>.</dd>
<dd><code><a href="../../../com/bigdata/journal/RootBlockException.html" title="class in com.bigdata.journal">RootBlockException</a></code> - if the root block is not valid (bad magic, timestamps do
                not agree, etc).</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isRootBlock0()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRootBlock0</h4>
<pre>public&nbsp;boolean&nbsp;isRootBlock0()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#isRootBlock0()">IRootBlockView</a></code></strong></div>
<div class="block">There are two root blocks and they are written in an alternating order.
 For the sake of distinction, the first one is referred to as "rootBlock0"
 while the 2nd one is referred to as "rootBlock1". This method indicates
 which root block is represented by this view based on metadata supplied
 to the constructor (the distinction is not persistent on disk).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#isRootBlock0()">isRootBlock0</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>True iff the root block view was constructed from "rootBlock0".</dd></dl>
</li>
</ul>
<a name="asReadOnlyBuffer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asReadOnlyBuffer</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;asReadOnlyBuffer()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#asReadOnlyBuffer()">IRootBlockView</a></code></strong></div>
<div class="block">A read-only buffer whose contents are the root block. The position,
 limit, and mark will be independent for each <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a> that is
 returned by this method.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#asReadOnlyBuffer()">asReadOnlyBuffer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="asRootBlock(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asRootBlock</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a>&nbsp;asRootBlock(boolean&nbsp;rootBlock0)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#asRootBlock(boolean)">IRootBlockView</a></code></strong></div>
<div class="block">Return a version of the caller's root block that is flagged as either
 rootBlock0 or rootBlock1 as indicated by the argument. Root blocks are
 immutable, so this will either return your argument or return a new
 <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal"><code>IRootBlockView</code></a> in which the sense of the <a href="../../../com/bigdata/journal/IRootBlockView.html#isRootBlock0()"><code>IRootBlockView.isRootBlock0()</code></a>
 flag is now correct.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#asRootBlock(boolean)">asRootBlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>rootBlock0</code> - Whether you want rootBlock0 or rootBlock1.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The root block.</dd></dl>
</li>
</ul>
<a name="hashCode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre>public&nbsp;int&nbsp;hashCode()</pre>
<div class="block">
 <p>
 Overridden to implement the hash code as the hash code of the data in the
 backing <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>. The <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal"><code>IRootBlockView</code></a> is immutable. The
 hash code is computed lazily. Once computed, the hash code is NOT
 recomputed for the same <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal"><code>IRootBlockView</code></a>.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="equals(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>public&nbsp;boolean&nbsp;equals(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</pre>
<div class="block">
 
 Overriden to implement equality based on the data in the
 <a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal"><code>IRootBlockView</code></a>.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="getVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersion</h4>
<pre>public&nbsp;int&nbsp;getVersion()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getVersion()">IRootBlockView</a></code></strong></div>
<div class="block">The root block version number.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getVersion()">getVersion</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="getOffsetBits()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOffsetBits</h4>
<pre>public&nbsp;int&nbsp;getOffsetBits()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getOffsetBits()">IRootBlockView</a></code></strong></div>
<div class="block">The #of bits in a 64-bit long integer address that are dedicated to the
 byte offset into the store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getOffsetBits()">getOffsetBits</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/bigdata/rawstore/WormAddressManager.html" title="class in com.bigdata.rawstore"><code>WormAddressManager</code></a></dd></dl>
</li>
</ul>
<a name="getNextOffset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextOffset</h4>
<pre>public&nbsp;long&nbsp;getNextOffset()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getNextOffset()">IRootBlockView</a></code></strong></div>
<div class="block">The next offset at which a data item would be written on the store.
 
 FIXME The RWStore has different semantics for this field. Document those
 semantics and modify <a href="../../../com/bigdata/journal/AbstractJournal.html" title="class in com.bigdata.journal"><code>AbstractJournal</code></a> so we can directly decide
 how many bytes were "written" (for the WORM) or were "allocated" (for the
 RWStore, in which case it should probably be the net of the bytes
 allocated and released). Update all the locations in the code which rely
 on <a href="../../../com/bigdata/journal/IRootBlockView.html#getNextOffset()"><code>IRootBlockView.getNextOffset()</code></a> to compute the #of bytes written onto the
 store.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getNextOffset()">getNextOffset</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="getLocalTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalTime</h4>
<pre>public&nbsp;long&nbsp;getLocalTime()</pre>
<div class="block">A purely <em>informative</em> field whose value is the system local
 timestamp of the last commit as reported by
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/System.html?is-external=true#currentTimeMillis()" title="class or interface in java.lang"><code>System.currentTimeMillis()</code></a> or the time at which the store was
 created iff there have been no commits. Unlike
 <a href="../../../com/bigdata/journal/RootBlockView.html#getFirstCommitTime()"><code>getFirstCommitTime()</code></a> and <a href="../../../com/bigdata/journal/RootBlockView.html#getLastCommitTime()"><code>getLastCommitTime()</code></a> this field
 does NOT provide a guarantee that time is strictly increasing.
 <p>
 Note: This field is stored for post-mortem purposes and is NOT used
 internally.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A purely <em>informative</em> field whose value is the system
         local timestamp of the last commit.</dd></dl>
</li>
</ul>
<a name="getFirstCommitTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstCommitTime</h4>
<pre>public&nbsp;long&nbsp;getFirstCommitTime()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getFirstCommitTime()">IRootBlockView</a></code></strong></div>
<div class="block">The database wide timestamp of first commit on the store -or- 0L if there
 have been no commits.  In a local database, this timestamp is generated by
 a local timestamp service.  In a distributed database, this timestamp
 is generated by a shared timestamp service. The timestamps returned by
 this method are strictly increasing for a given store and for a given
 database.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getFirstCommitTime()">getFirstCommitTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The timestamp of the first commit on the store or 0L iff there
         have been no commits.</dd></dl>
</li>
</ul>
<a name="getLastCommitTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastCommitTime</h4>
<pre>public&nbsp;long&nbsp;getLastCommitTime()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getLastCommitTime()">IRootBlockView</a></code></strong></div>
<div class="block">The database wide timestamp of the most recent commit on the store or 0L
 iff there have been no commits. In a local database, this timestamp is
 generated by a local timestamp service. In a distributed database, this
 timestamp is generated by a shared timestamp service. The timestamps
 returned by this method are strictly increasing for a given store and for
 a given database.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getLastCommitTime()">getLastCommitTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The timestamp of the most recent commit on the store or 0L iff
         there have been no commits.</dd></dl>
</li>
</ul>
<a name="getChallisField()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChallisField</h4>
<pre>public&nbsp;long&nbsp;getChallisField()
                     throws <a href="../../../com/bigdata/journal/RootBlockException.html" title="class in com.bigdata.journal">RootBlockException</a></pre>
<div class="block">The "Challis field" is written at both the head and the tail of each root
 block and is a strictly increasing value positive long integer. This
 field is used to detect partial writes of the root blocks (the values of
 the field in a given root block will not agree).  This field is also used
 to identify which of the two root blocks is more recent (it will have the
 larger value for this field).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The value of the "Challis" field.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/bigdata/journal/RootBlockException.html" title="class in com.bigdata.journal">RootBlockException</a></code> - if the values on the root block do not agree.</dd></dl>
</li>
</ul>
<a name="getCommitCounter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitCounter</h4>
<pre>public&nbsp;long&nbsp;getCommitCounter()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getCommitCounter()">IRootBlockView</a></code></strong></div>
<div class="block">The commit counter is a positive long integer that is strictly local to
 the store. The commit counter is used to avoid problems with timestamps
 generated by different machines or when time goes backwards or other
 nasty stuff. The correct root block is chosen by selecting the valid
 root block with the larger commit counter (the value of the commit counter
 is reused by the <code>Challis field</code>).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getCommitCounter()">getCommitCounter</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The commit counter.</dd></dl>
</li>
</ul>
<a name="getCommitRecordAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitRecordAddr</h4>
<pre>public&nbsp;long&nbsp;getCommitRecordAddr()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getCommitRecordAddr()">IRootBlockView</a></code></strong></div>
<div class="block">Return the address at which the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> for this root block
 is stored. The <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a>s are stored separately from the
 root block so that they may be indexed by the commit timestamps. This is
 necessary in order to be able to quickly recover the root addresses for a
 given commit timestamp, which is a featured used to support transactional
 isolation.
 <p>
 Note: When a logical journal may overflow onto more than one physical
 journal then the address of the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> MAY refer to a
 historical physical journal and care MUST be exercised to resolve the
 address against the appropriate journal file. [This paragraph is probably
 not valid.  Verify and remove if it is not true.]</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getCommitRecordAddr()">getCommitRecordAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The address at which the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> for this root
         block is stored.</dd></dl>
</li>
</ul>
<a name="getCommitRecordIndexAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitRecordIndexAddr</h4>
<pre>public&nbsp;long&nbsp;getCommitRecordIndexAddr()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getCommitRecordIndexAddr()">IRootBlockView</a></code></strong></div>
<div class="block">The address of the root of the <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal"><code>CommitRecordIndex</code></a>. The
 <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal"><code>CommitRecordIndex</code></a> contains the ordered addresses of the
 historical <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a>s on the <a href="../../../com/bigdata/journal/Journal.html" title="class in com.bigdata.journal"><code>Journal</code></a>. The address
 of the <a href="../../../com/bigdata/journal/CommitRecordIndex.html" title="class in com.bigdata.journal"><code>CommitRecordIndex</code></a> is stored directly in the root block
 rather than the <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a> since we can not obtain this
 address until after we have formatted and written the
 <a href="../../../com/bigdata/journal/ICommitRecord.html" title="interface in com.bigdata.journal"><code>ICommitRecord</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getCommitRecordIndexAddr()">getCommitRecordIndexAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="valid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>valid</h4>
<pre>public&nbsp;void&nbsp;valid()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#valid()">IRootBlockView</a></code></strong></div>
<div class="block">Assertion throws exception unless the root block is valid. Conditions
 tested include the root block MAGIC and the root block timestamps (there
 are two and they must agree).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#valid()">valid</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="getUUID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUUID</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;getUUID()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getUUID()">IRootBlockView</a></code></strong></div>
<div class="block">The unique journal identifier</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getUUID()">getUUID</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="getCreateTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCreateTime</h4>
<pre>public&nbsp;long&nbsp;getCreateTime()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getCreateTime()">IRootBlockView</a></code></strong></div>
<div class="block">The timestamp assigned as the creation time for the journal.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getCreateTime()">getCreateTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="getCloseTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCloseTime</h4>
<pre>public&nbsp;long&nbsp;getCloseTime()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getCloseTime()">IRootBlockView</a></code></strong></div>
<div class="block">The timestamp assigned as the time at which writes were disallowed for
 the journal.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getCloseTime()">getCloseTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="getChecksum(com.bigdata.io.ChecksumUtility)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChecksum</h4>
<pre>public&nbsp;int&nbsp;getChecksum(<a href="../../../com/bigdata/io/ChecksumUtility.html" title="class in com.bigdata.io">ChecksumUtility</a>&nbsp;checker)
                throws <a href="../../../com/bigdata/journal/RootBlockException.html" title="class in com.bigdata.journal">RootBlockException</a></pre>
<div class="block">Return the checksum store in the root block (excluding only the field
 including the checksum value itself).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>checker</code> - An object used to compute the checksum. Note that you can
            disable the checksum test by passing in a <code>null</code>
            value here.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The checksum stored in the root block.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/bigdata/journal/RootBlockException.html" title="class in com.bigdata.journal">RootBlockException</a></code> - if the checksum stored in the root block does not agree
                with the checksum computed by
                <a href="../../../com/bigdata/journal/RootBlockView.html#calcChecksum(com.bigdata.io.ChecksumUtility)"><code>calcChecksum(ChecksumUtility)</code></a>.</dd></dl>
</li>
</ul>
<a name="calcChecksum(com.bigdata.io.ChecksumUtility)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcChecksum</h4>
<pre>public&nbsp;int&nbsp;calcChecksum(<a href="../../../com/bigdata/io/ChecksumUtility.html" title="class in com.bigdata.io">ChecksumUtility</a>&nbsp;checker)</pre>
<div class="block">Compute the checksum of the root block (excluding only the field
 including the checksum value itself).</div>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="toString(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString(long&nbsp;t)</pre>
<div class="block">Format a commit time as the raw milliseconds since the epoch value plus a
 fully expressed date and time.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>t</code> - The commit time.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The date and time strong.</dd></dl>
</li>
</ul>
<a name="getMetaBitsAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetaBitsAddr</h4>
<pre>public&nbsp;long&nbsp;getMetaBitsAddr()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getMetaBitsAddr()">IRootBlockView</a></code></strong></div>
<div class="block">For the <a href="../../../com/bigdata/journal/StoreTypeEnum.html#RW"><code>StoreTypeEnum.RW</code></a> store, where we will read the metadata
 bits from. When we start the store up we need to retrieve the metabits
 from this address. This is a byte offset into the file and is stored as a
 long integer. Normal addresses are calculated with reference to the
 allocation blocks. The value for a WORM store is ZERO (0).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getMetaBitsAddr()">getMetaBitsAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="getMetaStartAddr()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetaStartAddr</h4>
<pre>public&nbsp;long&nbsp;getMetaStartAddr()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html#getMetaStartAddr()">IRootBlockView</a></code></strong></div>
<div class="block">For the <a href="../../../com/bigdata/journal/StoreTypeEnum.html#RW"><code>StoreTypeEnum.RW</code></a> store, the start of the area of the file
 where the allocation blocks are allocated. This is also a byte offset
 into the file and is stored as a 64-bit integer. It is called
 metaStartAddr because that is the offset that is used with the
 metaBitsAddr to determine how to find the allocation blocks. The value
 for a WORM store is ZERO (0).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getMetaStartAddr()">getMetaStartAddr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="getStoreType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStoreType</h4>
<pre>public&nbsp;<a href="../../../com/bigdata/journal/StoreTypeEnum.html" title="enum in com.bigdata.journal">StoreTypeEnum</a>&nbsp;getStoreType()</pre>
<div class="block">A byte value which specifies whether the backing store is a journal
 (log-structured store or WORM) or a read-write store. Only two values are
 defined at present. ZERO (0) is a WORM; ONE (1) is a read/write store.
 <p>
 Note: The <a href="../../../com/bigdata/journal/RootBlockView.html#OFFSET_STORETYPE"><code>OFFSET_STORETYPE</code></a> field was defined in
 <a href="../../../com/bigdata/journal/RootBlockView.html#VERSION1"><code>VERSION1</code></a>. The default value for that field before
 <a href="../../../com/bigdata/journal/RootBlockView.html#VERSION1"><code>VERSION1</code></a> is <a href="../../../com/bigdata/journal/StoreTypeEnum.html#WORM"><code>StoreTypeEnum.WORM</code></a> since only the WORM
 persistence store existed in earlier versions of the root block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getStoreType()">getStoreType</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="getQuorumToken()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQuorumToken</h4>
<pre>public&nbsp;long&nbsp;getQuorumToken()</pre>
<div class="block">The <a href="../../../com/bigdata/quorum/Quorum.html" title="interface in com.bigdata.quorum"><code>Quorum</code></a> token associated with this commit point or
 <a href="../../../com/bigdata/quorum/Quorum.html#NO_QUORUM"><code>Quorum.NO_QUORUM</code></a> if there was no quorum.
 <p>
 Note: If commit points are part of the resynchronization protocol, they
 MUST NOT use the current quorum token unless the service is synchronized
 with the quorum at that commit point.
 <p>
 Note: The quorum token was introduced in <a href="../../../com/bigdata/journal/RootBlockView.html#VERSION2"><code>VERSION2</code></a>. The default
 value for that field before <a href="../../../com/bigdata/journal/RootBlockView.html#VERSION2"><code>VERSION2</code></a> is {Quorum#NO_QUORUM}.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getQuorumToken()">getQuorumToken</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
<a name="getBlockSequence()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getBlockSequence</h4>
<pre>public&nbsp;long&nbsp;getBlockSequence()</pre>
<div class="block">Return the #of <a href="../../../com/bigdata/io/writecache/WriteCache.html" title="class in com.bigdata.io.writecache"><code>WriteCache</code></a> blocks that have been written out as
 part of the current write set. This value is origin ZERO (0) and is reset
 to ZERO (0) after each commit or abort.
 <p>
 Note: The write cache block sequence was introduced in <a href="../../../com/bigdata/journal/RootBlockView.html#VERSION3"><code>VERSION3</code></a>.
 The default value for that field before <a href="../../../com/bigdata/journal/RootBlockView.html#VERSION3"><code>VERSION3</code></a> is
 .</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/bigdata/journal/IRootBlockView.html#getBlockSequence()">getBlockSequence</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/bigdata/journal/IRootBlockView.html" title="interface in com.bigdata.journal">IRootBlockView</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RootBlockView.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/journal/RootBlockUtility.html" title="class in com.bigdata.journal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/journal/RunState.html" title="enum in com.bigdata.journal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/journal/RootBlockView.html" target="_top">Frames</a></li>
<li><a href="RootBlockView.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
