<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Tue Jan 26 02:01:33 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>IDistributedTransactionService (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)</title>
<meta name="date" content="2016-01-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IDistributedTransactionService (Blazegraph Database Platform 2.0.0-master-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IDistributedTransactionService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/journal/IDiskBasedStrategy.html" title="interface in com.bigdata.journal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/journal/IGISTLocalManager.html" title="interface in com.bigdata.journal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/journal/IDistributedTransactionService.html" target="_top">Frames</a></li>
<li><a href="IDistributedTransactionService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bigdata.journal</div>
<h2 title="Interface IDistributedTransactionService" class="title">Interface IDistributedTransactionService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a>, <a href="../../../com/bigdata/journal/ITimestampService.html" title="interface in com.bigdata.journal">ITimestampService</a>, <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal">ITransactionService</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/rmi/Remote.html?is-external=true" title="class or interface in java.rmi">Remote</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../com/bigdata/service/AbstractEmbeddedTransactionService.html" title="class in com.bigdata.service">AbstractEmbeddedTransactionService</a>, <a href="../../../com/bigdata/journal/DelegateTransactionService.html" title="class in com.bigdata.journal">DelegateTransactionService</a>, <a href="../../../com/bigdata/service/DistributedTransactionService.html" title="class in com.bigdata.service">DistributedTransactionService</a>, <a href="../../../com/bigdata/service/EmbeddedFederation.EmbeddedTransactionServiceImpl.html" title="class in com.bigdata.service">EmbeddedFederation.EmbeddedTransactionServiceImpl</a>, <a href="../../../com/bigdata/service/TestDistributedTransactionServiceRestart.MockDistributedTransactionService.html" title="class in com.bigdata.service">TestDistributedTransactionServiceRestart.MockDistributedTransactionService</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">IDistributedTransactionService</span>
extends <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal">ITransactionService</a></pre>
<div class="block">Extended interface for distributed 2-phase transactions for an
 <a href="../../../com/bigdata/service/IBigdataFederation.html" title="interface in com.bigdata.service"><code>IBigdataFederation</code></a>.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd><a href="mailto:thompsonbry@users.sourceforge.net">Bryan Thompson</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/IDistributedTransactionService.html#committed(long,%20java.util.UUID)">committed</a></strong>(long&nbsp;tx,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataService)</code>
<div class="block">Sent by a task participating in a distributed commit of a transaction
 when the task has successfully committed the write set of the transaction
 on the live journal of the local <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/IDistributedTransactionService.html#declareResources(long,%20java.util.UUID,%20java.lang.String[])">declareResources</a></strong>(long&nbsp;tx,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataService,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;resource)</code>
<div class="block">An <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> MUST invoke this method before permitting an
 operation isolated by a read-write transaction to execute with access to
 the named resources (this applies only to distributed databases).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/bigdata/journal/IDistributedTransactionService.html#prepared(long,%20java.util.UUID)">prepared</a></strong>(long&nbsp;tx,
        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataService)</code>
<div class="block">Callback by an <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> participating in a two phase commit
 for a distributed transaction.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.ITransactionService">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal">ITransactionService</a></h3>
<code><a href="../../../com/bigdata/journal/ITransactionService.html#abort(long)">abort</a>, <a href="../../../com/bigdata/journal/ITransactionService.html#commit(long)">commit</a>, <a href="../../../com/bigdata/journal/ITransactionService.html#getLastCommitTime()">getLastCommitTime</a>, <a href="../../../com/bigdata/journal/ITransactionService.html#getReleaseTime()">getReleaseTime</a>, <a href="../../../com/bigdata/journal/ITransactionService.html#newTx(long)">newTx</a>, <a href="../../../com/bigdata/journal/ITransactionService.html#notifyCommit(long)">notifyCommit</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.journal.ITimestampService">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.journal.<a href="../../../com/bigdata/journal/ITimestampService.html" title="interface in com.bigdata.journal">ITimestampService</a></h3>
<code><a href="../../../com/bigdata/journal/ITimestampService.html#nextTimestamp()">nextTimestamp</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.bigdata.service.IService">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bigdata.service.<a href="../../../com/bigdata/service/IService.html" title="interface in com.bigdata.service">IService</a></h3>
<code><a href="../../../com/bigdata/service/IService.html#destroy()">destroy</a>, <a href="../../../com/bigdata/service/IService.html#getHostname()">getHostname</a>, <a href="../../../com/bigdata/service/IService.html#getServiceIface()">getServiceIface</a>, <a href="../../../com/bigdata/service/IService.html#getServiceName()">getServiceName</a>, <a href="../../../com/bigdata/service/IService.html#getServiceUUID()">getServiceUUID</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="declareResources(long, java.util.UUID, java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>declareResources</h4>
<pre>void&nbsp;declareResources(long&nbsp;tx,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataService,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;resource)
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">An <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> MUST invoke this method before permitting an
 operation isolated by a read-write transaction to execute with access to
 the named resources (this applies only to distributed databases). The
 declared resources are used in the commit phase of the read-write tx to
 impose a partial order on commits. That partial order guarantees that
 commits do not deadlock in contention for the same resources.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier.</dd><dd><code>dataService</code> - The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> an <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> on which the
            transaction will write.</dd><dd><code>resource</code> - An array of the named resources which the transaction will use
            on that <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> (this may be different for each
            operation submitted by that transaction to the
            <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="prepared(long, java.util.UUID)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepared</h4>
<pre>long&nbsp;prepared(long&nbsp;tx,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataService)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BrokenBarrierException.html?is-external=true" title="class or interface in java.util.concurrent">BrokenBarrierException</a></pre>
<div class="block">Callback by an <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> participating in a two phase commit
 for a distributed transaction. The <a href="../../../com/bigdata/journal/ITransactionService.html" title="interface in com.bigdata.journal"><code>ITransactionService</code></a> will wait
 until all <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>s have prepared. It will then choose a
 <i>commitTime</i> for the transaction and return that value to each
 <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>.
 <p>
 Note: If this method throws ANY exception then the task MUST cancel the
 commit, discard the local write set of the transaction, and note that the
 transaction is aborted in its local state.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier.</dd><dd><code>dataService</code> - The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> of the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> which sent the
            message.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The assigned commit time.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BrokenBarrierException.html?is-external=true" title="class or interface in java.util.concurrent">BrokenBarrierException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an RMI problem.</dd></dl>
</li>
</ul>
<a name="committed(long, java.util.UUID)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>committed</h4>
<pre>boolean&nbsp;committed(long&nbsp;tx,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;dataService)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BrokenBarrierException.html?is-external=true" title="class or interface in java.util.concurrent">BrokenBarrierException</a></pre>
<div class="block">Sent by a task participating in a distributed commit of a transaction
 when the task has successfully committed the write set of the transaction
 on the live journal of the local <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>. If this method
 returns <code>false</code> then the distributed commit has failed and
 the task MUST rollback the live journal to the previous commit point. If
 the return is <code>true</code> then the distributed commit was
 successful and the task should halt permitting the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a>
 to return from the <a href="../../../com/bigdata/service/ITxCommitProtocol.html#prepare(long,%20long)"><code>ITxCommitProtocol.prepare(long, long)</code></a> method.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - The transaction identifier.</dd><dd><code>dataService</code> - The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> of the <a href="../../../com/bigdata/service/IDataService.html" title="interface in com.bigdata.service"><code>IDataService</code></a> which sent the
            message.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the distributed commit was successfull and
         <code>false</code> if there was a problem.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BrokenBarrierException.html?is-external=true" title="class or interface in java.util.concurrent">BrokenBarrierException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IDistributedTransactionService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/bigdata/journal/IDiskBasedStrategy.html" title="interface in com.bigdata.journal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/bigdata/journal/IGISTLocalManager.html" title="interface in com.bigdata.journal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/bigdata/journal/IDistributedTransactionService.html" target="_top">Frames</a></li>
<li><a href="IDistributedTransactionService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016 <a href="https://www.blazegraph.com/">SYSTAP, LLC DBA Blazegraph</a>. All rights reserved.</small></p>
</body>
</html>
